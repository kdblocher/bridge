(this.webpackJsonpbridge=this.webpackJsonpbridge||[]).push([[0],{253:function(t,n,e){var r,i=e(546).wrap,a=e(537);t.exports=function t(){return this instanceof t?i(a()):r||(r=i(a()))}},336:function(t,n,e){},342:function(t,n){},344:function(t,n){},354:function(t,n){},356:function(t,n){},382:function(t,n){},383:function(t,n){},388:function(t,n){},390:function(t,n){},397:function(t,n){},416:function(t,n){},537:function(t,n,e){t.exports=function(){return new Worker(e.p+"a1db5638ade6732fb5ef.worker.js")}},545:function(t,n,e){"use strict";e.r(n);e(336),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r,i,a,u,c,o,s,l,h,f,p,m,d,v,b,g,j,O,k,S,y,x,_,C,A,w,R,B,F,M,D,N,P,E,$,q,H,I,Q,K,T,G,L,W,J,U=e(34),z=(e(337),e(54)),V=e(1),X=e(4),Y=e(26),Z=e(116),tt=e(78),nt=e(82),et=e(33),rt=e(76),it=e(12),at=e(47),ut=e(40);!function(t){t.Start="Start",t.Bid="Bid",t.BidSpecifier_1="BidSpecifier_1",t.BidSpecifier_2="BidSpecifier_2",t.Wildcard="Wildcard",t.SuitSpecifier_1="SuitSpecifier_1",t.SuitSpecifier_2="SuitSpecifier_2",t.SuitSpecifier_3="SuitSpecifier_3",t.Major="Major",t.Minor="Minor",t.Strain_1="Strain_1",t.Strain_2="Strain_2",t.Suit_1="Suit_1",t.Suit_2="Suit_2",t.Suit_3="Suit_3",t.Suit_4="Suit_4",t.Club="Club",t.Diamond="Diamond",t.Heart="Heart",t.Spade="Spade",t.Notrump="Notrump",t.ConstraintList="ConstraintList",t.ConstraintListItem="ConstraintListItem",t.Constraint_1="Constraint_1",t.Constraint_2="Constraint_2",t.Constraint_3="Constraint_3",t.Constraint_4="Constraint_4",t.Constraint_5="Constraint_5",t.Constraint_6="Constraint_6",t.Constraint_7="Constraint_7",t.Constraint_8="Constraint_8",t.Constraint_9="Constraint_9",t.Constraint_10="Constraint_10",t.Constraint_11="Constraint_11",t.Constraint_12="Constraint_12",t.Const_1="Const_1",t.Const_2="Const_2",t.True="True",t.False="False",t.Or="Or",t.And="And",t.Not="Not",t.Not_$0_1="Not_$0_1",t.Not_$0_2="Not_$0_2",t.PointRange="PointRange",t.PointBound="PointBound",t.SuitRange="SuitRange",t.SuitBound="SuitBound",t.SuitRangeSpecifier_1="SuitRangeSpecifier_1",t.SuitRangeSpecifier_2="SuitRangeSpecifier_2",t.SuitRangeSpecifier_3="SuitRangeSpecifier_3",t.OtherMajor="OtherMajor",t.OtherMinor="OtherMinor",t.SuitComparison="SuitComparison",t.SuitComparisonOperator_1="SuitComparisonOperator_1",t.SuitComparisonOperator_2="SuitComparisonOperator_2",t.SuitComparisonOperator_3="SuitComparisonOperator_3",t.SuitComparisonOperator_4="SuitComparisonOperator_4",t.SuitComparisonOperator_5="SuitComparisonOperator_5",t.BoundQualifier_1="BoundQualifier_1",t.BoundQualifier_2="BoundQualifier_2",t.BoundQualifier_3="BoundQualifier_3",t.Plus="Plus",t.Minus="Minus",t.Equals="Equals",t.Distribution_1="Distribution_1",t.Distribution_2="Distribution_2",t.Distribution_3="Distribution_3",t.Distribution_4="Distribution_4",t.Distribution_5="Distribution_5",t.Balanced="Balanced",t.SemiBalanced="SemiBalanced",t.Unbalanced="Unbalanced",t.AnyShape="AnyShape",t.SpecificShape="SpecificShape",t.SuitRank_1="SuitRank_1",t.SuitRank_2="SuitRank_2",t.Primary="Primary",t.Secondary="Secondary",t.Response_1="Response_1",t.Response_2="Response_2",t.Response_3="Response_3",t.Response_4="Response_4",t.ForceOneRound="ForceOneRound",t.ForceGame="ForceGame",t.ForceSlam="ForceSlam",t.Relay="Relay",t.Digit="Digit",t.Number="Number",t.$EOF="$EOF"}(J||(J={}));var ct=function t(n){Object(ut.a)(this,t),this.kind=J.Digit,this.literal=void 0,this.value=void 0,this.literal=n,this.value=parseInt(n)},ot=function t(n){Object(ut.a)(this,t),this.kind=J.Number,this.literal=void 0,this.value=void 0,this.literal=n,this.value=parseInt(n)},st=function(){function t(n){Object(ut.a)(this,t),this.input=void 0,this.pos=void 0,this.negating=!1,this.memoSafe=!0,this.$scope$Constraint$memo=new Map,this.pos={overallPos:0,line:1,offset:0},this.input=n}return Object(at.a)(t,[{key:"reset",value:function(t){this.pos=t}},{key:"finished",value:function(){return this.pos.overallPos===this.input.length}},{key:"clearMemos",value:function(){this.$scope$Constraint$memo.clear()}},{key:"matchStart",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.matchBid(t+1,n))&&null!==e.match$EOF(n)&&(i={kind:J.Start,bid:r}),i}))}},{key:"matchBid",value:function(t,n){var e=this;return this.run(t,(function(){var i,a,u,c=null;return null!==(i=e.matchDigit(t+1,n))&&null!==(a=e.matchBidSpecifier(t+1,n))&&null!==e.regexAccept(String.raw(r||(r=Object(it.a)(["(?:: )"]))),t+1,n)&&null!==(u=e.matchConstraintList(t+1,n))&&(c={kind:J.Bid,level:i,bid:a,constraints:u}),c}))}},{key:"matchBidSpecifier",value:function(t,n){var e=this;return this.choice([function(){return e.matchBidSpecifier_1(t+1,n)},function(){return e.matchBidSpecifier_2(t+1,n)}])}},{key:"matchBidSpecifier_1",value:function(t,n){return this.matchWildcard(t+1,n)}},{key:"matchBidSpecifier_2",value:function(t,n){return this.matchSuitSpecifier(t+1,n)}},{key:"matchWildcard",value:function(t,n){var e=this;return this.run(t,(function(){var r,a=null;return null!==(r=e.regexAccept(String.raw(i||(i=Object(it.a)(["(?:x)"]))),t+1,n))&&(a={kind:J.Wildcard,v:r}),a}))}},{key:"matchSuitSpecifier",value:function(t,n){var e=this;return this.choice([function(){return e.matchSuitSpecifier_1(t+1,n)},function(){return e.matchSuitSpecifier_2(t+1,n)},function(){return e.matchSuitSpecifier_3(t+1,n)}])}},{key:"matchSuitSpecifier_1",value:function(t,n){return this.matchMajor(t+1,n)}},{key:"matchSuitSpecifier_2",value:function(t,n){return this.matchMinor(t+1,n)}},{key:"matchSuitSpecifier_3",value:function(t,n){return this.matchStrain(t+1,n)}},{key:"matchMajor",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(a||(a=Object(it.a)(["(?:M)"]))),t+1,n))&&(i={kind:J.Major,v:r}),i}))}},{key:"matchMinor",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(u||(u=Object(it.a)(["(?:m)"]))),t+1,n))&&(i={kind:J.Minor,v:r}),i}))}},{key:"matchStrain",value:function(t,n){var e=this;return this.choice([function(){return e.matchStrain_1(t+1,n)},function(){return e.matchStrain_2(t+1,n)}])}},{key:"matchStrain_1",value:function(t,n){return this.matchSuit(t+1,n)}},{key:"matchStrain_2",value:function(t,n){return this.matchNotrump(t+1,n)}},{key:"matchSuit",value:function(t,n){var e=this;return this.choice([function(){return e.matchSuit_1(t+1,n)},function(){return e.matchSuit_2(t+1,n)},function(){return e.matchSuit_3(t+1,n)},function(){return e.matchSuit_4(t+1,n)}])}},{key:"matchSuit_1",value:function(t,n){return this.matchClub(t+1,n)}},{key:"matchSuit_2",value:function(t,n){return this.matchDiamond(t+1,n)}},{key:"matchSuit_3",value:function(t,n){return this.matchHeart(t+1,n)}},{key:"matchSuit_4",value:function(t,n){return this.matchSpade(t+1,n)}},{key:"matchClub",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(c||(c=Object(it.a)(["(?:[Cc\u2663\u2667])"]))),t+1,n))&&(i={kind:J.Club,v:r}),i}))}},{key:"matchDiamond",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(o||(o=Object(it.a)(["(?:[Dd\u2666\u2662])"]))),t+1,n))&&(i={kind:J.Diamond,v:r}),i}))}},{key:"matchHeart",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(s||(s=Object(it.a)(["(?:[Hh\u2665\u2661])"]))),t+1,n))&&(i={kind:J.Heart,v:r}),i}))}},{key:"matchSpade",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(l||(l=Object(it.a)(["(?:[Ss\u2660\u2664])"]))),t+1,n))&&(i={kind:J.Spade,v:r}),i}))}},{key:"matchNotrump",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(h||(h=Object(it.a)(["(?:[Nn])"]))),t+1,n))&&(e.regexAccept(String.raw(f||(f=Object(it.a)(["(?:[Tt])"]))),t+1,n),1)&&(i={kind:J.Notrump,v:r}),i}))}},{key:"matchConstraintList",value:function(t,n){var e=this;return this.loop((function(){return e.matchConstraintListItem(t+1,n)}),!1)}},{key:"matchConstraintListItem",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.matchConstraint(t+1,n))&&(e.regexAccept(String.raw(p||(p=Object(it.a)(["(?: )"]))),t+1,n),1)&&(i={kind:J.ConstraintListItem,constraint:r}),i}))}},{key:"matchConstraint",value:function(t,n){var e=this,r=this.mark(),i=this.$scope$Constraint$memo.get(r.overallPos);if(void 0!==i)return this.reset(i[1]),i[0];var a=this.memoSafe;this.memoSafe=!1,this.$scope$Constraint$memo.set(r.overallPos,[null,r]);for(var u=null,c=r;;){this.reset(r);var o=e.choice([function(){return e.matchConstraint_1(t+1,n)},function(){return e.matchConstraint_2(t+1,n)},function(){return e.matchConstraint_3(t+1,n)},function(){return e.matchConstraint_4(t+1,n)},function(){return e.matchConstraint_5(t+1,n)},function(){return e.matchConstraint_6(t+1,n)},function(){return e.matchConstraint_7(t+1,n)},function(){return e.matchConstraint_8(t+1,n)},function(){return e.matchConstraint_9(t+1,n)},function(){return e.matchConstraint_10(t+1,n)},function(){return e.matchConstraint_11(t+1,n)},function(){return e.matchConstraint_12(t+1,n)}]),s=this.mark();if(s.overallPos<=c.overallPos)break;u=o,c=s,this.$scope$Constraint$memo.set(r.overallPos,[u,c])}return this.reset(c),this.memoSafe=a,u}},{key:"matchConstraint_1",value:function(t,n){return this.matchConst(t+1,n)}},{key:"matchConstraint_2",value:function(t,n){return this.matchOr(t+1,n)}},{key:"matchConstraint_3",value:function(t,n){return this.matchAnd(t+1,n)}},{key:"matchConstraint_4",value:function(t,n){return this.matchNot(t+1,n)}},{key:"matchConstraint_5",value:function(t,n){return this.matchDistribution(t+1,n)}},{key:"matchConstraint_6",value:function(t,n){return this.matchResponse(t+1,n)}},{key:"matchConstraint_7",value:function(t,n){return this.matchSuitRange(t+1,n)}},{key:"matchConstraint_8",value:function(t,n){return this.matchSuitComparison(t+1,n)}},{key:"matchConstraint_9",value:function(t,n){return this.matchSuitBound(t+1,n)}},{key:"matchConstraint_10",value:function(t,n){return this.matchSuitRank(t+1,n)}},{key:"matchConstraint_11",value:function(t,n){return this.matchPointRange(t+1,n)}},{key:"matchConstraint_12",value:function(t,n){return this.matchPointBound(t+1,n)}},{key:"matchConst",value:function(t,n){var e=this;return this.choice([function(){return e.matchConst_1(t+1,n)},function(){return e.matchConst_2(t+1,n)}])}},{key:"matchConst_1",value:function(t,n){return this.matchTrue(t+1,n)}},{key:"matchConst_2",value:function(t,n){return this.matchFalse(t+1,n)}},{key:"matchTrue",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(m||(m=Object(it.a)(["(?:true)"]))),t+1,n))&&(i={kind:J.True,v:r}),i}))}},{key:"matchFalse",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(d||(d=Object(it.a)(["(?:false)"]))),t+1,n))&&(i={kind:J.False,v:r}),i}))}},{key:"matchOr",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a=null;return null!==(r=e.matchConstraint(t+1,n))&&null!==e.regexAccept(String.raw(v||(v=Object(it.a)(["(?: or )"]))),t+1,n)&&null!==(i=e.matchConstraint(t+1,n))&&(a={kind:J.Or,left:r,right:i}),a}))}},{key:"matchAnd",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==e.regexAccept(String.raw(b||(b=Object(it.a)(["(?:()"],["(?:\\()"]))),t+1,n)&&null!==(r=e.matchConstraintList(t+1,n))&&null!==e.regexAccept(String.raw(g||(g=Object(it.a)(["(?:))"],["(?:\\))"]))),t+1,n)&&(i={kind:J.And,constraints:r}),i}))}},{key:"matchNot",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==e.matchNot_$0(t+1,n)&&(e.regexAccept(String.raw(j||(j=Object(it.a)(["(?: )"]))),t+1,n),1)&&null!==(r=e.matchConstraint(t+1,n))&&(i={kind:J.Not,constraint:r}),i}))}},{key:"matchNot_$0",value:function(t,n){var e=this;return this.choice([function(){return e.matchNot_$0_1(t+1,n)},function(){return e.matchNot_$0_2(t+1,n)}])}},{key:"matchNot_$0_1",value:function(t,n){return this.regexAccept(String.raw(O||(O=Object(it.a)(["(?:not)"]))),t+1,n)}},{key:"matchNot_$0_2",value:function(t,n){return this.regexAccept(String.raw(k||(k=Object(it.a)(["(?:!)"]))),t+1,n)}},{key:"matchPointRange",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a=null;return null!==(r=e.matchNumber(t+1,n))&&null!==e.regexAccept(String.raw(S||(S=Object(it.a)(["(?:-)"]))),t+1,n)&&null!==(i=e.matchNumber(t+1,n))&&(a={kind:J.PointRange,lower:r,upper:i}),a}))}},{key:"matchPointBound",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a=null;return null!==(r=e.matchNumber(t+1,n))&&null!==(i=e.matchBoundQualifier(t+1,n))&&(a={kind:J.PointBound,value:r,qualifier:i}),a}))}},{key:"matchSuitRange",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a,u=null;return null!==(r=e.matchDigit(t+1,n))&&null!==e.regexAccept(String.raw(y||(y=Object(it.a)(["(?:-)"]))),t+1,n)&&null!==(i=e.matchDigit(t+1,n))&&null!==(a=e.matchSuitRangeSpecifier(t+1,n))&&(u={kind:J.SuitRange,lower:r,upper:i,suit:a}),u}))}},{key:"matchSuitBound",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a,u=null;return null!==(r=e.matchNumber(t+1,n))&&null!==(i=e.matchBoundQualifier(t+1,n))&&null!==(a=e.matchSuitRangeSpecifier(t+1,n))&&(u={kind:J.SuitBound,value:r,qualifier:i,suit:a}),u}))}},{key:"matchSuitRangeSpecifier",value:function(t,n){var e=this;return this.choice([function(){return e.matchSuitRangeSpecifier_1(t+1,n)},function(){return e.matchSuitRangeSpecifier_2(t+1,n)},function(){return e.matchSuitRangeSpecifier_3(t+1,n)}])}},{key:"matchSuitRangeSpecifier_1",value:function(t,n){return this.matchMajor(t+1,n)}},{key:"matchSuitRangeSpecifier_2",value:function(t,n){return this.matchMinor(t+1,n)}},{key:"matchSuitRangeSpecifier_3",value:function(t,n){return this.matchSuit(t+1,n)}},{key:"matchOtherMajor",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(x||(x=Object(it.a)(["(?:oM)"]))),t+1,n))&&(i={kind:J.OtherMajor,v:r}),i}))}},{key:"matchOtherMinor",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(_||(_=Object(it.a)(["(?:om)"]))),t+1,n))&&(i={kind:J.OtherMinor,v:r}),i}))}},{key:"matchSuitComparison",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a,u=null;return null!==(r=e.matchSuit(t+1,n))&&null!==(i=e.matchSuitComparisonOperator(t+1,n))&&null!==(a=e.matchSuit(t+1,n))&&(u={kind:J.SuitComparison,left:r,op:i,right:a}),u}))}},{key:"matchSuitComparisonOperator",value:function(t,n){var e=this;return this.choice([function(){return e.matchSuitComparisonOperator_1(t+1,n)},function(){return e.matchSuitComparisonOperator_2(t+1,n)},function(){return e.matchSuitComparisonOperator_3(t+1,n)},function(){return e.matchSuitComparisonOperator_4(t+1,n)},function(){return e.matchSuitComparisonOperator_5(t+1,n)}])}},{key:"matchSuitComparisonOperator_1",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(C||(C=Object(it.a)(["(?:<)"]))),t+1,n))&&(i={kind:J.SuitComparisonOperator_1,v:r}),i}))}},{key:"matchSuitComparisonOperator_2",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(A||(A=Object(it.a)(["(?:<=)"]))),t+1,n))&&(i={kind:J.SuitComparisonOperator_2,v:r}),i}))}},{key:"matchSuitComparisonOperator_3",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(w||(w=Object(it.a)(["(?:=)"]))),t+1,n))&&(i={kind:J.SuitComparisonOperator_3,v:r}),i}))}},{key:"matchSuitComparisonOperator_4",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(R||(R=Object(it.a)(["(?:>=)"]))),t+1,n))&&(i={kind:J.SuitComparisonOperator_4,v:r}),i}))}},{key:"matchSuitComparisonOperator_5",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(B||(B=Object(it.a)(["(?:>)"]))),t+1,n))&&(i={kind:J.SuitComparisonOperator_5,v:r}),i}))}},{key:"matchBoundQualifier",value:function(t,n){var e=this;return this.choice([function(){return e.matchBoundQualifier_1(t+1,n)},function(){return e.matchBoundQualifier_2(t+1,n)},function(){return e.matchBoundQualifier_3(t+1,n)}])}},{key:"matchBoundQualifier_1",value:function(t,n){return this.matchPlus(t+1,n)}},{key:"matchBoundQualifier_2",value:function(t,n){return this.matchMinus(t+1,n)}},{key:"matchBoundQualifier_3",value:function(t,n){return this.matchEquals(t+1,n)}},{key:"matchPlus",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(F||(F=Object(it.a)(["(?:+)"],["(?:\\+)"]))),t+1,n))&&(i={kind:J.Plus,v:r}),i}))}},{key:"matchMinus",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(M||(M=Object(it.a)(["(?:-)"],["(?:\\-)"]))),t+1,n))&&(i={kind:J.Minus,v:r}),i}))}},{key:"matchEquals",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(D||(D=Object(it.a)(["(?:=)"]))),t+1,n))&&(i={kind:J.Equals,v:r}),i}))}},{key:"matchDistribution",value:function(t,n){var e=this;return this.choice([function(){return e.matchDistribution_1(t+1,n)},function(){return e.matchDistribution_2(t+1,n)},function(){return e.matchDistribution_3(t+1,n)},function(){return e.matchDistribution_4(t+1,n)},function(){return e.matchDistribution_5(t+1,n)}])}},{key:"matchDistribution_1",value:function(t,n){return this.matchBalanced(t+1,n)}},{key:"matchDistribution_2",value:function(t,n){return this.matchSemiBalanced(t+1,n)}},{key:"matchDistribution_3",value:function(t,n){return this.matchUnbalanced(t+1,n)}},{key:"matchDistribution_4",value:function(t,n){return this.matchAnyShape(t+1,n)}},{key:"matchDistribution_5",value:function(t,n){return this.matchSpecificShape(t+1,n)}},{key:"matchBalanced",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(N||(N=Object(it.a)(["(?:BAL)"]))),t+1,n))&&(i={kind:J.Balanced,v:r}),i}))}},{key:"matchSemiBalanced",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(P||(P=Object(it.a)(["(?:semiBAL)"]))),t+1,n))&&(i={kind:J.SemiBalanced,v:r}),i}))}},{key:"matchUnbalanced",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(E||(E=Object(it.a)(["(?:unBAL)"]))),t+1,n))&&(i={kind:J.Unbalanced,v:r}),i}))}},{key:"matchAnyShape",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw($||($=Object(it.a)(["(?:[0-9]{4})"]))),t+1,n))&&null!==e.regexAccept(String.raw(q||(q=Object(it.a)(["(?:*)"],["(?:\\*)"]))),t+1,n)&&(i={kind:J.AnyShape,v:r}),i}))}},{key:"matchSpecificShape",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a,u,c=null;return null!==(r=e.matchDigit(t+1,n))&&null!==(i=e.matchDigit(t+1,n))&&null!==(a=e.matchDigit(t+1,n))&&null!==(u=e.matchDigit(t+1,n))&&(c={kind:J.SpecificShape,S:r,H:i,D:a,C:u}),c}))}},{key:"matchSuitRank",value:function(t,n){var e=this;return this.choice([function(){return e.matchSuitRank_1(t+1,n)},function(){return e.matchSuitRank_2(t+1,n)}])}},{key:"matchSuitRank_1",value:function(t,n){return this.matchPrimary(t+1,n)}},{key:"matchSuitRank_2",value:function(t,n){return this.matchSecondary(t+1,n)}},{key:"matchPrimary",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.matchSuit(t+1,n))&&null!==e.regexAccept(String.raw(H||(H=Object(it.a)(["(?:1)"]))),t+1,n)&&(i={kind:J.Primary,suit:r}),i}))}},{key:"matchSecondary",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.matchSuit(t+1,n))&&null!==e.regexAccept(String.raw(I||(I=Object(it.a)(["(?:2)"]))),t+1,n)&&(i={kind:J.Secondary,suit:r}),i}))}},{key:"matchResponse",value:function(t,n){var e=this;return this.choice([function(){return e.matchResponse_1(t+1,n)},function(){return e.matchResponse_2(t+1,n)},function(){return e.matchResponse_3(t+1,n)},function(){return e.matchResponse_4(t+1,n)}])}},{key:"matchResponse_1",value:function(t,n){return this.matchForceOneRound(t+1,n)}},{key:"matchResponse_2",value:function(t,n){return this.matchForceGame(t+1,n)}},{key:"matchResponse_3",value:function(t,n){return this.matchForceSlam(t+1,n)}},{key:"matchResponse_4",value:function(t,n){return this.matchRelay(t+1,n)}},{key:"matchForceOneRound",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(Q||(Q=Object(it.a)(["(?:F1)"]))),t+1,n))&&(i={kind:J.ForceOneRound,v:r}),i}))}},{key:"matchForceGame",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(K||(K=Object(it.a)(["(?:FG)"]))),t+1,n))&&(i={kind:J.ForceGame,v:r}),i}))}},{key:"matchForceSlam",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(T||(T=Object(it.a)(["(?:FS)"]))),t+1,n))&&(i={kind:J.ForceSlam,v:r}),i}))}},{key:"matchRelay",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a=null;return null!==e.regexAccept(String.raw(G||(G=Object(it.a)(["(?:->)"]))),t+1,n)&&null!==(r=e.matchNumber(t+1,n))&&null!==(i=e.matchStrain(t+1,n))&&(a={kind:J.Relay,level:r,strain:i}),a}))}},{key:"matchDigit",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(L||(L=Object(it.a)(["(?:[0-9])"]))),t+1,n))&&(i=new ct(r)),i}))}},{key:"matchNumber",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(W||(W=Object(it.a)(["(?:[0-9]+)"]))),t+1,n))&&(i=new ot(r)),i}))}},{key:"test",value:function(){var t=this.mark(),n=null!==this.matchStart(0);return this.reset(t),n}},{key:"parse",value:function(){var t=this.mark(),n=this.matchStart(0);if(n)return{ast:n,errs:[]};this.reset(t);var e=new vt;this.clearMemos(),this.matchStart(0,e);var r=e.getErr();return{ast:n,errs:null!==r?[r]:[]}}},{key:"mark",value:function(){return this.pos}},{key:"loop",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=this.mark(),r=[];;){var i=t();if(null===i)break;r.push(i)}return n||r.length>0?r:(this.reset(e),null)}},{key:"run",value:function(t,n){var e=this.mark(),r=n();return null!==r?r:(this.reset(e),null)}},{key:"choice",value:function(t){var n,e=Object(rt.a)(t);try{for(e.s();!(n=e.n()).done;){var r=(0,n.value)();if(null!==r)return r}}catch(i){e.e(i)}finally{e.f()}return null}},{key:"regexAccept",value:function(t,n,e){var r=this;return this.run(n,(function(){var n=new RegExp(t,"y"),i=r.mark();n.lastIndex=i.overallPos;var a=r.tryConsume(n);return e&&e.record(i,a,{kind:"RegexMatch",literal:t.substring(3,t.length-1),negated:r.negating}),a}))}},{key:"tryConsume",value:function(t){var n=t.exec(this.input);if(n){for(var e=0,r=-1,i=0;i<n[0].length;++i)"\n"===n[0][i]&&(++e,r=i);return this.pos={overallPos:t.lastIndex,line:this.pos.line+e,offset:-1===r?this.pos.offset+n[0].length:n[0].length-r-1},n[0]}return null}},{key:"noConsume",value:function(t){var n=this.mark(),e=t();return this.reset(n),e}},{key:"negate",value:function(t){var n=this.mark(),e=this.negating;this.negating=!e;var r=t();return this.negating=e,this.reset(n),null===r||null}},{key:"memoise",value:function(t,n){var e=this.mark(),r=n.get(e.overallPos);if(this.memoSafe&&void 0!==r)return this.reset(r[1]),r[0];var i=t();return this.memoSafe&&n.set(e.overallPos,[i,this.mark()]),i}},{key:"match$EOF",value:function(t){var n=this.finished()?{kind:J.$EOF}:null;return t&&t.record(this.mark(),n,{kind:"EOF",negated:this.negating}),n}}]),t}();var lt,ht,ft,pt,mt,dt=function(){function t(n,e){Object(ut.a)(this,t),this.pos=void 0,this.expmatches=void 0,this.pos=n,this.expmatches=Object(et.a)(e)}return Object(at.a)(t,[{key:"toString",value:function(){return"Syntax Error at line ".concat(this.pos.line,":").concat(this.pos.offset,". Expected one of ").concat(this.expmatches.map((function(t){return"EOF"===t.kind?" EOF":" ".concat(t.negated?"not ":"","'").concat(t.literal,"'")})))}}]),t}(),vt=function(){function t(){Object(ut.a)(this,t),this.mxpos={overallPos:-1,line:-1,offset:-1},this.regexset=new Set,this.pmatches=[]}return Object(at.a)(t,[{key:"record",value:function(t,n,e){null===n!==e.negated&&(t.overallPos>this.mxpos.overallPos&&(this.mxpos=t,this.pmatches=[],this.regexset.clear()),this.mxpos.overallPos===t.overallPos&&("RegexMatch"===e.kind?(this.regexset.has(e.literal)||this.pmatches.push(e),this.regexset.add(e.literal)):this.pmatches.push(e)))}},{key:"getErr",value:function(){return-1!==this.mxpos.overallPos?new dt(this.mxpos,this.pmatches):null}}]),t}(),bt=e(251),gt=e(118),jt=e(152),Ot=["C","D","H","S"],kt=V.e.eqStrict,St=Object(X.pipe)(V.f.Ord,V.i.reverse,V.i.contramap((function(t){return Ot.indexOf(t)}))),yt=["2","3","4","5","6","7","8","9","T","J","Q","K","A"],xt=gt.b(gt.c,(function(t){return t>=2&&t<=14}),"Rank"),_t=new gt.a("Rank",xt.is,xt.validate,(function(t){return yt[t-2]})),Ct=V.e.eqStrict,At=Object(X.pipe)(V.f.Ord,V.i.reverse),wt=V.e.struct({suit:kt,rank:Ct}),Rt=V.i.getMonoid().concat(Object(X.pipe)(St,V.i.contramap((function(t){return t.suit}))),Object(X.pipe)(At,V.i.contramap((function(t){return t.rank})))),Bt=Object(X.pipe)(52,V.l.makeBy((function(t){return{suit:Ot[Math.floor(t/13)],rank:_t.decode(t%13+2).right}}))),Ft=function(){return V.i.contramap((function(t){var n=Object(U.a)(t,2),e=n[0];n[1];return e}))(St)},Mt={S:[],H:[],D:[],C:[]},Dt=function(t){return Object(X.pipe)(t,V.n.toReadonlyArray(Rt),V.l.fromReadonlyArray,V.g.fold((function(){return Mt}),Object(X.flow)(V.l.groupBy((function(t){return t.suit})),V.m.map(V.l.map((function(t){return t.rank}))),V.m.union(V.k.getUnionMonoid(Ct))(Mt))))},Nt=["N","E","S","W"],Pt=(Object(X.pipe)(V.f.Ord,V.i.contramap((function(t){return Nt.indexOf(t)}))),[].concat(Object(et.a)(Ot),["N"])),Et=(V.a.sequenceS(V.k.Apply)({level:V.k.makeBy(7,(function(t){return t+1})),strain:Pt}),[0,0,0,0]),$t=function(t){return Object(X.pipe)(t,V.k.sort(V.i.reverse(V.f.Ord)))},qt=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return Object(X.pipe)(n,$t)},Ht=V.e.contramap($t)(V.k.getEq(V.f.Eq)),It={S:0,H:0,D:0,C:0},Qt=function(t){return Object(X.pipe)(t,V.n.toReadonlyArray(Rt),V.l.fromReadonlyArray,V.g.fold((function(){return It}),Object(X.flow)(V.l.groupBy((function(t){return t.suit})),V.m.map((function(t){return t.length})),V.m.union(Object(bt.first)())(It),(function(t){return t}))))},Kt=function(t){return Object(X.pipe)(t,Qt,V.m.toReadonlyArray,V.k.map(V.o.snd),(function(t){return V.k.mapWithIndex((function(n,e){return Object(X.pipe)(t,V.k.lookup(n),V.g.getOrElse((function(){return 0})))}))(Et)}))},Tt=Object(X.constant)({type:"Constant",value:!0}),Gt=Object(X.constant)({type:"Constant",value:!1}),Lt=function(t){return Object(X.pipe)(t,V.l.fromReadonlyArray,V.g.map(Object(X.flow)(V.l.map(Xt),V.c.fromPredicate((function(t){return t.length>=1}),(function(t){return t[0]})))))},Wt=function(t,n){return Object(X.flow)(Lt,V.d.match(V.g.Functor)(X.identity,(function(n){return{type:t,constraints:n}})),V.g.getOrElse(n))},Jt=function(t){return t.kind===J.Club?"C":t.kind===J.Diamond?"D":t.kind===J.Heart?"H":"S"},Ut=function(t){return t.kind===J.Notrump?"N":Jt(t)},zt=function(t){return t.kind===J.Major?"Major":t.kind===J.Minor?"Minor":Jt(t)},Vt=function(t,n){return function(e){return Object(X.pipe)(n,V.g.of,V.g.filter((function(n){return t.kind===J.Equals||"min"===e&&t.kind===J.Plus||"max"===e&&t.kind===J.Minus})))}},Xt=function t(n){switch(n.kind){case J.True:return Tt();case J.False:return Gt();case J.And:return Object(X.pipe)(n.constraints,V.k.map((function(t){return t.constraint})),Wt("Conjunction",Tt));case J.Or:return Object(X.pipe)(function t(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return n.kind===J.Or?t.apply(void 0,[n.left,n.right].concat(r)):Object(X.pipe)(r,V.l.fromReadonlyArray,V.g.fold((function(){return[n]}),(function(e){return[n].concat(Object(et.a)(t.apply(void 0,[e[0]].concat(Object(et.a)(e.slice(1))))))})))}(n.left,n.right),Wt("Disjunction",Gt));case J.Not:return{type:"Negation",constraint:t(n.constraint)};case J.PointRange:return{type:"PointRange",min:n.lower.value,max:n.upper.value};case J.PointBound:return{type:"PointRange",min:Object(X.pipe)(Vt(n.qualifier,n.value.value)("min"),V.g.getOrElse(Object(X.constant)(0))),max:Object(X.pipe)(Vt(n.qualifier,n.value.value)("max"),V.g.getOrElse(Object(X.constant)(37)))};case J.SuitRange:return{type:"SuitRange",min:n.lower.value,max:n.upper.value,suit:zt(n.suit)};case J.SuitComparison:return{type:"SuitComparison",op:n.op.v,left:Jt(n.left),right:Jt(n.right)};case J.Primary:case J.Secondary:return{type:"Suit".concat(n.kind),suit:Jt(n.suit)};case J.SuitBound:return{type:"SuitRange",min:Object(X.pipe)(Vt(n.qualifier,n.value.value)("min"),V.g.getOrElse(Object(X.constant)(0))),max:Object(X.pipe)(Vt(n.qualifier,n.value.value)("max"),V.g.getOrElse(Object(X.constant)(13))),suit:zt(n.suit)};case J.AnyShape:return{type:"AnyShape",counts:Object(X.pipe)(n.v,V.s.split(""),V.k.map(parseInt))};case J.SpecificShape:return{type:"SpecificShape",suits:Object(X.pipe)(It,V.m.mapWithIndex((function(t,e){return n[t].value})))};case J.Relay:return{type:"Relay",bid:{level:n.level.value,strain:Ut(n.strain)}};default:return{type:n.kind}}},Yt=function(t){return new st(t).parse()};!function(t){t.Start="Start",t.Hand="Hand",t.Suit="Suit",t.Card="Card",t.$EOF="$EOF"}(mt||(mt={}));var Zt=function t(n){Object(ut.a)(this,t),this.kind=mt.Card,this.c=void 0,this.rank=void 0,this.c=n,this.rank=["2","3","4","5","6","7","8","9","T","J","Q","K","A"].indexOf(n)+2},tn=function(){function t(n){Object(ut.a)(this,t),this.input=void 0,this.pos=void 0,this.negating=!1,this.memoSafe=!0,this.pos={overallPos:0,line:1,offset:0},this.input=n}return Object(at.a)(t,[{key:"reset",value:function(t){this.pos=t}},{key:"finished",value:function(){return this.pos.overallPos===this.input.length}},{key:"clearMemos",value:function(){}},{key:"matchStart",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.matchHand(t+1,n))&&null!==e.match$EOF(n)&&(i={kind:mt.Start,hand:r}),i}))}},{key:"matchHand",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a,u,c=null;return null!==(r=e.matchSuit(t+1,n))&&null!==e.regexAccept(String.raw(lt||(lt=Object(it.a)(["(?:.)"],["(?:\\.)"]))),t+1,n)&&null!==(i=e.matchSuit(t+1,n))&&null!==e.regexAccept(String.raw(ht||(ht=Object(it.a)(["(?:.)"],["(?:\\.)"]))),t+1,n)&&null!==(a=e.matchSuit(t+1,n))&&null!==e.regexAccept(String.raw(ft||(ft=Object(it.a)(["(?:.)"],["(?:\\.)"]))),t+1,n)&&null!==(u=e.matchSuit(t+1,n))&&(c={kind:mt.Hand,S:r,H:i,D:a,C:u}),c}))}},{key:"matchSuit",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.loop((function(){return e.matchCard(t+1,n)}),!0))&&(i={kind:mt.Suit,cards:r}),i}))}},{key:"matchCard",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(pt||(pt=Object(it.a)(["(?:[AKQJT2-9])"]))),t+1,n))&&(i=new Zt(r)),i}))}},{key:"test",value:function(){var t=this.mark(),n=null!==this.matchStart(0);return this.reset(t),n}},{key:"parse",value:function(){var t=this.mark(),n=this.matchStart(0);if(n)return{ast:n,errs:[]};this.reset(t);var e=new rn;this.clearMemos(),this.matchStart(0,e);var r=e.getErr();return{ast:n,errs:null!==r?[r]:[]}}},{key:"mark",value:function(){return this.pos}},{key:"loop",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=this.mark(),r=[];;){var i=t();if(null===i)break;r.push(i)}return n||r.length>0?r:(this.reset(e),null)}},{key:"run",value:function(t,n){var e=this.mark(),r=n();return null!==r?r:(this.reset(e),null)}},{key:"choice",value:function(t){var n,e=Object(rt.a)(t);try{for(e.s();!(n=e.n()).done;){var r=(0,n.value)();if(null!==r)return r}}catch(i){e.e(i)}finally{e.f()}return null}},{key:"regexAccept",value:function(t,n,e){var r=this;return this.run(n,(function(){var n=new RegExp(t,"y"),i=r.mark();n.lastIndex=i.overallPos;var a=r.tryConsume(n);return e&&e.record(i,a,{kind:"RegexMatch",literal:t.substring(3,t.length-1),negated:r.negating}),a}))}},{key:"tryConsume",value:function(t){var n=t.exec(this.input);if(n){for(var e=0,r=-1,i=0;i<n[0].length;++i)"\n"===n[0][i]&&(++e,r=i);return this.pos={overallPos:t.lastIndex,line:this.pos.line+e,offset:-1===r?this.pos.offset+n[0].length:n[0].length-r-1},n[0]}return null}},{key:"noConsume",value:function(t){var n=this.mark(),e=t();return this.reset(n),e}},{key:"negate",value:function(t){var n=this.mark(),e=this.negating;this.negating=!e;var r=t();return this.negating=e,this.reset(n),null===r||null}},{key:"memoise",value:function(t,n){var e=this.mark(),r=n.get(e.overallPos);if(this.memoSafe&&void 0!==r)return this.reset(r[1]),r[0];var i=t();return this.memoSafe&&n.set(e.overallPos,[i,this.mark()]),i}},{key:"match$EOF",value:function(t){var n=this.finished()?{kind:mt.$EOF}:null;return t&&t.record(this.mark(),n,{kind:"EOF",negated:this.negating}),n}}]),t}();var nn,en=function(){function t(n,e){Object(ut.a)(this,t),this.pos=void 0,this.expmatches=void 0,this.pos=n,this.expmatches=Object(et.a)(e)}return Object(at.a)(t,[{key:"toString",value:function(){return"Syntax Error at line ".concat(this.pos.line,":").concat(this.pos.offset,". Expected one of ").concat(this.expmatches.map((function(t){return"EOF"===t.kind?" EOF":" ".concat(t.negated?"not ":"","'").concat(t.literal,"'")})))}}]),t}(),rn=function(){function t(){Object(ut.a)(this,t),this.mxpos={overallPos:-1,line:-1,offset:-1},this.regexset=new Set,this.pmatches=[]}return Object(at.a)(t,[{key:"record",value:function(t,n,e){null===n!==e.negated&&(t.overallPos>this.mxpos.overallPos&&(this.mxpos=t,this.pmatches=[],this.regexset.clear()),this.mxpos.overallPos===t.overallPos&&("RegexMatch"===e.kind?(this.regexset.has(e.literal)||this.pmatches.push(e),this.regexset.add(e.literal)):this.pmatches.push(e)))}},{key:"getErr",value:function(){return-1!==this.mxpos.overallPos?new en(this.mxpos,this.pmatches):null}}]),t}(),an=function(t){return Object(X.pipe)(Ot,V.k.map(function(t){return function(n){return Object(X.pipe)(t[n].cards,V.k.map((function(t){return{suit:n,rank:_t.decode(t.rank).right}})))}}(t)),V.k.flatten,V.n.fromReadonlyArray(wt))},un={encode:Object(X.flow)(Dt,V.m.toReadonlyArray,V.k.sort(Ft()),V.k.map(Object(X.flow)(V.o.snd,V.k.sort(At),V.k.reduce("",(function(t,n){return t+yt[n-2]})))),V.k.intersperse("."),V.k.foldMap(V.s.Monoid)(X.identity))},cn=function(t){return new tn(t).parse()},on=function(t){return Object(X.pipe)(t,V.l.fromReadonlyArray,V.g.fold(Object(X.constant)(nt.a(null,"No syntax errors reported")),V.l.foldMapWithIndex(tt.getSemigroup())((function(t,n){return tt.of(Z.index(t,"required",tt.of(Z.leaf({pos:n.pos,expmatches:n.expmatches},n.toString()))))}))))},sn=function(t){return V.c.fromNullable(t.errs)(t.ast)},ln=function(t){return Object(X.pipe)(nt.c,nt.b(Object(X.flow)(t,sn,V.c.mapLeft(on))))},hn=Object(X.flow)(ln(Yt).decode,V.c.map((function(t){return{bid:{level:(n=t.bid).level.value,strain:Ut(n.bid)},constraint:Object(X.pipe)(n.constraints,V.k.map((function(t){return t.constraint})),Wt("Conjunction",Gt))};var n}))),fn=Object(X.flow)(ln(cn).decode,V.c.map((function(t){return an(t.hand)}))),pn=function(){return V.u.make({blockKey:"root",text:"root",bid:V.g.none})},mn={system:pn()},dn=function(t){return function(n){return Object(X.flow)(V.u.fold(n),(function(n){return t.map(n,V.l.tail)}))}},vn=dn(V.l.Functor)((function(t,n){return Object(X.pipe)(n,V.l.fromReadonlyArray,V.g.fold((function(){return[[t]]}),V.l.foldMap(V.l.getSemigroup())(V.l.map(V.k.prepend(t)))))})),bn=function(t){return dn(V.g.Functor)((function(n,e){return n.blockKey===t?V.g.some([n]):Object(X.pipe)(e,V.k.findFirstMap(V.g.map(V.k.prepend(n))))}))},gn=V.u.reduce([],(function(t,n){return Object(X.pipe)(t,V.k.append(n))})),jn=Object(z.c)({name:"system",initialState:mn,reducers:{setSystem:function(t,n){t.system=Object(X.pipe)(function(t){var n=pn(),e=[n];return t.forEach((function(t){var n=e[t.depth+1]={forest:[],value:{blockKey:t.key,text:t.text,bid:V.g.some(hn(t.text))}};e[t.depth].forest.push(n)})),n}(n.payload),Y.a)}}}),On=jn.actions.setSystem,kn=Object(X.flow)(V.k.map((function(t){return t.bid})),V.k.compact),Sn=function(t){return Object(X.pipe)(t.system,vn,V.l.map(Object(X.flow)(V.k.traverse(V.g.Applicative)((function(t){return t.bid})),V.g.chain(V.g.fromEitherK(V.k.sequence(V.c.Applicative))),V.g.chain(V.l.fromReadonlyArray))),V.k.compact)},yn=Object(X.flow)((function(t){return Object(X.pipe)(t.system,gn,V.k.map((function(t){return t.bid})),V.k.compact)}),V.k.separate,V.q.left),xn=jn.reducer,_n=e(55),Cn=e(6),An=e.n(Cn),wn=e(80),Rn=e.n(wn),Bn=e(153),Fn=function(t){throw new Error("shouldn't get here with ".concat(JSON.stringify(t)))},Mn=e(151),Dn=["Conjunction","Disjunction","Negation","ForceOneRound","ForceGame","ForceSlam","Relay","SuitPrimary","SuitSecondary"],Nn=function(t){return function(t){return V.k.elem(V.s.Eq)(t.type)(Dn)}(t)?V.c.left(t):V.c.right(t)},Pn=V.j.getMonoidAny(),En=V.j.getMonoidAll(),$n=X.constFalse,qn=(X.constTrue,Object(X.pipe)(Pn,V.k.foldMap)),Hn=Object(X.pipe)(En,V.k.foldMap),In=Object(X.flow)(V.n.toReadonlyArray(Rt),V.k.foldMap(V.f.MonoidSum)((function(t){return Math.max(0,t.rank-10)}))),Qn=Object(X.flow)((function(t){return V.i.between(V.f.Ord)(t.min,t.max)}),V.j.contramap(In)),Kn=function(t){var n="Major"===t.suit?["S","H"]:"Minor"===t.suit?["D","C"]:[t.suit];return Object(X.flow)(Qt,(function(e){return Object(X.pipe)(n,V.k.exists((function(n){return V.i.between(V.f.Ord)(t.min,t.max)(e[n])})))}))},Tn=function(t){return function(n,e){return Object(X.flow)(Qt,(function(r){return function(t){switch(t){case"<":return V.i.lt(V.f.Ord);case"<=":return V.i.leq(V.f.Ord);case"=":return V.f.Eq.equals;case">=":return V.i.geq(V.f.Ord);case">":return V.i.gt(V.f.Ord);default:return Fn(t)}}(t)(r[n],r[e])}))}},Gn=function(t){return Object(X.flow)(Kt,(function(n){return Ht.equals(t,n)}))},Ln=Object(X.pipe)([qt(4,3,3,3),qt(5,3,3,2),qt(4,4,3,2),qt(5,5,3,2)],qn(Gn)),Wn=Object(X.pipe)([qt(5,4,2,2),qt(6,3,2,2)],qn(Gn)),Jn={path:[],force:V.g.none,primarySuit:V.g.none,secondarySuit:V.g.none},Un=Bn.a.fromProp(),zn=Un("path"),Vn=Un("force"),Xn=Un("primarySuit"),Yn=Un("secondarySuit"),Zn=Bn.b.fromOptionProp(),te=(Zn("force"),Zn("primarySuit"),Zn("secondarySuit"),function(t){return function(n){return Object(X.flow)(V.r.traverseArray(n),V.r.map(t))}}),ne=te(qn(X.identity)),ee=te(Hn(X.identity)),re=function(t){switch(t.type){case"Constant":return Object(X.constant)(t.value);case"PointRange":return Qn(t);case"SuitRange":return Kn(t);case"SuitComparison":return Tn(t.op)(t.left,t.right);case"Balanced":return Ln;case"SemiBalanced":return V.j.or(Ln)(Wn);case"Unbalanced":return V.j.not(V.j.or(Ln)(Wn));case"AnyShape":return Gn(t.counts);case"SpecificShape":return n=t.suits,Object(X.flow)(Qt,(function(t){return V.p.getEq(Mn.eqStrict).equals(t,n)}));default:return Fn(t)}var n},ie=function(t){return V.r.chain((function(n){switch(n.type){case"Conjunction":return Object(X.pipe)(n.constraints,V.l.map((function(t){return function(n){return[t,n]}})),ee(t));case"Disjunction":return Object(X.pipe)(n.constraints,V.l.map((function(t){return function(n){return[t,n]}})),ne(t));case"Negation":return Object(X.pipe)(n.constraint,V.r.of,t,V.r.map(V.j.not));case"ForceOneRound":case"ForceGame":case"ForceSlam":case"Relay":return Object(X.pipe)(V.r.modify(Vn.set(V.g.some(n))),V.r.map((function(){return X.constTrue})));case"SuitPrimary":return Object(X.pipe)(V.r.modify(Xn.set(V.g.some(n.suit))),V.r.map((function(){return t=n.suit,Object(X.pipe)(Ot,V.k.splitAt(Ot.indexOf(t)),V.o.bimap(Object(X.flow)(V.k.tail,V.g.fold((function(){return[]}),V.k.map((function(n){return Tn("<")(n,t)})))),V.k.map((function(n){return Tn("<=")(n,t)}))),V.k.flatten,V.k.prepend(Kn({type:"SuitRange",suit:t,min:5,max:13})),Hn(X.identity));var t})));case"SuitSecondary":return Object(X.pipe)(V.r.modify(Yn.set(V.g.some(n.suit))),V.r.chain((function(){return V.r.gets((function(t){return t.primarySuit}))})),V.h.map(V.r.Functor)((e=n.suit,function(t){return Object(X.pipe)(V.k.Do,V.k.apS("suit",[e,t]),V.k.apS("otherSuit",Object(X.pipe)(Ot,V.k.difference(kt)([e,t]))),V.k.filter((function(t){var n=t.suit,e=t.otherSuit;return!kt.equals(n,e)})),V.k.map((function(t){var n=t.suit,e=t.otherSuit;return Tn(">")(n,e)})),V.k.concat([Kn({type:"SuitRange",suit:e,min:4,max:13}),Tn(">=")(t,e)]),Hn(X.identity))})),V.r.map(V.g.getOrElseW((function(){return $n}))));default:return Fn(n)}var e}))},ae=function t(n){return Object(X.pipe)(n,V.r.map(Nn),V.r.chain(V.c.fold(Object(X.flow)(V.r.of,ie(t)),(function(t){return Object(X.pipe)(V.r.of(re),V.r.ap(V.r.of(t)))}))))};Object(X.flow)((function(t){return Object(X.pipe)(t,V.r.of,ae)}),V.r.evaluate(Jn));!function(t){var n=Rn.a.mark(e);function e(t,e){return Rn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,t;case 3:return n.next=5,e;case 5:n.next=0;break;case 7:case"end":return n.stop()}}),n)}t.alternate=e;var r=t.unfold=function(t){return function(n){var e=n.next();return e.done||0===t?[]:[e.value].concat(Object(et.a)(r(t-1)(n)))}}}(nn||(nn={}));var ue,ce,oe,se,le,he,fe,pe=function(t,n){return function(e){return Object(X.pipe)(nn.alternate(t,n),nn.unfold(e.length),V.k.zip(e),V.r.traverseArray((function(t){var n=Object(U.a)(t,2),e=n[0],r=n[1];return Object(X.pipe)(V.r.of(r.constraint),ae,V.r.ap(V.r.of(e)),V.r.chain((function(t){return Object(X.pipe)(V.r.modify(zn.modify(V.k.prepend(r))),V.r.map((function(){return t})))})))})),V.r.map(V.k.foldMap(V.b.MonoidAll)(X.identity)),V.r.evaluate(Jn))}},me=e(28),de=me.f(V.n.toReadonlyArray(Rt),V.n.fromReadonlyArray(wt)),ve=(me.f(V.m.map(de.get),V.m.map(de.reverseGet)),ue=de,me.f(V.c.map(ue.get),V.c.map(ue.reverseGet))),be={selectedBlockKey:V.g.none},ge=function(t){return function(n){return Object(X.pipe)(n[t],V.c.right,ve.get,Y.a)}},je=Object(z.c)({name:"selection",initialState:be,reducers:{setSelectedBlockKey:function(t,n){t.selectedBlockKey=n.payload},setHand:{reducer:function(t,n){t[n.meta]=Object(X.pipe)(n.payload,fn,ve.get,Y.a)},prepare:function(t,n){return{payload:t,meta:n}}},genHands:function(t){var n,e=(n=Object(jt.b)(jt.a,Object(et.a)(Bt)),Object(X.pipe)(Nt,V.l.zip(V.l.chunksOf(13)(n)),V.l.groupBy(V.o.fst),V.m.map(Object(X.flow)(V.l.head,V.o.snd,V.n.fromReadonlyArray(wt))),(function(t){return t})));t.opener=ge("N")(e),t.responder=ge("S")(e)}}}),Oe=je.actions,ke=Oe.setSelectedBlockKey,Se=Oe.setHand,ye=Oe.genHands,xe=je.reducer,_e=function(t,n){return Object(X.pipe)(t[n],V.g.fromNullable,V.g.chain(Object(X.flow)(ve.reverseGet,V.g.fromEither)))},Ce=e(96),Ae=function(){return Object(Ce.b)()},we=Ce.c,Re=e(5),Be=function(){var t=Object(Cn.useState)((function(){return _n.EditorState.createEmpty()})),n=Object(U.a)(t,2),e=n[0],r=n[1],i=Ae(),a=Object(Cn.useCallback)((function(t){r(t),localStorage.setItem("editor",JSON.stringify(Object(_n.convertToRaw)(t.getCurrentContent()))),i(On(function(t){return t.getCurrentContent().getBlockMap().toArray().map((function(t){return{key:t.getKey(),text:t.getText(),depth:t.getDepth()}}))}(t))),i(ke(V.g.some(t.getSelection().getFocusKey())))}),[i]);return Object(Cn.useEffect)((function(){var t=localStorage.getItem("editor");r(t?function(){return _n.EditorState.createWithContent(Object(_n.convertFromRaw)(JSON.parse(t)))}:function(){return _n.RichUtils.toggleBlockType(e,"unordered-list-item")})}),[]),Object(Re.jsx)(_n.Editor,{editorState:e,onChange:a,keyBindingFn:function(t){if(9===t.keyCode){var n=_n.RichUtils.onTab(t,e,10);return n!==e&&a(n),null}return Object(_n.getDefaultKeyBinding)(t)}})},Fe=e(252),Me=e(253),De=e.n(Me),Ne=function(t){return function(){return(new De.a).genDeals(t)}},Pe="generator",Ee=window.navigator.hardwareConcurrency,$e=Object(z.b)("".concat(Pe,"/genDeals"),function(){var t=Object(Fe.a)(Rn.a.mark((function t(n){var e,r;return Rn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Math.floor(n/Ee),r=Math.floor(n%Ee),t.abrupt("return",Object(X.pipe)(V.k.makeBy(Ee-1,Object(X.constant)(Ne(e))),V.k.prepend(Ne(e+r)),V.t.sequenceArray,V.t.map(V.k.flatten),(function(t){return t()})));case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),qe=Object(z.c)({name:Pe,initialState:{deals:[],generating:!1},reducers:{},extraReducers:function(t){return t.addCase($e.pending,(function(t){t.generating=!0})).addCase($e.fulfilled,(function(t,n){t.deals=Object(X.pipe)(n.payload,V.k.map((function(t){return Object(X.pipe)(["N","S"],V.o.bimap((function(n){return t[n]}),(function(n){return t[n]})))})),Y.a),t.generating=!1})).addCase($e.rejected,(function(t){t.generating=!1}))}}).reducer,He={system:xn,selection:xe,generator:qe},Ie=function(t){return Object(X.pipe)(V.g.Do,V.g.apS("blockKey",t.selection.selectedBlockKey),V.g.apS("opener",_e(t.selection,"opener")),V.g.apS("responder",_e(t.selection,"responder")),V.g.chain((function(n){return Object(X.pipe)(V.c.Do,V.c.apS("bids",function(t,n){return Object(X.pipe)(bn(n)(t.system),V.g.getOrElse((function(){return[]})),kn,V.k.sequence(V.c.Applicative))}(t.system,n.blockKey)),V.c.map((function(t){return pe(n.opener,n.responder)(t.bids)})),V.g.fromEither)})),V.g.toNullable)},Qe=function(t){return Object(X.pipe)(V.g.Do,V.g.apS("opener",_e(t.selection,"opener")),V.g.apS("responder",_e(t.selection,"responder")),V.g.map((function(n){return Object(X.pipe)(Sn(t.system),V.k.map((function(t){return{path:t,result:pe(n.opener,n.responder)(t)}})))})),V.g.toNullable)},Ke=Object(X.pipe)(V.f.Ord,V.i.reverse,V.i.contramap((function(t){return t.count}))),Te=function(t){return Object(X.pipe)(V.k.Do,V.k.apS("deal",function(t){return Object(X.pipe)(t.deals,V.k.map(V.o.bimap(de.reverseGet,de.reverseGet)))}(t.generator)),V.k.apS("path",Sn(t.system)),V.k.map((function(t){return{path:t.path,result:pe(t.deal[0],t.deal[1])(t.path)}})),V.l.fromReadonlyArray,V.g.map(Object(X.flow)(V.l.groupBy((function(t){return Object(X.pipe)(t.path,V.k.map((function(t){return t.bid})),V.k.foldMap(V.s.Monoid)((function(t){return"".concat(t.level).concat(t.strain)})))})),V.m.map((function(t){return{path:t[0].path,count:Object(X.pipe)(t,V.k.filter((function(t){return t.result}))).length}})),V.m.toReadonlyArray,V.k.map(V.o.snd),V.k.sort(Ke))),V.g.toNullable)},Ge=function(){var t=we((function(t){return t.selection.selectedBlockKey})),n=we((function(n){return Object(X.pipe)(t,V.g.map((function(t){return function(t,n){return Object(X.pipe)(t.system,bn(n),V.g.toNullable)}(n.system,t)})),V.g.toNullable)})),e=we((function(n){return Object(X.pipe)(t,V.g.chain((function(t){return Object(X.pipe)(function(t,n){return Object(X.pipe)(t.system,bn(n),V.g.chain(V.k.last),V.g.toNullable)}(n.system,t),V.g.fromNullable)})),V.g.chain((function(t){return t.bid})),V.g.chain(V.g.fromEither),V.g.toNullable)})),r=we(Ie);return Object(Re.jsxs)("section",{children:[Object(Re.jsx)("h3",{children:"Selection"}),n&&Object(Re.jsxs)("div",{children:[Object(Re.jsx)("h4",{children:"Selected Path"}),n.map((function(t){return t.text})).join(" > ")]}),e&&Object(Re.jsxs)("div",{children:[Object(Re.jsx)("h4",{children:"Selected Bid"}),Object(X.pipe)(e,V.g.fromNullable,V.g.map(JSON.stringify),V.g.toNullable),null!==r&&Object(Re.jsxs)("div",{children:[Object(Re.jsx)("h4",{children:"Satisfies"}),r.toString()]})]})]})},Le=e(60),We=Le.a.span(ce||(ce=Object(it.a)(['\n  &.S::after { content: "\u2660"; color: #0000FF; }\n  &.H::after { content: "\u2665"; color: #FF0000; }\n  &.D::after { content: "\u2666"; color: #FFA500; }\n  &.C::after { content: "\u2663"; color: #32CD32; }\n  &.N::after { content: "NT" }\n']))),Je=function(t){var n=t.path;return Object(Re.jsx)(Re.Fragment,{children:n.map((function(t){return t.bid})).map((function(t){return Object(Re.jsxs)(Re.Fragment,{children:["\xa0",Object(Re.jsx)("span",{children:t.level}),Object(Re.jsx)(We,{className:t.strain})]})}))})},Ue=e(117),ze=function(){var t=we((function(t){return t.generator.generating})),n=Ae(),e=we((function(t){return Sn(t.system)})),r=we((function(t){return yn(t.system)})),i=null!==e&&e.length>0&&0===r.length,a=we(Te),u=Object(Cn.useState)(1e4),c=Object(U.a)(u,2),o=c[0],s=c[1];return Object(Re.jsxs)("section",{children:[Object(Re.jsx)("h3",{children:"Stats"}),!i&&Object(Re.jsxs)("div",{children:[Object(Re.jsx)("p",{children:"Select the system and/or fix errors"}),r.length>0&&Object(Re.jsxs)("div",{children:[Object(Re.jsx)("h4",{children:"Errors"}),Object(Re.jsx)("ul",{children:r.map((function(t,n){return Object(Re.jsx)("li",{children:Object(Ue.draw)(t)},n)}))})]})]}),i&&Object(Re.jsxs)("div",{children:[Object(Re.jsx)("button",{type:"button",onClick:function(){return n($e(o))},children:"Generate deals"}),Object(Re.jsx)("input",{type:"number",value:o,onChange:function(t){return s(parseInt(t.target.value))}}),t&&Object(Re.jsx)("span",{children:"Generating..."}),null!==a&&Object(Re.jsxs)("div",{children:[Object(Re.jsx)("h3",{children:"Results"}),Object(Re.jsx)("ul",{children:a.map((function(t,n){return Object(Re.jsxs)("li",{children:[Object(Re.jsx)(Je,{path:t.path}),": \xa0",Object(Re.jsx)("span",{children:t.count.toString()})]},n)}))})]})]})]})},Ve=function(t){var n=t.value,e=t.children,r=t.onNone;return Object(X.pipe)(n,V.g.fold((function(){return r?r():Object(Re.jsx)(Re.Fragment,{})}),e))},Xe=function(t){var n=t.type,e=Ae(),r=Object(Cn.useState)(""),i=Object(U.a)(r,2),a=i[0],u=i[1],c="hand.".concat(n),o=we((function(t){return Object(X.pipe)(_e(t.selection,n),V.g.map(un.encode),V.g.toNullable)})),s=Object(Cn.useCallback)((function(t){u(t),e(Se(t,n))}),[e,n]);return Object(Cn.useEffect)((function(){var t=localStorage.getItem(c);t&&s(t)}),[s,c,n]),Object(Re.jsx)("input",{type:"text",placeholder:"AKQJ.T987.654.32",value:null!==o&&void 0!==o?o:a,onChange:function(t){return s(t.target.value)},onBlur:function(){return localStorage.setItem(c,a)}})},Ye=Le.a.ol(oe||(oe=Object(it.a)(["\n  padding-left: 0;\n"]))),Ze=Le.a.li(se||(se=Object(it.a)(["\n  list-style-type: none;\n  display: inline;\n  float: left;\n"]))),tr=function(t){var n=t.rank;return Object(Re.jsx)(Ze,{children:yt[n-2]})},nr=Le.a.th(le||(le=Object(it.a)(["\n  width: 15em;\n"]))),er=Le.a.ol(he||(he=Object(it.a)(["\n  white-space: nowrap;\n  padding-left: 0;\n  list-style: decimal url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7) inside;\n"]))),rr=Le.a.li(fe||(fe=Object(it.a)(['\n  display: inline;\n  &::before {\n    display: inline;\n    float: left;\n    margin-left: 5px;\n  }\n  &.S::before { content: "\u2660"; color: #0000FF; }\n  &.H::before { content: "\u2665"; color: #FF0000; }\n  &.D::before { content: "\u2666"; color: #FFA500; }\n  &.C::before { content: "\u2663"; color: #32CD32; }\n']))),ir=function(t){var n=t.suit,e=t.ranks;return Object(Re.jsx)(rr,{className:n,children:Object(Re.jsxs)(Ye,{children:[e.map((function(t,n){return Object(Re.jsx)(tr,{rank:t},n)})),0===e.length&&Object(Re.jsx)(Ze,{children:"-"})]})})},ar=function(t){var n=t.type,e=we((function(t){return _e(t.selection,n)}));return Object(Re.jsx)(Re.Fragment,{children:e&&Object(Re.jsx)(Ve,{value:e,children:function(t){var n=Dt(t);return Object(Re.jsx)(er,{children:Object(X.pipe)(n,V.m.mapWithIndex((function(t,n){return Object(Re.jsx)(ir,{suit:t,ranks:n},t)})),V.m.toReadonlyArray,V.k.sort(Ft()),V.k.map(V.o.snd))})}})})},ur=function(){var t=Ae();return Object(Re.jsxs)("table",{children:[Object(Re.jsx)("thead",{children:Object(Re.jsxs)("tr",{children:[Object(Re.jsx)(nr,{children:"Opener"}),Object(Re.jsx)(nr,{children:"Responder"})]})}),Object(Re.jsxs)("tbody",{children:[Object(Re.jsxs)("tr",{children:[Object(Re.jsx)("td",{children:Object(Re.jsx)(Xe,{type:"opener"})}),Object(Re.jsx)("td",{children:Object(Re.jsx)(Xe,{type:"responder"})})]}),Object(Re.jsxs)("tr",{children:[Object(Re.jsx)("td",{children:Object(Re.jsx)(ar,{type:"opener"})}),Object(Re.jsx)("td",{children:Object(Re.jsx)(ar,{type:"responder"})})]}),Object(Re.jsx)("tr",{children:Object(Re.jsxs)("td",{children:[Object(Re.jsx)("button",{type:"button",onClick:function(){return t(ye())},children:"Generate"})," ",Object(Re.jsx)("br",{})]})})]})]})},cr=function(){var t=we(Qe);return Object(Re.jsxs)("section",{children:[Object(Re.jsx)("h3",{children:"Test Hands"}),Object(Re.jsx)(ur,{}),null!==t&&Object(Re.jsxs)("div",{children:[Object(Re.jsx)("h4",{children:"Results"}),Object(Re.jsx)("ul",{children:t.map((function(t,n){return Object(Re.jsxs)("li",{children:[Object(Re.jsx)(Je,{path:t.path}),": \xa0",Object(Re.jsx)("span",{children:t.result.toString()})]},n)}))})]})]})},or=function(){return Object(Re.jsxs)("div",{className:"App",children:[Object(Re.jsxs)("div",{style:{display:"inline-block",width:"50%"},children:[Object(Re.jsx)(Be,{}),"---",Object(Re.jsx)(ze,{})]}),Object(Re.jsxs)("div",{style:{display:"inline-block",width:"50%",float:"right"},children:[Object(Re.jsxs)("div",{style:{display:"inline-block",float:"right"},children:[Object(Re.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge#documentation",children:"Documentation"}),"\xa0|\xa0",Object(Re.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge/discussions",children:"Share ideas"}),"\xa0|\xa0",Object(Re.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge/issues/new",children:"Report issue"})]}),Object(Re.jsx)(cr,{}),Object(Re.jsx)(Ge,{})]})]})},sr=e(92),lr=e.n(sr),hr=Object(z.a)({reducer:He});lr.a.render(Object(Re.jsx)(An.a.StrictMode,{children:Object(Re.jsx)(Ce.a,{store:hr,children:Object(Re.jsx)(or,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[545,1,2]]]);
//# sourceMappingURL=main.2247d952.chunk.js.map