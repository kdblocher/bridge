(this.webpackJsonpbridge=this.webpackJsonpbridge||[]).push([[0],{300:function(t,e,n){var r,i=n(293).wrap,a=n(583);t.exports=function t(){return this instanceof t?i(a()):r||(r=i(a()))}},301:function(t,e,n){var r,i=n(293).wrap,a=n(584);t.exports=function t(){return this instanceof t?i(a()):r||(r=i(a()))}},386:function(t,e,n){},492:function(t,e){},494:function(t,e){},504:function(t,e){},506:function(t,e){},532:function(t,e){},533:function(t,e){},538:function(t,e){},540:function(t,e){},547:function(t,e){},566:function(t,e){},583:function(t,e,n){t.exports=function(){return new Worker(n.p+"8b40623215566a1fe40f.worker.js")}},584:function(t,e,n){t.exports=function(){return new Worker(n.p+"c05f493af36ad5ba49bd.worker.js")}},592:function(t,e,n){"use strict";n.r(e);n(386),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r,i,a=n(12),c=n(17),u=(n(387),n(79)),o=n(0),s=n(2),l=n(13),p=n.n(l),f=n(53),h=n(121),d=function(){return Object(h.b)()},m=h.c,b=n(10),j=n(40),O=n(197),v=n(34),y=n(41),g=n(63),S=n(9),k=function(t){throw new Error("shouldn't get here with ".concat(JSON.stringify(t)))},x=function(t){return Object(s.pipe)(o.h.Ord,o.k.contramap((function(e){return t.indexOf(e)})))},w=Object(s.flow)(x,o.k.reverse),C=n(58),_=n(198),A=["C","D","H","S"],R=o.f.eqStrict,B=w(A),P=(x(A),["2","3","4","5","6","7","8","9","T","J","Q","K","A"]),F=C.b(C.c,(function(t){return t>=2&&t<=14}),"Rank"),E=new C.a("Rank",F.is,F.validate,(function(t){return P[t-2]})),M=o.f.eqStrict,N=o.h.Ord,D=Object(s.pipe)(N,o.k.reverse),q=Object(s.pipe)(P,o.m.mapWithIndex((function(t,e){return Object(s.pipe)(t+2,E.decode,(function(t){return t.right}))}))),L=Object(s.pipe)(q,o.m.takeRight(5)),I=function(t){return Object(s.pipe)(P,o.m.findIndex((function(e){return o.w.Eq.equals(t,e)})),o.i.chain((function(t){return Object(s.pipe)(q,o.m.lookup(t))})))},T=o.f.struct({suit:R,rank:M}),H=o.k.getMonoid().concat(Object(s.pipe)(B,o.k.contramap((function(t){return t.suit}))),Object(s.pipe)(D,o.k.contramap((function(t){return t.rank})))),W=Object(s.pipe)(52,o.o.makeBy((function(t){return{suit:A[Math.floor(t/13)],rank:E.decode(t%13+2).right}}))),$=function(){return o.k.contramap((function(t){var e=Object(a.a)(t,2),n=e[0];e[1];return n}))(B)},z={S:[],H:[],D:[],C:[]},G=function(t){return Object(s.pipe)(t,o.q.toReadonlyArray(H),o.o.fromReadonlyArray,o.i.fold((function(){return z}),Object(s.flow)(o.o.groupBy((function(t){return t.suit})),o.p.map(o.o.map((function(t){return t.rank}))),o.p.union(o.m.getUnionMonoid(M))(z))))},K={engine:_.a.autoSeed()},V=function(){return Object(_.b)(K.engine,Object(b.a)(W))},U=["N","E","S","W"],Q=o.w.Eq,J=(x(U),o.w.Eq,x(["NorthSouth","EastWest"]),o.q.getEq(T)),X=o.p.getEq(J),Z=[].concat(Object(b.a)(A),["N"]),Y=o.f.eqStrict,tt=x(Z),et=["C","D"],nt=(o.f.struct({dealer:Q,deal:X}),function(t){switch(t%16+1){case 1:case 8:case 11:case 14:return"Neither";case 2:case 5:case 12:case 15:return"NorthSouth";case 3:case 6:case 9:case 16:return"EastWest";case 4:case 7:case 10:case 13:return"Both";default:throw Error("Not possible")}}),rt=["Pass","Double","Redouble"],it=o.w.Eq,at=function(t){return"string"===typeof t&&Object(s.pipe)(rt,o.m.elem(o.w.Eq)(t))},ct=o.f.struct({level:o.h.Eq,strain:o.w.Eq}),ut=o.k.getMonoid().concat(Object(s.pipe)(o.h.Ord,o.k.contramap((function(t){return t.level}))),Object(s.pipe)(tt,o.k.contramap((function(t){return t.strain})))),ot=Object(s.pipe)(o.a.sequenceS(o.m.Apply)({level:o.m.makeBy(7,(function(t){return t+1})),strain:Z}),o.m.sort(ut)),st=function(t){return!at(t)},lt=o.f.fromEquals((function(t,e){return at(t)&&at(e)&&it.equals(t,e)||!at(t)&&!at(e)&&ct.equals(t,e)})),pt=(o.f.struct({level:o.h.Eq,strain:o.w.Eq,modifier:o.w.Eq}),o.o.getEq(lt),Object(s.flow)(o.q.toReadonlyArray(H),o.m.foldMap(o.h.MonoidSum)((function(t){return e=t.rank,Math.max(0,e-10);var e})))),ft=[0,0,0,0],ht=function(t){return Object(s.pipe)(t,o.m.sort(o.k.reverse(o.h.Ord)))},dt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(s.pipe)(e,ht)},mt=o.f.contramap(ht)(o.m.getEq(o.h.Eq)),bt={S:0,H:0,D:0,C:0},jt=function(t){return Object(s.pipe)(t,G,o.p.map((function(t){return t.length})),o.p.union(o.t.first())(bt),(function(t){return t}))},Ot=function(t){return Object(s.pipe)(t,jt,o.p.toReadonlyArray,o.m.map(o.r.snd),(function(t){return o.m.mapWithIndex((function(e,n){return Object(s.pipe)(t,o.m.lookup(e),o.i.getOrElse((function(){return 0})))}))(ft)}))},vt=n(107),yt=n(36),gt=n(93),St=yt.f(o.q.toReadonlyArray(H),o.q.fromReadonlyArray(T)),kt=(r=St,yt.f(o.d.map(r.get),o.d.map(r.reverseGet))),xt=(Object(s.flow)(o.d.fromPredicate(gt.UuidTool.isUuid,(function(t){return vt.a(t,"Invalid uuid string")})),o.d.map((function(t){return new gt.Uuid(t)}))),function(t){return Object(s.pipe)(new gt.Uuid(t.id).toBytes(),o.m.takeLeft(13),o.m.chain(Object(s.flow)((function(t){return o.m.unfold([t,4],(function(t){var e=Object(a.a)(t,2),n=e[0],r=e[1];return 0===r?o.i.none:o.i.some([3&n,[n>>2,r-1]])}))}),o.m.reverse)))}),wt=C.b(C.e({id:C.d}),(function(t){return Object(s.pipe)(t,xt,o.m.reduce(o.b.replicate(4,0),(function(t,e){return t[e]+=1,t})),o.m.every((function(t){return 13===t})))}),"Deal"),Ct={encode:Object(s.flow)(xt,o.o.zip(Object(s.pipe)(W,o.o.sort(H))),o.o.map((function(t){var e=Object(a.a)(t,2),n=e[0],r=e[1];return[U[n],r]})),o.o.groupBy(o.r.fst),o.p.map(Object(s.flow)(o.o.map(o.r.snd),o.q.fromReadonlyArray(T))))},_t={encode:Object(s.flow)(o.p.foldMapWithIndex(o.k.trivial)(o.m.getMonoid())((function(t,e){return Object(s.pipe)(e,o.q.toReadonlyArray(o.k.trivial),o.m.map((function(e){return[e,U.indexOf(t)]})))})),o.m.sort(o.k.contramap((function(t){return t[0]}))(H)),o.m.map(o.r.snd),o.m.chunksOf(4),o.m.map(o.m.reduce(0,(function(t,e){return(t<<2)+e}))),o.m.concat(o.m.replicate(3,0)),o.m.toArray,(function(t){return wt.decode(new gt.Uuid(t)).right}))},At=yt.f(_t.encode,Ct.encode),Rt=yt.f((function(t){return Object(S.a)(Object(S.a)({},t),{},{deal:At.get(t.deal)})}),(function(t){return Object(S.a)(Object(S.a)({},t),{},{deal:At.reverseGet(t.deal)})})),Bt=yt.f((function(t){return"".concat(t.level).concat(t.strain)}),(function(t){return{level:parseInt(t.charAt(0)),strain:t.charAt(1)}})),Pt=yt.f((function(t){return at(t)?t:Bt.get(t)}),(function(t){return at(t)?t:Bt.reverseGet(t)})),Ft=C.b(C.d,(function(t){return Object(s.pipe)(t,o.w.split("."),o.m.every((function(t){return 2===t.length||at(t)})))}),"BidPath"),Et=yt.f(Object(s.flow)(o.m.map(Pt.get),o.m.intersperse("."),o.m.foldMap(o.w.Monoid)(s.identity),(function(t){return Ft.decode(t).right})),Object(s.flow)(o.w.split("."),o.o.map(Pt.reverseGet))),Mt=n(7),Nt=n.n(Mt),Dt=n(299),qt=n(122),Lt=Object(s.constant)({type:"Constant",value:!0}),It=(Object(s.constant)({type:"Constant",value:!1}),s.constFalse),Tt=(s.constTrue,function(t){return function(e){return o.m.foldMap(e)((function(t){return t}))(t)}}),Ht=function(t){return Object(s.pipe)(t,Tt,Object(s.apply)(o.l.getMonoidAny()))},Wt=function(t){return Object(s.pipe)(t,Tt,Object(s.apply)(o.l.getMonoidAll()))},$t=function(t){return o.k.between(o.h.Ord)(t.min,t.max)},zt=Object(s.flow)($t,o.l.contramap(pt)),Gt=function(t){return function(e){return Object(s.flow)(jt,(function(n){return Object(s.pipe)(t,$t,Object(s.apply)(n[e]))}))}},Kt=function(t){return function(e,n){return Object(s.flow)(jt,(function(r){return function(t){switch(t){case"<":return o.k.lt(o.h.Ord);case"<=":return o.k.leq(o.h.Ord);case"=":return o.h.Eq.equals;case">=":return o.k.geq(o.h.Ord);case">":return o.k.gt(o.h.Ord);default:return k(t)}}(t)(r[e],r[n])}))}},Vt=o.q.fromReadonlyArray(M),Ut=["Conjunction","Disjunction","Negation","ForceOneRound","ForceGame","ForceSlam","Relay","SuitPrimary","SuitSecondary"],Qt=function(t){return function(t){return o.m.elem(o.w.Eq)(t.type)(Ut)}(t)?o.d.left(t):o.d.right(t)},Jt=function(t){switch(t.type){case"Constant":return Object(s.constant)(t.value);case"PointRange":return zt(t);case"SuitRange":return Gt(t)(t.suit);case"SuitComparison":return Kt(t.op)(t.left,t.right);case"SuitHonors":return r=t,Object(s.flow)(G,o.p.lookup(r.suit),o.i.fold(s.constFalse,(function(t){var e=Object(s.pipe)(t,Vt,o.q.intersection(M)(Vt(L))),n=Object(s.pipe)(r.honors,Vt);return Object(s.pipe)(n,o.q.isSubset(M)(e))})));case"SuitTop":return n=t,Object(s.flow)(G,o.p.lookup(n.suit),o.i.fold(s.constFalse,Object(s.flow)(o.m.filter((function(t){return N.compare(t,n.minRank)>=0})),(function(t){return t.length>=n.count}))));case"AnyShape":return e=t.counts,Object(s.flow)(Ot,(function(t){return mt.equals(e,t)}));case"SpecificShape":return function(t){return Object(s.flow)(jt,(function(e){return o.s.getEq(Dt.eqStrict).equals(e,t)}))}(t.suits);default:return k(t)}var e,n,r},Xt=o.k.fromCompare((function(t,e){return st(t)&&!st(e)?-1:st(e)&&!st(t)?1:st(t)&&st(e)?ut.compare(t,e):0})),Zt=o.k.contramap((function(t){return t.bid}))(Xt),Yt={bid:{},path:[],force:o.i.none,primarySuit:o.i.none,secondarySuit:o.i.none},te=qt.a.fromProp(),ee=te("bid"),ne=te("path"),re=te("force"),ie=te("primarySuit"),ae=te("secondarySuit"),ce=qt.b.fromOptionProp(),ue=ce("force"),oe=(ce("primarySuit"),ce("secondarySuit"),function(t){return function(e){return Object(s.flow)(o.v.traverseArray(e),o.v.map(t))}}),se=function(t){return o.v.of(t)},le=function(t){return o.v.chain((function(e){switch(e.type){case"Conjunction":return Object(s.pipe)(e.constraints,o.o.map(se),(r=t,oe(Wt)(r)));case"Disjunction":return Object(s.pipe)(e.constraints,o.o.map(se),function(t){return oe(Ht)(t)}(t));case"Negation":return Object(s.pipe)(e.constraint,se,t,o.v.map(o.l.not));case"ForceOneRound":case"ForceGame":case"ForceSlam":case"Relay":return Object(s.pipe)(o.v.modify(re.set(o.i.some(e))),o.v.map((function(){return s.constTrue})));case"SuitPrimary":return Object(s.pipe)(o.v.modify(ie.set(o.i.some(e.suit))),o.v.map((function(){return t=e.suit,Object(s.pipe)(A,o.m.splitAt(A.indexOf(t)),o.r.bimap(Object(s.flow)(o.m.tail,o.i.fold((function(){return[]}),o.m.map((function(e){return Kt("<")(e,t)})))),o.m.map((function(e){return Kt("<=")(e,t)}))),o.m.flatten,o.m.prepend(Gt({min:5,max:13})(t)),Wt);var t})));case"SuitSecondary":return Object(s.pipe)(o.v.modify(ae.set(o.i.some(e.suit))),o.v.chain((function(){return o.v.gets((function(t){return t.primarySuit}))})),o.j.map(o.v.Functor)((n=e.suit,function(t){return Object(s.pipe)(o.m.Do,o.m.apS("suit",[n,t]),o.m.apS("otherSuit",Object(s.pipe)(A,o.m.difference(R)([n,t]))),o.m.filter((function(t){var e=t.suit,n=t.otherSuit;return!R.equals(e,n)})),o.m.map((function(t){var e=t.suit,n=t.otherSuit;return Kt(">")(e,n)})),o.m.concat([Gt({min:5,max:13})(n),Kt(">=")(t,n)]),Wt)})),o.v.map(o.i.getOrElseW((function(){return It}))));default:return k(e)}var n,r}))},pe=function t(e){return Object(s.pipe)(e,o.v.map(Qt),o.v.chain(o.d.fold(Object(s.flow)(o.v.of,le(t)),Object(s.flow)(o.v.flap,(function(t){return t(se(Jt))})))))};Object(s.flow)((function(t){return Object(s.pipe)(t,o.v.of,pe)}),o.v.evaluate(Yt));!function(t){var e=Nt.a.mark(n);function n(t,n){return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t;case 3:return e.next=5,n;case 5:e.next=0;break;case 7:case"end":return e.stop()}}),e)}t.alternate=n;var r=t.unfold=function(t){return function(e){var n=e.next();return n.done||0===t?[]:[n.value].concat(Object(b.a)(r(t-1)(e)))}}}(i||(i={}));var fe,he,de,me,be,je,Oe,ve,ye,ge,Se,ke,xe,we,Ce,_e,Ae,Re,Be,Pe,Fe,Ee,Me,Ne,De,qe,Le,Ie,Te,He,We,$e,ze,Ge,Ke,Ve,Ue,Qe,Je,Xe,Ze,Ye,tn,en,nn,rn,an,cn,un,on,sn,ln,pn,fn,hn,dn,mn=function(t){return Object(s.pipe)(t,o.v.bindTo("constraint"),o.v.apS("force",o.v.gets(ue.getOption)),o.v.apS("bid",o.v.gets(ee.get)),o.v.map((function(t){return Object(s.pipe)(t.force,o.i.chain(o.i.fromPredicate((function(e){return"Constant"===t.constraint.type&&!t.constraint.value&&"Relay"===e.type&&lt.equals(e.bid,t.bid)}))),o.i.fold((function(){return t.constraint}),Lt))})))},bn=function(t,e){return function(n){return Object(s.pipe)(i.alternate(t,e),i.unfold(n.length),o.m.zip(n),o.v.traverseArray((function(t){var e=Object(a.a)(t,2),n=e[0],r=e[1];return Object(s.pipe)(se(r.constraint),o.v.chainFirst((function(){return o.v.modify(ee.set(r.bid))})),mn,pe,o.v.flap(n),o.v.chainFirst((function(){return o.v.modify(ne.modify(o.m.prepend(r.bid)))})))})),o.v.map(o.m.foldMap(o.c.MonoidAll)(s.identity)),o.v.evaluate(Yt))}},jn=n(106),On=n(78),vn=function(t){return function(e){return o.m.findFirstMap(o.A.fold((function(n,r){return t.equals(n,e)?o.i.some([e]):Object(s.pipe)(r,o.m.findFirstMap(o.i.map(o.m.prepend(n))))})))}},yn=function(t){return Object(s.pipe)(t,o.m.chain(o.A.reduce([],(function(t,e){return Object(s.pipe)(t,o.m.append(e))}))))},gn=function(t){return Object(s.pipe)(t,o.m.map(Object(s.flow)(o.A.map(o.o.of),o.A.fold((function(t,e){return o.A.make(t,Object(s.pipe)(e,o.m.map(o.A.map((function(e){return o.o.concat(e)(t)}))),o.m.toArray))})))))},Sn=function(t){return Object(s.pipe)(t,o.m.chain(o.A.fold((function(t,e){return Object(s.pipe)(e,o.o.fromReadonlyArray,o.i.fold((function(){return[[t]]}),o.o.foldMap(o.o.getSemigroup())(o.o.map(o.m.prepend(t)))))}))),o.m.filterMap(o.o.fromReadonlyArray))},kn=function t(e){return function(n){return function(r){return o.A.make(Object(S.a)(Object(S.a)({},r.value),{},{siblings:n}),Object(s.pipe)(r.forest,o.m.map((function(n){return Object(s.pipe)(r.forest,o.m.map((function(t){return t.value})),o.m.difference(e)([n.value]),t(e))(n)})),o.m.toArray))}}},xn=function(t){return function(e){return Object(s.pipe)(e,o.m.map((function(n){return Object(s.pipe)(e,o.m.map((function(t){return t.value})),o.m.difference(t)([n.value]),kn(t))(n)})))}},wn=o.m.map(o.A.fold((function(t,e){return 0===e.length||Object(s.pipe)(e,o.m.exists((function(t){return"Pass"===t.value.bid})))?o.A.make(t,e):o.A.make(t,Object(s.pipe)(e,o.m.append(o.A.make({bid:"Pass",syntax:{type:"Otherwise"}})),o.m.toArray))}))),Cn=function(t){return Object(s.pipe)(t,o.m.map(o.A.traverse(o.z.getApplicative(o.m.getMonoid()))(o.d.mapLeft(o.m.of))),o.m.sequence(o.z.getApplicative(o.m.getSemigroup())))},_n=function(t){return function(e){return o.z.getChain(o.m.getSemigroup()).chain(e,t)}},An=function(t){return o.v.of(t)},Rn=function(t){return Object(s.pipe)(A,o.m.elem(o.w.Eq)(t))},Bn=function(t){return{type:"Wrapper",constraint:t}},Pn=Object(s.constant)({type:"Constant",value:!0}),Fn=Object(s.constant)({type:"Constant",value:!1}),En={bid:"Pass",pathReversed:[],siblings:o.m.empty,traversed:o.m.empty,labels:o.n.empty},Mn=qt.a.fromProp(),Nn=Mn("bid"),Dn=Mn("pathReversed"),qn=Mn("siblings"),Ln=Mn("traversed"),In=Mn("labels"),Tn=Object(s.pipe)(lt,o.f.contramap((function(t){return t.bid}))),Hn=Object(s.pipe)(o.v.gets(Nn.get),o.v.chain((function(t){return o.v.gets(Object(s.flow)(Ln.get,o.m.rights,o.m.takeLeftWhile((function(e){return!lt.equals(e.bid,t)})),o.m.map((function(t){return t.constraint}))))})),o.v.map(Object(s.flow)(o.o.fromReadonlyArray,o.i.fold(Lt,(function(t){return{type:"Negation",constraint:{type:"Conjunction",constraints:t}}})),o.d.left,o.d.right))),Wn=o.o.map((function(t){return Bn({type:"AnyShape",counts:t})})),$n={type:"Disjunction",syntax:Wn([dt(4,3,3,3),dt(5,3,3,2),dt(4,4,3,2)])},zn={type:"Disjunction",syntax:Wn([dt(5,4,2,2),dt(6,3,2,2)])},Gn=function(t){switch(t){case"C":case"D":case"H":case"S":return An(o.d.right(t));case"Wildcard":return Object(s.pipe)(o.v.gets(Object(s.flow)(Nn.get)),o.v.map(Object(s.flow)(o.d.fromPredicate(st,(function(t){return"WildcardWithoutBid"})),o.d.chain((function(t){return Object(s.pipe)(t.strain,o.d.fromPredicate(Rn,(function(t){return"WildcardInNTContext"})))})))));default:return An(o.d.left("NotImplemented"))}},Kn=function(t){return Object(s.pipe)(t,o.d.right,o.d.right,An)},Vn=function t(e){switch(e.type){case"Wrapper":return An(o.d.right(o.d.left(e.constraint)));case"Constant":return Kn(Bn({type:"Constant",value:e.value}));case"Conjunction":case"Disjunction":return function(t){var e=t.type,n=t.syntax;return Object(s.pipe)(n,o.o.traverse(o.v.Applicative)(Vn),o.v.map(Object(s.flow)(o.m.wilt(o.d.Applicative)((function(t){return t})),o.d.map(Object(s.flow)(o.u.bimap(o.o.fromReadonlyArray,o.o.fromReadonlyArray),(function(t){return o.z.fromOptions(t.left,t.right)}),o.i.fold((function(){return o.d.left(Lt())}),o.z.match((function(t){return o.d.left(1===t.length?t[0]:{type:e,constraints:t})}),(function(t){return o.d.right(1===t.length?t[0]:{type:e,syntax:t})}),(function(t,n){return o.d.right({type:e,syntax:[Bn({type:e,constraints:t}),{type:e,syntax:n}]})}))))))))}(e);case"Negation":return Object(s.pipe)(e.syntax,t,o.v.map(o.d.map(Object(s.flow)(o.d.bimap((function(t){return{type:"Negation",constraint:t}}),(function(t){return{type:"Negation",syntax:t}}))))));case"OtherBid":return n=e.bid,Object(s.pipe)(o.v.gets(Object(s.flow)(qn.get,o.m.findFirst((function(t){return lt.equals(t.bid,n)})),o.i.map((function(t){return t.syntax})))),o.j.alt(o.v.Monad)((function(){return o.v.gets(Object(s.flow)(In.get,o.n.lookup(o.w.Eq)(Pt.get(n))))})),o.v.map(Object(s.flow)(o.d.fromOption((function(){return"OtherBidNotFound"})),o.d.map(o.d.right))));case"Otherwise":return Hn;case"LabelDef":return function(t){return Object(s.pipe)(o.v.gets(Object(s.flow)(In.get,o.n.lookup(o.w.Eq)(t.name))),o.v.chain(o.i.fold((function(){return An(t.definition)}),(function(e){return An({type:"Conjunction",syntax:[e,t.definition]})}))),o.v.chainFirst((function(e){return o.v.modify(In.modify(o.n.upsertAt(o.w.Eq)(t.name,e)))})),o.v.map(Object(s.flow)(o.d.right,o.d.right)))}(e);case"LabelRef":return function(t){return Object(s.pipe)(o.v.gets(Object(s.flow)(In.get,o.n.lookup(o.w.Eq)(t.name))),o.v.map(Object(s.flow)(o.d.fromOption((function(){return"LabelNotFound"})),o.d.map(o.d.right))))}(e);case"Balanced":return Kn($n);case"SemiBalanced":return Kn({type:"Disjunction",syntax:[$n,zn]});case"Unbalanced":return Kn({type:"Negation",syntax:{type:"Disjunction",syntax:[$n,zn]}});case"SuitRange":case"SuitHonors":case"SuitPrimary":case"SuitSecondary":case"SuitTop":return Object(s.pipe)(e.suit,Gn,o.e.map(o.v.Functor)((function(t){return o.d.left(Object(S.a)(Object(S.a)({},e),{},{suit:t}))})));case"SuitComparison":return Object(s.pipe)([e.left,e.right],o.v.traverseArray(Gn),o.v.map(o.d.sequenceArray),o.e.map(o.v.Functor)((function(t){return o.d.left(Object(S.a)(Object(S.a)({},e),{},{left:t[0],right:t[1]}))})));default:return k(e)}var n},Un=function t(e){return Object(s.pipe)(e,Vn,o.v.chain(Object(s.flow)(o.d.mapLeft(o.d.left),o.d.chain(Object(s.flow)(o.d.mapLeft((function(t){return o.d.right(t)})))),o.d.fold(An,t))))},Qn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(s.pipe)(e,o.v.traverseArray(o.v.modify),o.v.map(s.constVoid))},Jn=o.A.map((function(t){var e=t.bid,n=t.syntax,r=t.siblings;return Object(s.pipe)(Qn(Nn.set(e),Dn.modify(o.m.prepend(e)),qn.set(r),In.modify(o.n.upsertAt(o.w.Eq)(Pt.get(e),n))),o.v.apSecond(Un(n)),o.v.chain((function(t){return Object(s.pipe)(o.v.gets(Dn.get),o.v.map((function(e){return Object(s.pipe)(t,o.d.mapLeft((function(t){return{reason:t,path:o.m.reverse(e),syntax:n}})))})))})),o.v.map(o.d.map((function(t){return{bid:e,constraint:t}}))))})),Xn=o.v.chainFirst((function(t){return Qn(Ln.modify(o.m.append(t.value)),Dn.modify(Object(s.flow)(o.m.tail,o.i.getOrElseW((function(){return o.m.empty})))))})),Zn=o.A.fold((function(t,e){return Object(s.pipe)(t,o.v.bindTo("result"),o.v.apS("context",o.v.get()),o.v.map((function(t){var n=t.result,r=t.context;return o.A.make(n,Object(s.pipe)(e,o.v.traverseArray(Xn),o.v.evaluate(r),o.m.toArray))})))})),Yn=n(23),tr=n(4),er=n(3);!function(t){t.Start="Start",t.BidSpec="BidSpec",t.BidSpecConstraintList="BidSpecConstraintList",t.Bid_1="Bid_1",t.Bid_2="Bid_2",t.ContractBid="ContractBid",t.StrainSpecifier_1="StrainSpecifier_1",t.StrainSpecifier_2="StrainSpecifier_2",t.StrainSpecifier_3="StrainSpecifier_3",t.StrainSpecifier_4="StrainSpecifier_4",t.Wildcard="Wildcard",t.Major="Major",t.Minor="Minor",t.NonContractBid="NonContractBid",t.Pass="Pass",t.Strain_1="Strain_1",t.Strain_2="Strain_2",t.Suit_1="Suit_1",t.Suit_2="Suit_2",t.Suit_3="Suit_3",t.Suit_4="Suit_4",t.Club="Club",t.Diamond="Diamond",t.Heart="Heart",t.Spade="Spade",t.Notrump="Notrump",t.Honor="Honor",t.ConstraintList="ConstraintList",t.ConstraintListItem="ConstraintListItem",t.Constraint_1="Constraint_1",t.Constraint_2="Constraint_2",t.Constraint_3="Constraint_3",t.Constraint_4="Constraint_4",t.Constraint_5="Constraint_5",t.Constraint_6="Constraint_6",t.Constraint_7="Constraint_7",t.Constraint_8="Constraint_8",t.Constraint_9="Constraint_9",t.Constraint_10="Constraint_10",t.Constraint_11="Constraint_11",t.Constraint_12="Constraint_12",t.Constraint_13="Constraint_13",t.Constraint_14="Constraint_14",t.Constraint_15="Constraint_15",t.Constraint_16="Constraint_16",t.Constraint_17="Constraint_17",t.Constraint_18="Constraint_18",t.Const_1="Const_1",t.Const_2="Const_2",t.True="True",t.False="False",t.Or="Or",t.And="And",t.Not="Not",t.Not_$0_1="Not_$0_1",t.Not_$0_2="Not_$0_2",t.Otherwise="Otherwise",t.PointRange="PointRange",t.PointBound="PointBound",t.SuitRange="SuitRange",t.SuitBound="SuitBound",t.SuitSpecifier_1="SuitSpecifier_1",t.SuitSpecifier_2="SuitSpecifier_2",t.SuitSpecifier_3="SuitSpecifier_3",t.SuitSpecifier_4="SuitSpecifier_4",t.SuitSpecifier_5="SuitSpecifier_5",t.SuitSpecifier_6="SuitSpecifier_6",t.OtherMajor="OtherMajor",t.OtherMinor="OtherMinor",t.SuitComparison="SuitComparison",t.SuitComparisonOperator_1="SuitComparisonOperator_1",t.SuitComparisonOperator_2="SuitComparisonOperator_2",t.SuitComparisonOperator_3="SuitComparisonOperator_3",t.SuitComparisonOperator_4="SuitComparisonOperator_4",t.SuitComparisonOperator_5="SuitComparisonOperator_5",t.SuitHonors="SuitHonors",t.SuitTop="SuitTop",t.BoundQualifier_1="BoundQualifier_1",t.BoundQualifier_2="BoundQualifier_2",t.BoundQualifier_3="BoundQualifier_3",t.Plus="Plus",t.Minus="Minus",t.Equals="Equals",t.OtherBid="OtherBid",t.Distribution_1="Distribution_1",t.Distribution_2="Distribution_2",t.Distribution_3="Distribution_3",t.Distribution_4="Distribution_4",t.Distribution_5="Distribution_5",t.Balanced="Balanced",t.SemiBalanced="SemiBalanced",t.Unbalanced="Unbalanced",t.AnyShape="AnyShape",t.SpecificShape="SpecificShape",t.SuitRank_1="SuitRank_1",t.SuitRank_2="SuitRank_2",t.Primary="Primary",t.Secondary="Secondary",t.Response_1="Response_1",t.Response_2="Response_2",t.Response_3="Response_3",t.Response_4="Response_4",t.ForceOneRound="ForceOneRound",t.ForceGame="ForceGame",t.ForceSlam="ForceSlam",t.Relay="Relay",t.LabelDef="LabelDef",t.LabelRef="LabelRef",t.Label="Label",t.Digit="Digit",t.Number="Number",t.$EOF="$EOF"}(dn||(dn={}));var nr=function t(e){Object(er.a)(this,t),this.kind=dn.Digit,this.literal=void 0,this.value=void 0,this.literal=e,this.value=parseInt(e)},rr=function t(e){Object(er.a)(this,t),this.kind=dn.Number,this.literal=void 0,this.value=void 0,this.literal=e,this.value=parseInt(e)},ir=function(){function t(e){Object(er.a)(this,t),this.input=void 0,this.pos=void 0,this.negating=!1,this.memoSafe=!0,this.$scope$Constraint$memo=new Map,this.pos={overallPos:0,line:1,offset:0},this.input=e}return Object(tr.a)(t,[{key:"reset",value:function(t){this.pos=t}},{key:"finished",value:function(){return this.pos.overallPos===this.input.length}},{key:"clearMemos",value:function(){this.$scope$Constraint$memo.clear()}},{key:"matchStart",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.matchBidSpec(t+1,e))&&null!==n.match$EOF(e)&&(i={kind:dn.Start,spec:r}),i}))}},{key:"matchBidSpec",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a=null;return null!==(r=n.matchBid(t+1,e))&&(i=n.matchBidSpecConstraintList(t+1,e),1)&&(a={kind:dn.BidSpec,bid:r,constraints:i}),a}))}},{key:"matchBidSpecConstraintList",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==n.regexAccept(String.raw(fe||(fe=Object(c.a)(["(?:: )"]))),t+1,e)&&null!==(r=n.matchConstraintList(t+1,e))&&(i={kind:dn.BidSpecConstraintList,constraints:r}),i}))}},{key:"matchBid",value:function(t,e){var n=this;return this.choice([function(){return n.matchBid_1(t+1,e)},function(){return n.matchBid_2(t+1,e)}])}},{key:"matchBid_1",value:function(t,e){return this.matchContractBid(t+1,e)}},{key:"matchBid_2",value:function(t,e){return this.matchNonContractBid(t+1,e)}},{key:"matchContractBid",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a=null;return null!==(r=n.matchDigit(t+1,e))&&null!==(i=n.matchStrainSpecifier(t+1,e))&&(a={kind:dn.ContractBid,level:r,specifier:i}),a}))}},{key:"matchStrainSpecifier",value:function(t,e){var n=this;return this.choice([function(){return n.matchStrainSpecifier_1(t+1,e)},function(){return n.matchStrainSpecifier_2(t+1,e)},function(){return n.matchStrainSpecifier_3(t+1,e)},function(){return n.matchStrainSpecifier_4(t+1,e)}])}},{key:"matchStrainSpecifier_1",value:function(t,e){return this.matchWildcard(t+1,e)}},{key:"matchStrainSpecifier_2",value:function(t,e){return this.matchMajor(t+1,e)}},{key:"matchStrainSpecifier_3",value:function(t,e){return this.matchMinor(t+1,e)}},{key:"matchStrainSpecifier_4",value:function(t,e){return this.matchStrain(t+1,e)}},{key:"matchWildcard",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(he||(he=Object(c.a)(["(?:X)"]))),t+1,e))&&(i={kind:dn.Wildcard,v:r}),i}))}},{key:"matchMajor",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(de||(de=Object(c.a)(["(?:M)"]))),t+1,e))&&(i={kind:dn.Major,v:r}),i}))}},{key:"matchMinor",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(me||(me=Object(c.a)(["(?:m)"]))),t+1,e))&&(i={kind:dn.Minor,v:r}),i}))}},{key:"matchNonContractBid",value:function(t,e){return this.matchPass(t+1,e)}},{key:"matchPass",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(be||(be=Object(c.a)(["(?:P)"]))),t+1,e))&&(i={kind:dn.Pass,v:r}),i}))}},{key:"matchStrain",value:function(t,e){var n=this;return this.choice([function(){return n.matchStrain_1(t+1,e)},function(){return n.matchStrain_2(t+1,e)}])}},{key:"matchStrain_1",value:function(t,e){return this.matchSuit(t+1,e)}},{key:"matchStrain_2",value:function(t,e){return this.matchNotrump(t+1,e)}},{key:"matchSuit",value:function(t,e){var n=this;return this.choice([function(){return n.matchSuit_1(t+1,e)},function(){return n.matchSuit_2(t+1,e)},function(){return n.matchSuit_3(t+1,e)},function(){return n.matchSuit_4(t+1,e)}])}},{key:"matchSuit_1",value:function(t,e){return this.matchClub(t+1,e)}},{key:"matchSuit_2",value:function(t,e){return this.matchDiamond(t+1,e)}},{key:"matchSuit_3",value:function(t,e){return this.matchHeart(t+1,e)}},{key:"matchSuit_4",value:function(t,e){return this.matchSpade(t+1,e)}},{key:"matchClub",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(je||(je=Object(c.a)(["(?:C)"]))),t+1,e))&&(i={kind:dn.Club,v:r}),i}))}},{key:"matchDiamond",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Oe||(Oe=Object(c.a)(["(?:D)"]))),t+1,e))&&(i={kind:dn.Diamond,v:r}),i}))}},{key:"matchHeart",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(ve||(ve=Object(c.a)(["(?:H)"]))),t+1,e))&&(i={kind:dn.Heart,v:r}),i}))}},{key:"matchSpade",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(ye||(ye=Object(c.a)(["(?:S)"]))),t+1,e))&&(i={kind:dn.Spade,v:r}),i}))}},{key:"matchNotrump",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(ge||(ge=Object(c.a)(["(?:N)"]))),t+1,e))&&(n.regexAccept(String.raw(Se||(Se=Object(c.a)(["(?:T)"]))),t+1,e),1)&&(i={kind:dn.Notrump,v:r}),i}))}},{key:"matchHonor",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(ke||(ke=Object(c.a)(["(?:[AKQJT])"]))),t+1,e))&&(i={kind:dn.Honor,v:r}),i}))}},{key:"matchConstraintList",value:function(t,e){var n=this;return this.loop((function(){return n.matchConstraintListItem(t+1,e)}),!1)}},{key:"matchConstraintListItem",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.matchConstraint(t+1,e))&&(n.regexAccept(String.raw(xe||(xe=Object(c.a)(["(?: )"]))),t+1,e),1)&&(i={kind:dn.ConstraintListItem,constraint:r}),i}))}},{key:"matchConstraint",value:function(t,e){var n=this,r=this.mark(),i=this.$scope$Constraint$memo.get(r.overallPos);if(void 0!==i)return this.reset(i[1]),i[0];var a=this.memoSafe;this.memoSafe=!1,this.$scope$Constraint$memo.set(r.overallPos,[null,r]);for(var c=null,u=r;;){this.reset(r);var o=n.choice([function(){return n.matchConstraint_1(t+1,e)},function(){return n.matchConstraint_2(t+1,e)},function(){return n.matchConstraint_3(t+1,e)},function(){return n.matchConstraint_4(t+1,e)},function(){return n.matchConstraint_5(t+1,e)},function(){return n.matchConstraint_6(t+1,e)},function(){return n.matchConstraint_7(t+1,e)},function(){return n.matchConstraint_8(t+1,e)},function(){return n.matchConstraint_9(t+1,e)},function(){return n.matchConstraint_10(t+1,e)},function(){return n.matchConstraint_11(t+1,e)},function(){return n.matchConstraint_12(t+1,e)},function(){return n.matchConstraint_13(t+1,e)},function(){return n.matchConstraint_14(t+1,e)},function(){return n.matchConstraint_15(t+1,e)},function(){return n.matchConstraint_16(t+1,e)},function(){return n.matchConstraint_17(t+1,e)},function(){return n.matchConstraint_18(t+1,e)}]),s=this.mark();if(s.overallPos<=u.overallPos)break;c=o,u=s,this.$scope$Constraint$memo.set(r.overallPos,[c,u])}return this.reset(u),this.memoSafe=a,c}},{key:"matchConstraint_1",value:function(t,e){return this.matchConst(t+1,e)}},{key:"matchConstraint_2",value:function(t,e){return this.matchOr(t+1,e)}},{key:"matchConstraint_3",value:function(t,e){return this.matchAnd(t+1,e)}},{key:"matchConstraint_4",value:function(t,e){return this.matchNot(t+1,e)}},{key:"matchConstraint_5",value:function(t,e){return this.matchOtherwise(t+1,e)}},{key:"matchConstraint_6",value:function(t,e){return this.matchDistribution(t+1,e)}},{key:"matchConstraint_7",value:function(t,e){return this.matchResponse(t+1,e)}},{key:"matchConstraint_8",value:function(t,e){return this.matchSuitRange(t+1,e)}},{key:"matchConstraint_9",value:function(t,e){return this.matchSuitBound(t+1,e)}},{key:"matchConstraint_10",value:function(t,e){return this.matchSuitComparison(t+1,e)}},{key:"matchConstraint_11",value:function(t,e){return this.matchSuitHonors(t+1,e)}},{key:"matchConstraint_12",value:function(t,e){return this.matchSuitTop(t+1,e)}},{key:"matchConstraint_13",value:function(t,e){return this.matchSuitRank(t+1,e)}},{key:"matchConstraint_14",value:function(t,e){return this.matchPointRange(t+1,e)}},{key:"matchConstraint_15",value:function(t,e){return this.matchPointBound(t+1,e)}},{key:"matchConstraint_16",value:function(t,e){return this.matchOtherBid(t+1,e)}},{key:"matchConstraint_17",value:function(t,e){return this.matchLabelDef(t+1,e)}},{key:"matchConstraint_18",value:function(t,e){return this.matchLabelRef(t+1,e)}},{key:"matchConst",value:function(t,e){var n=this;return this.choice([function(){return n.matchConst_1(t+1,e)},function(){return n.matchConst_2(t+1,e)}])}},{key:"matchConst_1",value:function(t,e){return this.matchTrue(t+1,e)}},{key:"matchConst_2",value:function(t,e){return this.matchFalse(t+1,e)}},{key:"matchTrue",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(we||(we=Object(c.a)(["(?:true)"]))),t+1,e))&&(i={kind:dn.True,v:r}),i}))}},{key:"matchFalse",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Ce||(Ce=Object(c.a)(["(?:false)"]))),t+1,e))&&(i={kind:dn.False,v:r}),i}))}},{key:"matchOr",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a=null;return null!==(r=n.matchConstraint(t+1,e))&&null!==n.regexAccept(String.raw(_e||(_e=Object(c.a)(["(?: or )"]))),t+1,e)&&null!==(i=n.matchConstraint(t+1,e))&&(a={kind:dn.Or,left:r,right:i}),a}))}},{key:"matchAnd",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==n.regexAccept(String.raw(Ae||(Ae=Object(c.a)(["(?:()"],["(?:\\()"]))),t+1,e)&&null!==(r=n.matchConstraintList(t+1,e))&&null!==n.regexAccept(String.raw(Re||(Re=Object(c.a)(["(?:))"],["(?:\\))"]))),t+1,e)&&(i={kind:dn.And,constraints:r}),i}))}},{key:"matchNot",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==n.matchNot_$0(t+1,e)&&(n.regexAccept(String.raw(Be||(Be=Object(c.a)(["(?: )"]))),t+1,e),1)&&null!==(r=n.matchConstraint(t+1,e))&&(i={kind:dn.Not,constraint:r}),i}))}},{key:"matchNot_$0",value:function(t,e){var n=this;return this.choice([function(){return n.matchNot_$0_1(t+1,e)},function(){return n.matchNot_$0_2(t+1,e)}])}},{key:"matchNot_$0_1",value:function(t,e){return this.regexAccept(String.raw(Pe||(Pe=Object(c.a)(["(?:not)"]))),t+1,e)}},{key:"matchNot_$0_2",value:function(t,e){return this.regexAccept(String.raw(Fe||(Fe=Object(c.a)(["(?:!)"]))),t+1,e)}},{key:"matchOtherwise",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Ee||(Ee=Object(c.a)(["(?:else)"]))),t+1,e))&&(i={kind:dn.Otherwise,v:r}),i}))}},{key:"matchPointRange",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a=null;return null!==(r=n.matchNumber(t+1,e))&&null!==n.regexAccept(String.raw(Me||(Me=Object(c.a)(["(?:-)"]))),t+1,e)&&null!==(i=n.matchNumber(t+1,e))&&(a={kind:dn.PointRange,lower:r,upper:i}),a}))}},{key:"matchPointBound",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a=null;return null!==(r=n.matchNumber(t+1,e))&&null!==(i=n.matchBoundQualifier(t+1,e))&&(a={kind:dn.PointBound,value:r,qualifier:i}),a}))}},{key:"matchSuitRange",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a,u=null;return null!==(r=n.matchDigit(t+1,e))&&null!==n.regexAccept(String.raw(Ne||(Ne=Object(c.a)(["(?:-)"]))),t+1,e)&&null!==(i=n.matchDigit(t+1,e))&&null!==(a=n.matchSuitSpecifier(t+1,e))&&(u={kind:dn.SuitRange,lower:r,upper:i,suit:a}),u}))}},{key:"matchSuitBound",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a,c=null;return null!==(r=n.matchNumber(t+1,e))&&null!==(i=n.matchBoundQualifier(t+1,e))&&null!==(a=n.matchSuitSpecifier(t+1,e))&&(c={kind:dn.SuitBound,value:r,qualifier:i,suit:a}),c}))}},{key:"matchSuitSpecifier",value:function(t,e){var n=this;return this.choice([function(){return n.matchSuitSpecifier_1(t+1,e)},function(){return n.matchSuitSpecifier_2(t+1,e)},function(){return n.matchSuitSpecifier_3(t+1,e)},function(){return n.matchSuitSpecifier_4(t+1,e)},function(){return n.matchSuitSpecifier_5(t+1,e)},function(){return n.matchSuitSpecifier_6(t+1,e)}])}},{key:"matchSuitSpecifier_1",value:function(t,e){return this.matchWildcard(t+1,e)}},{key:"matchSuitSpecifier_2",value:function(t,e){return this.matchMajor(t+1,e)}},{key:"matchSuitSpecifier_3",value:function(t,e){return this.matchMinor(t+1,e)}},{key:"matchSuitSpecifier_4",value:function(t,e){return this.matchOtherMajor(t+1,e)}},{key:"matchSuitSpecifier_5",value:function(t,e){return this.matchOtherMinor(t+1,e)}},{key:"matchSuitSpecifier_6",value:function(t,e){return this.matchSuit(t+1,e)}},{key:"matchOtherMajor",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(De||(De=Object(c.a)(["(?:oM)"]))),t+1,e))&&(i={kind:dn.OtherMajor,v:r}),i}))}},{key:"matchOtherMinor",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(qe||(qe=Object(c.a)(["(?:om)"]))),t+1,e))&&(i={kind:dn.OtherMinor,v:r}),i}))}},{key:"matchSuitComparison",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a,c=null;return null!==(r=n.matchSuitSpecifier(t+1,e))&&null!==(i=n.matchSuitComparisonOperator(t+1,e))&&null!==(a=n.matchSuitSpecifier(t+1,e))&&(c={kind:dn.SuitComparison,left:r,op:i,right:a}),c}))}},{key:"matchSuitComparisonOperator",value:function(t,e){var n=this;return this.choice([function(){return n.matchSuitComparisonOperator_1(t+1,e)},function(){return n.matchSuitComparisonOperator_2(t+1,e)},function(){return n.matchSuitComparisonOperator_3(t+1,e)},function(){return n.matchSuitComparisonOperator_4(t+1,e)},function(){return n.matchSuitComparisonOperator_5(t+1,e)}])}},{key:"matchSuitComparisonOperator_1",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Le||(Le=Object(c.a)(["(?:<=)"]))),t+1,e))&&(i={kind:dn.SuitComparisonOperator_1,v:r}),i}))}},{key:"matchSuitComparisonOperator_2",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Ie||(Ie=Object(c.a)(["(?:>=)"]))),t+1,e))&&(i={kind:dn.SuitComparisonOperator_2,v:r}),i}))}},{key:"matchSuitComparisonOperator_3",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Te||(Te=Object(c.a)(["(?:=)"]))),t+1,e))&&(i={kind:dn.SuitComparisonOperator_3,v:r}),i}))}},{key:"matchSuitComparisonOperator_4",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(He||(He=Object(c.a)(["(?:<)"]))),t+1,e))&&(i={kind:dn.SuitComparisonOperator_4,v:r}),i}))}},{key:"matchSuitComparisonOperator_5",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(We||(We=Object(c.a)(["(?:>)"]))),t+1,e))&&(i={kind:dn.SuitComparisonOperator_5,v:r}),i}))}},{key:"matchSuitHonors",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a=null;return null!==(r=n.matchSuitSpecifier(t+1,e))&&null!==(i=n.loop((function(){return n.matchHonor(t+1,e)}),!1))&&(a={kind:dn.SuitHonors,suit:r,honors:i}),a}))}},{key:"matchSuitTop",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a,u=null;return null!==(r=n.matchSuitSpecifier(t+1,e))&&null!==(i=n.regexAccept(String.raw($e||($e=Object(c.a)(["(?:[0-5])"]))),t+1,e))&&null!==n.regexAccept(String.raw(ze||(ze=Object(c.a)(["(?:/)"]))),t+1,e)&&null!==(a=n.regexAccept(String.raw(Ge||(Ge=Object(c.a)(["(?:[1-5])"]))),t+1,e))&&(u={kind:dn.SuitTop,suit:r,x:i,y:a}),u}))}},{key:"matchBoundQualifier",value:function(t,e){var n=this;return this.choice([function(){return n.matchBoundQualifier_1(t+1,e)},function(){return n.matchBoundQualifier_2(t+1,e)},function(){return n.matchBoundQualifier_3(t+1,e)}])}},{key:"matchBoundQualifier_1",value:function(t,e){return this.matchPlus(t+1,e)}},{key:"matchBoundQualifier_2",value:function(t,e){return this.matchMinus(t+1,e)}},{key:"matchBoundQualifier_3",value:function(t,e){return this.matchEquals(t+1,e)}},{key:"matchPlus",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Ke||(Ke=Object(c.a)(["(?:+)"],["(?:\\+)"]))),t+1,e))&&(i={kind:dn.Plus,v:r}),i}))}},{key:"matchMinus",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Ve||(Ve=Object(c.a)(["(?:-)"],["(?:\\-)"]))),t+1,e))&&(i={kind:dn.Minus,v:r}),i}))}},{key:"matchEquals",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Ue||(Ue=Object(c.a)(["(?:=)"]))),t+1,e))&&(i={kind:dn.Equals,v:r}),i}))}},{key:"matchOtherBid",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a=null;return null!==(r=n.matchNumber(t+1,e))&&null!==(i=n.matchStrain(t+1,e))&&(a={kind:dn.OtherBid,level:r,strain:i}),a}))}},{key:"matchDistribution",value:function(t,e){var n=this;return this.choice([function(){return n.matchDistribution_1(t+1,e)},function(){return n.matchDistribution_2(t+1,e)},function(){return n.matchDistribution_3(t+1,e)},function(){return n.matchDistribution_4(t+1,e)},function(){return n.matchDistribution_5(t+1,e)}])}},{key:"matchDistribution_1",value:function(t,e){return this.matchBalanced(t+1,e)}},{key:"matchDistribution_2",value:function(t,e){return this.matchSemiBalanced(t+1,e)}},{key:"matchDistribution_3",value:function(t,e){return this.matchUnbalanced(t+1,e)}},{key:"matchDistribution_4",value:function(t,e){return this.matchAnyShape(t+1,e)}},{key:"matchDistribution_5",value:function(t,e){return this.matchSpecificShape(t+1,e)}},{key:"matchBalanced",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Qe||(Qe=Object(c.a)(["(?:BAL)"]))),t+1,e))&&(i={kind:dn.Balanced,v:r}),i}))}},{key:"matchSemiBalanced",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Je||(Je=Object(c.a)(["(?:semiBAL)"]))),t+1,e))&&(i={kind:dn.SemiBalanced,v:r}),i}))}},{key:"matchUnbalanced",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Xe||(Xe=Object(c.a)(["(?:unBAL)"]))),t+1,e))&&(i={kind:dn.Unbalanced,v:r}),i}))}},{key:"matchAnyShape",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Ze||(Ze=Object(c.a)(["(?:[0-9]{4})"]))),t+1,e))&&null!==n.regexAccept(String.raw(Ye||(Ye=Object(c.a)(["(?:*)"],["(?:\\*)"]))),t+1,e)&&(i={kind:dn.AnyShape,v:r}),i}))}},{key:"matchSpecificShape",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a,c,u=null;return null!==(r=n.matchDigit(t+1,e))&&null!==(i=n.matchDigit(t+1,e))&&null!==(a=n.matchDigit(t+1,e))&&null!==(c=n.matchDigit(t+1,e))&&(u={kind:dn.SpecificShape,S:r,H:i,D:a,C:c}),u}))}},{key:"matchSuitRank",value:function(t,e){var n=this;return this.choice([function(){return n.matchSuitRank_1(t+1,e)},function(){return n.matchSuitRank_2(t+1,e)}])}},{key:"matchSuitRank_1",value:function(t,e){return this.matchPrimary(t+1,e)}},{key:"matchSuitRank_2",value:function(t,e){return this.matchSecondary(t+1,e)}},{key:"matchPrimary",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.matchSuitSpecifier(t+1,e))&&null!==n.regexAccept(String.raw(tn||(tn=Object(c.a)(["(?:1)"]))),t+1,e)&&(i={kind:dn.Primary,suit:r}),i}))}},{key:"matchSecondary",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.matchSuitSpecifier(t+1,e))&&null!==n.regexAccept(String.raw(en||(en=Object(c.a)(["(?:2)"]))),t+1,e)&&(i={kind:dn.Secondary,suit:r}),i}))}},{key:"matchResponse",value:function(t,e){var n=this;return this.choice([function(){return n.matchResponse_1(t+1,e)},function(){return n.matchResponse_2(t+1,e)},function(){return n.matchResponse_3(t+1,e)},function(){return n.matchResponse_4(t+1,e)}])}},{key:"matchResponse_1",value:function(t,e){return this.matchForceOneRound(t+1,e)}},{key:"matchResponse_2",value:function(t,e){return this.matchForceGame(t+1,e)}},{key:"matchResponse_3",value:function(t,e){return this.matchForceSlam(t+1,e)}},{key:"matchResponse_4",value:function(t,e){return this.matchRelay(t+1,e)}},{key:"matchForceOneRound",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(nn||(nn=Object(c.a)(["(?:F1)"]))),t+1,e))&&(i={kind:dn.ForceOneRound,v:r}),i}))}},{key:"matchForceGame",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(rn||(rn=Object(c.a)(["(?:FG)"]))),t+1,e))&&(i={kind:dn.ForceGame,v:r}),i}))}},{key:"matchForceSlam",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(an||(an=Object(c.a)(["(?:FS)"]))),t+1,e))&&(i={kind:dn.ForceSlam,v:r}),i}))}},{key:"matchRelay",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==n.regexAccept(String.raw(cn||(cn=Object(c.a)(["(?:->)"]))),t+1,e)&&null!==(r=n.matchOtherBid(t+1,e))&&(i={kind:dn.Relay,bid:r}),i}))}},{key:"matchLabelDef",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a=null;return null!==n.regexAccept(String.raw(un||(un=Object(c.a)(["(?:')"],["(?:\\')"]))),t+1,e)&&null!==(r=n.matchLabel(t+1,e))&&null!==n.regexAccept(String.raw(on||(on=Object(c.a)(["(?:': )"],["(?:\\': )"]))),t+1,e)&&null!==(i=n.matchConstraintList(t+1,e))&&(a={kind:dn.LabelDef,label:r,constraints:i}),a}))}},{key:"matchLabelRef",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==n.regexAccept(String.raw(sn||(sn=Object(c.a)(["(?:')"],["(?:\\')"]))),t+1,e)&&null!==(r=n.matchLabel(t+1,e))&&null!==n.regexAccept(String.raw(ln||(ln=Object(c.a)(["(?:')"],["(?:\\')"]))),t+1,e)&&(i={kind:dn.LabelRef,label:r}),i}))}},{key:"matchLabel",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(pn||(pn=Object(c.a)(["(?:[0-9a-zA-z-_]+)"]))),t+1,e))&&(i={kind:dn.Label,v:r}),i}))}},{key:"matchDigit",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(fn||(fn=Object(c.a)(["(?:[0-9])"]))),t+1,e))&&(i=new nr(r)),i}))}},{key:"matchNumber",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(hn||(hn=Object(c.a)(["(?:[0-9]+)"]))),t+1,e))&&(i=new rr(r)),i}))}},{key:"test",value:function(){var t=this.mark(),e=null!==this.matchStart(0);return this.reset(t),e}},{key:"parse",value:function(){var t=this.mark(),e=this.matchStart(0);if(e)return{ast:e,errs:[]};this.reset(t);var n=new pr;this.clearMemos(),this.matchStart(0,n);var r=n.getErr();return{ast:e,errs:null!==r?[r]:[]}}},{key:"mark",value:function(){return this.pos}},{key:"loop",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.mark(),r=[];;){var i=t();if(null===i)break;r.push(i)}return e||r.length>0?r:(this.reset(n),null)}},{key:"run",value:function(t,e){var n=this.mark(),r=e();return null!==r?r:(this.reset(n),null)}},{key:"choice",value:function(t){var e,n=Object(Yn.a)(t);try{for(n.s();!(e=n.n()).done;){var r=(0,e.value)();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"regexAccept",value:function(t,e,n){var r=this;return this.run(e,(function(){var e=new RegExp(t,"y"),i=r.mark();e.lastIndex=i.overallPos;var a=r.tryConsume(e);return n&&n.record(i,a,{kind:"RegexMatch",literal:t.substring(3,t.length-1),negated:r.negating}),a}))}},{key:"tryConsume",value:function(t){var e=t.exec(this.input);if(e){for(var n=0,r=-1,i=0;i<e[0].length;++i)"\n"===e[0][i]&&(++n,r=i);return this.pos={overallPos:t.lastIndex,line:this.pos.line+n,offset:-1===r?this.pos.offset+e[0].length:e[0].length-r-1},e[0]}return null}},{key:"noConsume",value:function(t){var e=this.mark(),n=t();return this.reset(e),n}},{key:"negate",value:function(t){var e=this.mark(),n=this.negating;this.negating=!n;var r=t();return this.negating=n,this.reset(e),null===r||null}},{key:"memoise",value:function(t,e){var n=this.mark(),r=e.get(n.overallPos);if(this.memoSafe&&void 0!==r)return this.reset(r[1]),r[0];var i=t();return this.memoSafe&&e.set(n.overallPos,[i,this.mark()]),i}},{key:"match$EOF",value:function(t){var e=this.finished()?{kind:dn.$EOF}:null;return t&&t.record(this.mark(),e,{kind:"EOF",negated:this.negating}),e}}]),t}();var ar,cr,ur,or,sr,lr=function(){function t(e,n){Object(er.a)(this,t),this.pos=void 0,this.expmatches=void 0,this.pos=e,this.expmatches=Object(b.a)(n)}return Object(tr.a)(t,[{key:"toString",value:function(){return"Syntax Error at line ".concat(this.pos.line,":").concat(this.pos.offset,". Expected one of ").concat(this.expmatches.map((function(t){return"EOF"===t.kind?" EOF":" ".concat(t.negated?"not ":"","'").concat(t.literal,"'")})))}}]),t}(),pr=function(){function t(){Object(er.a)(this,t),this.mxpos={overallPos:-1,line:-1,offset:-1},this.regexset=new Set,this.pmatches=[]}return Object(tr.a)(t,[{key:"record",value:function(t,e,n){null===e!==n.negated&&(t.overallPos>this.mxpos.overallPos&&(this.mxpos=t,this.pmatches=[],this.regexset.clear()),this.mxpos.overallPos===t.overallPos&&("RegexMatch"===n.kind?(this.regexset.has(n.literal)||this.pmatches.push(n),this.regexset.add(n.literal)):this.pmatches.push(n)))}},{key:"getErr",value:function(){return-1!==this.mxpos.overallPos?new lr(this.mxpos,this.pmatches):null}}]),t}(),fr=function(t){return Object(s.pipe)(t,o.o.fromReadonlyArray,o.i.map(Object(s.flow)(o.o.map(vr),o.d.fromPredicate((function(t){return t.length>1}),(function(t){return t[0]})))))},hr=function(t){return Object(s.flow)(fr,o.e.match(o.i.Functor)(s.identity,(function(e){return{type:t,syntax:e}})),o.i.getOrElse("Conjunction"===t?Pn:Fn))},dr=function(t){return t.kind===dn.Club?"C":t.kind===dn.Diamond?"D":t.kind===dn.Heart?"H":"S"},mr=function(t){return t.kind===dn.Notrump?"N":dr(t)},br=function(t){return t.kind===dn.Major?"Major":t.kind===dn.Minor?"Minor":t.kind===dn.OtherMajor?"OtherMajor":t.kind===dn.OtherMinor?"OtherMinor":t.kind===dn.Wildcard?"Wildcard":dr(t)},jr=function(t,e){return function(n){return Object(s.pipe)(e,o.i.of,o.i.filter((function(e){return t.kind===dn.Equals||"min"===n&&t.kind===dn.Plus||"max"===n&&t.kind===dn.Minus})))}},Or=function(t){return Object(s.pipe)(t,o.m.map((function(t){return t.constraint})),hr("Conjunction"))},vr=function t(e){switch(e.kind){case dn.True:return Pn();case dn.False:return Fn();case dn.And:return Object(s.pipe)(e.constraints,o.m.map((function(t){return t.constraint})),hr("Conjunction"));case dn.Otherwise:return{type:"Otherwise"};case dn.Or:return Object(s.pipe)(function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.kind===dn.Or?t.apply(void 0,[e.left,e.right].concat(r)):Object(s.pipe)(r,o.o.fromReadonlyArray,o.i.fold((function(){return[e]}),(function(n){return[e].concat(Object(b.a)(t.apply(void 0,[n[0]].concat(Object(b.a)(n.slice(1))))))})))}(e.left,e.right),hr("Disjunction"));case dn.Not:return{type:"Negation",syntax:t(e.constraint)};case dn.OtherBid:return{type:"OtherBid",bid:{level:e.level.value,strain:mr(e.strain)}};case dn.PointRange:return Bn({type:"PointRange",min:e.lower.value,max:e.upper.value});case dn.PointBound:return Bn({type:"PointRange",min:Object(s.pipe)(jr(e.qualifier,e.value.value)("min"),o.i.getOrElse(Object(s.constant)(0))),max:Object(s.pipe)(jr(e.qualifier,e.value.value)("max"),o.i.getOrElse(Object(s.constant)(37)))});case dn.SuitRange:return{type:"SuitRange",min:e.lower.value,max:e.upper.value,suit:br(e.suit)};case dn.SuitComparison:return{type:"SuitComparison",op:e.op.v,left:br(e.left),right:br(e.right)};case dn.Primary:case dn.Secondary:return{type:"Suit".concat(e.kind),suit:br(e.suit)};case dn.SuitBound:return{type:"SuitRange",min:Object(s.pipe)(jr(e.qualifier,e.value.value)("min"),o.i.getOrElse(Object(s.constant)(0))),max:Object(s.pipe)(jr(e.qualifier,e.value.value)("max"),o.i.getOrElse(Object(s.constant)(13))),suit:br(e.suit)};case dn.SuitHonors:return{type:"SuitHonors",suit:br(e.suit),honors:Object(s.pipe)(e.honors,o.m.fromArray,o.m.traverse(o.i.Applicative)(Object(s.flow)((function(t){return t.v}),I)),o.i.getOrElseW((function(){return[]})))};case dn.SuitTop:return{type:"SuitTop",suit:br(e.suit),count:parseInt(e.x),minRank:q[q.length-parseInt(e.y)]};case dn.AnyShape:return Bn({type:"AnyShape",counts:Object(s.pipe)(e.v,o.w.split(""),o.m.map(parseInt))});case dn.SpecificShape:return Bn({type:"SpecificShape",suits:Object(s.pipe)(bt,o.p.mapWithIndex((function(t,n){return e[t].value})))});case dn.Relay:return Bn({type:"Relay",bid:{level:e.bid.level.value,strain:mr(e.bid.strain)}});case dn.LabelDef:return{type:"LabelDef",name:e.label.v,definition:Or(e.constraints)};case dn.LabelRef:return{type:"LabelRef",name:e.label.v};case dn.Balanced:case dn.SemiBalanced:case dn.Unbalanced:return{type:e.kind};default:return Bn({type:e.kind})}},yr=function(t){switch(t.kind){case dn.ContractBid:return{level:t.level.value,strain:mr(t.specifier)};case dn.Pass:return"Pass";default:return k(t)}},gr=function(t){return new ir(t).parse()};!function(t){t.Start="Start",t.Hand="Hand",t.Suit="Suit",t.Card="Card",t.$EOF="$EOF"}(sr||(sr={}));var Sr=function t(e){Object(er.a)(this,t),this.kind=sr.Card,this.c=void 0,this.rank=void 0,this.c=e,this.rank=["2","3","4","5","6","7","8","9","T","J","Q","K","A"].indexOf(e)+2},kr=function(){function t(e){Object(er.a)(this,t),this.input=void 0,this.pos=void 0,this.negating=!1,this.memoSafe=!0,this.pos={overallPos:0,line:1,offset:0},this.input=e}return Object(tr.a)(t,[{key:"reset",value:function(t){this.pos=t}},{key:"finished",value:function(){return this.pos.overallPos===this.input.length}},{key:"clearMemos",value:function(){}},{key:"matchStart",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.matchHand(t+1,e))&&null!==n.match$EOF(e)&&(i={kind:sr.Start,hand:r}),i}))}},{key:"matchHand",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a,u,o=null;return null!==(r=n.matchSuit(t+1,e))&&null!==n.regexAccept(String.raw(ar||(ar=Object(c.a)(["(?:.)"],["(?:\\.)"]))),t+1,e)&&null!==(i=n.matchSuit(t+1,e))&&null!==n.regexAccept(String.raw(cr||(cr=Object(c.a)(["(?:.)"],["(?:\\.)"]))),t+1,e)&&null!==(a=n.matchSuit(t+1,e))&&null!==n.regexAccept(String.raw(ur||(ur=Object(c.a)(["(?:.)"],["(?:\\.)"]))),t+1,e)&&null!==(u=n.matchSuit(t+1,e))&&(o={kind:sr.Hand,S:r,H:i,D:a,C:u}),o}))}},{key:"matchSuit",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.loop((function(){return n.matchCard(t+1,e)}),!0))&&(i={kind:sr.Suit,cards:r}),i}))}},{key:"matchCard",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(or||(or=Object(c.a)(["(?:[AKQJT2-9])"]))),t+1,e))&&(i=new Sr(r)),i}))}},{key:"test",value:function(){var t=this.mark(),e=null!==this.matchStart(0);return this.reset(t),e}},{key:"parse",value:function(){var t=this.mark(),e=this.matchStart(0);if(e)return{ast:e,errs:[]};this.reset(t);var n=new Mr;this.clearMemos(),this.matchStart(0,n);var r=n.getErr();return{ast:e,errs:null!==r?[r]:[]}}},{key:"mark",value:function(){return this.pos}},{key:"loop",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.mark(),r=[];;){var i=t();if(null===i)break;r.push(i)}return e||r.length>0?r:(this.reset(n),null)}},{key:"run",value:function(t,e){var n=this.mark(),r=e();return null!==r?r:(this.reset(n),null)}},{key:"choice",value:function(t){var e,n=Object(Yn.a)(t);try{for(n.s();!(e=n.n()).done;){var r=(0,e.value)();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"regexAccept",value:function(t,e,n){var r=this;return this.run(e,(function(){var e=new RegExp(t,"y"),i=r.mark();e.lastIndex=i.overallPos;var a=r.tryConsume(e);return n&&n.record(i,a,{kind:"RegexMatch",literal:t.substring(3,t.length-1),negated:r.negating}),a}))}},{key:"tryConsume",value:function(t){var e=t.exec(this.input);if(e){for(var n=0,r=-1,i=0;i<e[0].length;++i)"\n"===e[0][i]&&(++n,r=i);return this.pos={overallPos:t.lastIndex,line:this.pos.line+n,offset:-1===r?this.pos.offset+e[0].length:e[0].length-r-1},e[0]}return null}},{key:"noConsume",value:function(t){var e=this.mark(),n=t();return this.reset(e),n}},{key:"negate",value:function(t){var e=this.mark(),n=this.negating;this.negating=!n;var r=t();return this.negating=n,this.reset(e),null===r||null}},{key:"memoise",value:function(t,e){var n=this.mark(),r=e.get(n.overallPos);if(this.memoSafe&&void 0!==r)return this.reset(r[1]),r[0];var i=t();return this.memoSafe&&e.set(n.overallPos,[i,this.mark()]),i}},{key:"match$EOF",value:function(t){var e=this.finished()?{kind:sr.$EOF}:null;return t&&t.record(this.mark(),e,{kind:"EOF",negated:this.negating}),e}}]),t}();var xr,wr,Cr,_r,Ar,Rr,Br,Pr,Fr,Er=function(){function t(e,n){Object(er.a)(this,t),this.pos=void 0,this.expmatches=void 0,this.pos=e,this.expmatches=Object(b.a)(n)}return Object(tr.a)(t,[{key:"toString",value:function(){return"Syntax Error at line ".concat(this.pos.line,":").concat(this.pos.offset,". Expected one of ").concat(this.expmatches.map((function(t){return"EOF"===t.kind?" EOF":" ".concat(t.negated?"not ":"","'").concat(t.literal,"'")})))}}]),t}(),Mr=function(){function t(){Object(er.a)(this,t),this.mxpos={overallPos:-1,line:-1,offset:-1},this.regexset=new Set,this.pmatches=[]}return Object(tr.a)(t,[{key:"record",value:function(t,e,n){null===e!==n.negated&&(t.overallPos>this.mxpos.overallPos&&(this.mxpos=t,this.pmatches=[],this.regexset.clear()),this.mxpos.overallPos===t.overallPos&&("RegexMatch"===n.kind?(this.regexset.has(n.literal)||this.pmatches.push(n),this.regexset.add(n.literal)):this.pmatches.push(n)))}},{key:"getErr",value:function(){return-1!==this.mxpos.overallPos?new Er(this.mxpos,this.pmatches):null}}]),t}(),Nr=function(t){return Object(s.pipe)(A,o.m.map(function(t){return function(e){return Object(s.pipe)(t[e].cards,o.m.map((function(t){return{suit:e,rank:E.decode(t.rank).right}})))}}(t)),o.m.flatten,o.q.fromReadonlyArray(T))},Dr=function(t){return new kr(t).parse()},qr={encode:Object(s.flow)(G,o.p.toReadonlyArray,o.m.sort($()),o.m.map(Object(s.flow)(o.r.snd,o.m.sort(D),o.m.reduce("",(function(t,e){return t+E.encode(e)})))),o.m.intersperse("."),o.m.foldMap(o.w.Monoid)(s.identity))},Lr=function(t){return Object(s.pipe)(t,o.o.fromReadonlyArray,o.i.fold(Object(s.constant)(vt.a(null,"No syntax errors reported")),o.o.foldMap(On.getSemigroup())((function(t){var e=Object(a.a)(t,2),n=e[0],r=e[1];return On.of(jn.key(n,"required",On.of(jn.index(r.pos.offset,"required",Object(s.pipe)(r.expmatches,o.o.fromReadonlyArray,o.i.fold(Object(s.constant)(On.of(jn.leaf(n,""))),o.o.foldMapWithIndex(On.getSemigroup())((function(t,e){return On.of(jn.leaf(n.substring(r.pos.offset),"EOF"===e.kind?"EOF":"".concat(e.negated?"not ":"","'").concat(e.literal,"'")))}))))))))}))))},Ir=function(t){return o.d.fromNullable(t.errs)(t.ast)},Tr=function(t){return Object(s.pipe)(vt.c,vt.b((function(e){return Object(s.pipe)(e,t,Ir,o.d.mapLeft(Object(s.flow)(o.m.map((function(t){return[e,t]})),Lr)))})))},Hr=Object(s.flow)(Tr(gr).decode,o.d.map((function(t){return function(t){var e;return{bid:yr(t.bid),syntax:Object(s.pipe)(null===(e=t.constraints)||void 0===e?void 0:e.constraints,o.i.fromNullable,o.i.fold(Fn,Or))}}(t.spec)}))),Wr=Object(s.flow)(Tr(Dr).decode,o.d.map((function(t){return Nr(t.hand)}))),$r=n(300),zr=n.n($r),Gr=n(301),Kr=n.n(Gr),Vr=n(66),Ur=n(39),Qr=n(601),Jr=n(602),Xr=n(595),Zr=n(596),Yr=n(305),ti=function(t,e){return function(n){var r=navigator.hardwareConcurrency?navigator.hardwareConcurrency-1:1;return new Ur.a((function(i){var c=new Qr.a,u=0,l=0,p=!1,f=o.m.makeBy(r,(function(e){var n=null;return{factory:function(){var r;return null!==(r=n)&&void 0!==r?r:n=t(e)},terminate:function(){this.processing},processing:!1,index:e}})),h=Object(Jr.a)(c,n).pipe(Object(Xr.a)((function(t){var e=Object(a.a)(t,1)[0];l++,e.processing=!0})),Object(Zr.a)((function(){c.complete(),p=!0,f.forEach((function(t){return t.terminate()}))})),Object(Yr.a)((function(t){var n=Object(a.a)(t,2),r=n[0],o=n[1];return Object(s.pipe)(r.factory(),e,Object(s.apply)(o),Vr.a,Object(Zr.a)((function(){u++,r.processing=!1,p?r.terminate():c.next(r),p&&u===l&&i.complete()})))}))).subscribe(i);return f.forEach((function(t){return c.next(t)})),function(){return h.unsubscribe()}}))}},ei=function(t){return Object(s.pipe)(t,ti((function(){return new zr.a}),(function(t){return function(e){return t.getResult(e)}})))},ni={selectedBlockKey:o.i.none},ri=function(t){return function(e){var n=Object(a.a)(e,2),r=n[0],i=n[1];t.opener=Object(s.pipe)(r,o.d.right,kt.get,v.a),t.responder=Object(s.pipe)(i,o.d.right,kt.get,v.a)}},ii=Object(g.b)("abc",(function(t){var e=t.opener,n=t.responder;return Object(s.pipe)(function(t,e){return Object(s.pipe)(V(),o.m.difference(T)(Object(s.pipe)(t,o.q.toReadonlyArray(H))),o.m.difference(T)(Object(s.pipe)(e,o.q.toReadonlyArray(H))),o.m.chunksOf(13),o.m.map(o.q.fromReadonlyArray(T)),(function(n){var r=Object(a.a)(n,2),i=r[0],c=r[1];return{dealer:"N",deal:{N:t,S:e,E:i,W:c}}}))}(St.reverseGet(e),St.reverseGet(n)),Rt.get,o.o.of,ei,j.a.toTask,(function(t){return t()}))})),ai=function(t){return function(e){return Object(O.tailRec)(t,(function(t){if(Object(s.pipe)(t,o.i.fold(s.constFalse,(function(t){return 0===t}))))return o.d.right(o.i.none);var n,r=(n=V(),Object(s.pipe)(U,o.o.zip(o.o.chunksOf(13)(n)),o.o.groupBy(o.r.fst),o.p.map(Object(s.flow)(o.o.head,o.r.snd,o.q.fromReadonlyArray(T))),(function(t){return t}))),i=[r.N,r.S];return e(i)?o.d.right(o.i.some(i)):o.d.left(Object(s.pipe)(t,o.i.map((function(t){return t-1}))))}))}},ci=function(t){return function(e){return ai(o.i.some(1e4))((function(n){return Object(s.pipe)(e,o.m.partition(bn.apply(void 0,Object(b.a)(n))),o.u.right,(function(e){return t(e.length)}))}))}},ui=Object(g.d)({name:"selection",initialState:ni,reducers:{setSelectedBlockKey:function(t,e){t.selectedBlockKey=e.payload},setHand:{reducer:function(t,e){t[e.meta]=Object(s.pipe)(e.payload,Wr,kt.get,v.a)},prepare:function(t,e){return{payload:t,meta:e}}},genOnce:function(t){Object(s.pipe)(ai(o.i.none)(s.constTrue),o.i.map(ri(t)))},getHandsMatchingPath:function(t,e){Object(s.pipe)(ai(o.i.some(1e4))((function(t){return bn.apply(void 0,Object(b.a)(t))(e.payload)})),o.i.map(ri(t)))},genHandsNotMatchingAnyOf:{reducer:function(t,e){Object(s.pipe)(ai(o.i.some(1e4))((function(t){return pt(t[0])>=e.meta&&Object(s.pipe)(e.payload,o.m.every(o.l.not(bn.apply(void 0,Object(b.a)(t)))))})),o.i.map(ri(t)))},prepare:function(t,e){return{payload:t,meta:e}}},genHandsMatchingExactlyOneOf:function(t,e){Object(s.pipe)(ci((function(t){return 1===t}))(e.payload),o.i.map(ri(t)))},genHandsMatchingMoreThanOneOf:function(t,e){Object(s.pipe)(ci((function(t){return t>1}))(e.payload),o.i.map(ri(t)))}},extraReducers:function(t){return t.addCase(ii.fulfilled,(function(t,e){t.result=Object(s.pipe)(e.payload,v.a)}))}}),oi=ui.actions,si=oi.setSelectedBlockKey,li=oi.setHand,pi=oi.genOnce,fi=oi.getHandsMatchingPath,hi=oi.genHandsNotMatchingAnyOf,di=oi.genHandsMatchingExactlyOneOf,mi=oi.genHandsMatchingMoreThanOneOf,bi=ui.reducer,ji=Object(y.a)((function(t){return Object(s.pipe)(t.selectedBlockKey,o.i.toNullable)})),Oi=Object(y.a)((function(t){var e=t.state,n=t.type;return Object(s.pipe)(e[n],o.i.fromNullable,o.i.chain(Object(s.flow)(kt.reverseGet,o.i.fromEither)))})),vi=function(t){return Object(s.pipe)(t,o.m.zip(o.o.tail(t)),o.m.traverse(o.d.Applicative)((function(e){var n=Object(a.a)(e,2),r=n[0],i=n[1];return o.k.lt(Zt)(r,i)?o.d.right(Object(s.constVoid)()):o.d.left({type:"BidsOutOfOrder",left:r,right:i,path:Object(s.pipe)(t,o.m.map((function(t){return t.bid})))})})),o.d.map(s.constVoid))},yi=function(t){return Object(s.pipe)(t,Sn,o.m.traverse(o.d.Applicative)(vi),o.d.map(s.constVoid))},gi=function t(e){switch(e.type){case"Conjunction":case"Disjunction":return Object(s.pipe)(e.constraints,o.v.traverseArray(t),o.v.map(Object(s.flow)(o.m.sequence(o.d.Applicative),o.d.map(s.constVoid))));case"Negation":return Object(s.pipe)(e.constraint,t);case"ForceOneRound":case"ForceGame":case"ForceSlam":case"Relay":return Object(s.pipe)(o.v.modify(re.set(o.i.some(e))),o.v.map((function(){return o.d.right(Object(s.constVoid)())})));case"SuitPrimary":return Object(s.pipe)(o.v.gets(ie.get),o.v.chain(o.i.fold((function(){return Object(s.pipe)(o.v.modify(ie.set(o.i.some(e.suit))),o.v.map((function(){return o.d.right(Object(s.constVoid)())})))}),(function(){return se(o.d.left({type:"PrimarySuitAlreadyDefined",constraint:e}))}))));case"SuitSecondary":return Object(s.pipe)(o.v.modify(ae.set(o.i.some(e.suit))),o.v.chain((function(){return o.v.gets((function(t){return t.primarySuit}))})),o.v.map(Object(s.flow)(o.d.fromOption((function(){return{type:"NoPrimarySuitDefined",constraint:e}})),o.d.chainFirst(o.d.fromPredicate((function(t){return e.suit!==t}),(function(){return{type:"SamePrimaryAndSecondarySuit",constraint:e}}))),o.d.map(s.constVoid))));case"PointRange":return Object(s.pipe)(e,o.d.fromPredicate((function(t){return t.min<=t.max}),(function(){return{type:"PointRangeInvalid",constraint:e}})),o.d.map(s.constVoid),se);case"SuitRange":return Object(s.pipe)(e,o.d.fromPredicate((function(t){return t.min<=t.max}),(function(){return{type:"SuitRangeInvalid",constraint:e}})),o.d.map(s.constVoid),se);case"SpecificShape":return Object(s.pipe)(e.suits,o.p.foldMap(o.k.trivial)(o.h.MonoidSum)(s.identity),o.d.fromPredicate((function(t){return 13===t}),(function(){return{type:"SpecificShapeInvalid",constraint:e}})),o.d.map(s.constVoid),se);case"AnyShape":return Object(s.pipe)(e.counts,o.m.foldMap(o.h.MonoidSum)(s.identity),o.d.fromPredicate((function(t){return 13===t}),(function(){return{type:"AnyShapeInvalid",constraint:e}})),o.d.map(s.constVoid),se);case"Constant":case"SuitComparison":case"SuitHonors":case"SuitTop":return se(o.d.right(Object(s.constVoid)()));default:return k(e)}},Si=o.v.modify(re.set(o.i.none)),ki=o.v.of(Object(s.constVoid)()),xi=Object(s.pipe)((function(t){return function(e){switch(e.type){case"ForceOneRound":case"Relay":return Si;case"ForceGame":return function(t){return st(t)&&o.k.geq(ut)(t,{level:3,strain:"N"})}(t)?Si:ki;case"ForceSlam":return function(t){return st(t)&&o.k.gt(ut)(t,{level:5,strain:"N"})}(t)?Si:ki;default:return k(e)}}}),se,o.v.ap(o.v.gets(ee.get)),o.v.map(o.i.of),o.j.ap(o.v.Apply)(o.v.gets(re.get)),o.v.chain(o.i.sequence(o.v.Applicative)),o.v.map(s.constVoid)),wi=Object(s.pipe)(se((function(t){return function(e){return!("Pass"===t&&o.i.isSome(e))}})),o.v.ap(o.v.gets(ee.get)),o.v.ap(o.v.gets(ue.getOption)),o.v.chain(o.c.fold(Object(s.flow)((function(){return se({})}),o.v.apS("bid",o.v.gets(ee.get)),o.v.apS("path",o.v.gets(ne.get)),o.v.map((function(t){var e=t.bid,n=t.path;return o.d.left({type:"PassWhileForcing",bid:e,path:n})}))),Object(s.flow)(s.constVoid,o.d.right,se)))),Ci=Object(s.pipe)(o.v.gets(ue.getOption),o.v.bindTo("force"),o.v.apS("path",o.v.gets(ne.get)),o.v.map((function(t){var e=t.force,n=t.path;return Object(s.pipe)(e,o.d.fromPredicate(o.i.isNone,(function(){return{type:"NoBidDefinedButStillForcing",path:n}})),o.d.map(s.constVoid))}))),_i=function(t){return Object(s.pipe)(t,o.v.traverseArray((function(e){return Object(s.pipe)(o.v.modify(ee.set(e.bid)),o.v.chain((function(){return wi})),o.v.chain(o.d.traverse(o.v.Applicative)((function(){return Object(s.pipe)(se(e.constraint),o.v.apFirst(xi),o.v.chain(gi),o.v.map(o.d.mapLeft((function(t){return Object(S.a)({bid:e.bid},t)}))))}))),o.v.apFirst(o.v.modify(ne.modify(o.m.prepend(e.bid)))),o.v.map(Object(s.flow)(o.d.map(o.d.mapLeft((function(e){return Object(S.a)(Object(S.a)({},e),{},{path:Object(s.pipe)(t,o.m.map((function(t){return t.bid})))})}))),o.d.flatten)))})),o.v.map(o.m.sequence(o.d.Applicative)),o.e.chain(o.v.Monad)((function(){return Ci})),o.v.evaluate(Yt))},Ai=function(t){return Object(s.pipe)(t,Sn,o.m.traverse(o.d.Applicative)(_i),o.d.map(s.constVoid))},Ri=function(t){return Object(s.pipe)([yi,Ai],o.m.traverse(o.d.Applicative)(Object(s.apply)(t)),o.d.map(s.constVoid))},Bi=o.w.Eq,Pi=Object(g.c)(),Fi={system:[],decodedBids:Pi.getInitialState()},Ei=Object(g.d)({name:"system",initialState:Fi,reducers:{setSystem:function(t,e){t.system=Object(s.pipe)(function(t){var e=o.A.make("ROOT"),n=[e];return t.forEach((function(t){var e=n[t.depth+1]={forest:[],value:t.key};n[t.depth].forest.push(e)})),e.forest}(e.payload),v.a)},removeConstraintsByBlockKey:function(t,e){Pi.removeMany(t.decodedBids,e.payload)},cacheSystemConstraints:function(t,e){Pi.setMany(t.decodedBids,Object(s.pipe)(e.payload,o.o.map((function(t){return{id:t.key,value:Hr(t.text)}}))))}}}),Mi=Ei.actions,Ni=Mi.setSystem,Di=Mi.removeConstraintsByBlockKey,qi=Mi.cacheSystemConstraints,Li=Pi.getSelectors(),Ii=(Object(y.a)((function(t){var e=t.state,n=t.key;return Object(s.pipe)(e.system,vn(Bi)(n))})),function(t){return function(e){return Object(s.pipe)(o.i.fromNullableK(Li.selectById)(t,e),o.i.map((function(t){return t.value})))}}),Ti=Object(y.a)((function(t){var e=t.state,n=t.key;return Object(s.pipe)(n,Ii(e.decodedBids),o.i.chain(o.i.fromEither))})),Hi=Object(y.a)((function(t){var e=t.state,n=t.key;return Object(s.pipe)(e.system,vn(Bi)(n),o.i.getOrElse((function(){return o.m.zero()})),o.m.filterMap(Ii(e.decodedBids)),o.m.sequence(o.d.Applicative))})),Wi=Object(y.a)((function(t){return Object(s.pipe)(t.system,yn,o.m.filterMap(Ii(t.decodedBids)))})),$i=(Object(y.a)(Object(s.flow)(Wi,o.m.lefts)),Object(y.a)((function(t){var e,n=t.state,r=t.options;return Object(s.pipe)(n.system,(e=n.decodedBids,Object(s.flow)(o.m.filterMap(o.A.traverse(o.i.Applicative)(Ii(e))),Cn)),o.z.map((null===r||void 0===r?void 0:r.implicitPass)?wn:s.identity))}))),zi=Object(y.a)(Object(s.flow)($i,o.z.mapLeft(o.m.map((function(t){return{type:"Parse",error:t}}))),_n(Object(s.flow)((function(t){return Object(s.pipe)(t,xn(Tn),o.m.map(Object(s.flow)(Jn,Zn)),o.v.traverseArray(Xn),o.v.evaluate(En),Cn)}),o.z.mapLeft(o.m.map((function(t){return{type:"Syntax",error:t}}))))),_n((function(t){return Object(s.pipe)(t,Ri,o.z.bimap((function(t){return o.m.of({type:"Validation",error:t})}),(function(){return t})))})))),Gi=Object(y.a)(Object(s.flow)(zi,o.z.map(Sn))),Ki=Object(y.a)((function(t){return Object(s.pipe)(o.i.Do,o.i.apS("path",o.i.fromEitherK(Hi)(t)),o.i.apS("paths",Object(s.pipe)(t,zi,o.z.getRight,o.i.map(Sn))),o.i.chain((function(t){var e=t.path,n=t.paths;return Object(s.pipe)(n,o.m.findFirst((function(t){return o.m.getEq(Object(s.pipe)(lt,o.f.contramap((function(t){return t.bid})))).equals(e,t)})))})))})),Vi=Object(s.flow)(Ki,o.i.map(o.o.last)),Ui=Object(s.pipe)(lt,o.m.getEq),Qi=Object(y.a)((function(t){return Object(s.pipe)(t,$i,(function(t){return t}),o.z.map(Object(s.flow)(o.m.map(o.A.map((function(t){return t.bid}))),gn,o.m.toArray,(function(e){return Object(s.pipe)(t,zi,o.z.getLeft,o.i.getOrElse((function(){return o.m.zero()})),o.m.filterMap((function(t){return"Parse"!==t.type?o.i.some(t):o.i.none})),(function(t){return Object(s.pipe)(e,o.m.map(o.A.map((function(e){return{bid:Object(s.pipe)(e,o.o.last),path:e,errors:Object(s.pipe)(t,o.m.filter((function(t){return Ui.equals(t.error.path,e)})))}}))))}))}))))})),Ji=Object(y.a)((function(t){return Object(s.pipe)(o.i.Do,o.i.apS("errors",Object(s.pipe)(t,Qi,o.z.getRight)),o.i.apS("sb",Ti(t)),o.i.fold((function(){return o.m.empty}),(function(t){var e=t.sb,n=t.errors;return Object(s.pipe)(n,yn,o.m.filter((function(t){return lt.equals(e.bid,t.bid)})))})))})),Xi=Ei.reducer,Zi=n(5),Yi=f.a.div(xr||(xr=Object(c.a)(["\n  font-family: Cascadia Code, Consolas, monospace;\n  font-size: 0.8em;\n"]))),ta=function(t){return{key:t.getKey(),text:t.getText(),depth:t.getDepth()}},ea=o.g.concatAll(o.f.getMonoid())([o.f.contramap((function(t){return t.getKey()}))(o.w.Eq),o.f.contramap((function(t){return t.getText()}))(o.w.Eq)]),na=function(t){return Object(s.pipe)(t.getCurrentContent().getBlocksAsArray(),o.q.fromReadonlyArray(ea))},ra=function(){var t=Object(l.useState)((function(){return u.EditorState.createEmpty()})),e=Object(a.a)(t,2),n=e[0],r=e[1],i=Object(l.useState)((function(){return na(n)})),c=Object(a.a)(i,2),p=c[0],f=c[1],h=d(),b=m((function(t){return ji(t.selection)})),j=Object(l.useCallback)((function(t){r(t),setTimeout((function(){return localStorage.setItem("editor",JSON.stringify(Object(u.convertToRaw)(t.getCurrentContent())))}),0);var e=na(t),n=o.q.intersection(ea)(p,e),i=o.q.difference(ea)(p,n),a=o.q.difference(ea)(e,n);f(e),o.q.isEmpty(o.g.concatAll(o.q.getUnionMonoid(ea))([i,a]))||(h(Object(s.pipe)(e,o.q.toReadonlyArray(o.k.trivial),o.m.map(ta),Ni)),Object(s.pipe)(i,o.q.toReadonlyArray(o.k.trivial),o.o.fromReadonlyArray,o.i.map(Object(s.flow)(o.o.map((function(t){return t.getKey()})),(function(t){return h(Di(t))})))),Object(s.pipe)(a,o.q.toReadonlyArray(o.k.trivial),o.o.fromReadonlyArray,o.i.map(Object(s.flow)(o.o.map(ta),(function(t){return h(qi(t))})))));var c=t.getSelection().getFocusKey();c!==b&&h(si(o.i.some(c)))}),[p,h,b]);return Object(l.useEffect)((function(){var t=localStorage.getItem("editor");r(t?function(){return u.EditorState.createWithContent(Object(u.convertFromRaw)(JSON.parse(t)))}:function(){return u.RichUtils.toggleBlockType(n,"unordered-list-item")})}),[]),Object(Zi.jsx)(Yi,{children:Object(Zi.jsx)(u.Editor,{editorState:n,onChange:j,keyBindingFn:function(t){if(9===t.keyCode){var e=u.RichUtils.onTab(t,n,10);return e!==n&&j(e),null}return Object(u.getDefaultKeyBinding)(t)}})})},ia=n(161),aa=f.a.span(wr||(wr=Object(c.a)(['\n  &.S::after { content: "\u2660"; color: #0000FF; }\n  &.H::after { content: "\u2665"; color: #FF0000; }\n  &.D::after { content: "\u2666"; color: #FFA500; }\n  &.C::after { content: "\u2663"; color: #32CD32; }\n  &.N::after { content: "NT" }\n']))),ca=function(t){var e=t.bid;return Object(Zi.jsxs)(Zi.Fragment,{children:[Object(Zi.jsx)("span",{children:e.level}),Object(Zi.jsx)(aa,{className:e.strain})]})},ua=function(t){var e=t.bid;return Object(Zi.jsx)("span",{children:e})},oa=function(t){var e=t.bid;return"string"===typeof e?Object(Zi.jsx)(ua,{bid:e}):Object(Zi.jsx)(ca,{bid:e})},sa=function(t){var e=t.path;return Object(Zi.jsx)("span",{children:e.map((function(t,e){return Object(Zi.jsxs)(l.Fragment,{children:["\xa0",Object(Zi.jsx)(oa,{bid:t})]},e)}))})},la=f.a.div(Cr||(Cr=Object(c.a)(["\n  clear: both;\n  display: inline-grid;\n  grid-template-columns: auto auto;\n  width: auto;\n"]))),pa=function(t){var e=t.error;return Object(Zi.jsxs)("span",{children:[e.syntax.type,": ",e.reason]})},fa=function(t){var e=t.error;switch(e.type){case"BidsOutOfOrder":return Object(Zi.jsxs)("span",{children:["Bids ",Object(Zi.jsx)(oa,{bid:e.left.bid})," and ",Object(Zi.jsx)(oa,{bid:e.right.bid})," out of order"]});case"NoPrimarySuitDefined":return Object(Zi.jsxs)("span",{children:["No primary suit defined for secondary suit ",e.constraint.suit]});case"PrimarySuitAlreadyDefined":return Object(Zi.jsx)("span",{children:"Primary suit has already been defined"});case"SamePrimaryAndSecondarySuit":return Object(Zi.jsx)("span",{children:"Primary and secondary suits cannot be the same"});case"NoBidDefinedButStillForcing":return Object(Zi.jsx)("span",{children:"Bid is forcing, but no response is defined"});case"PassWhileForcing":return Object(Zi.jsx)("span",{children:"Previous bid is forcing, but a pass was bid"});case"SuitRangeInvalid":return Object(Zi.jsxs)("span",{children:["Suit ",e.constraint.suit," range ",e.constraint.min,", ",e.constraint.max," is invalid"]});case"PointRangeInvalid":return Object(Zi.jsxs)("span",{children:["Point range ",e.constraint.min,", ",e.constraint.max," is invalid "]});case"SpecificShapeInvalid":return Object(Zi.jsxs)("span",{children:["Specific shape ",e.constraint.suits.S,e.constraint.suits.H,e.constraint.suits.D,e.constraint.suits.C," is invalid"]});case"AnyShapeInvalid":return Object(Zi.jsxs)("span",{children:["Shape ",Object(s.pipe)(e.constraint.counts,o.m.reduce("",(function(t,e){return t+e})))," is invalid"]});default:return k(e)}},ha=function(t){t.bid;var e=t.errors;return Object(Zi.jsxs)("div",{children:[e.map((function(t,e){switch(t.type){case"Syntax":return Object(Zi.jsx)(pa,{error:t.error},e);case"Validation":return Object(Zi.jsx)(fa,{error:t.error},e);default:return k(t)}})),0===e.length&&"none"]})},da=function(t){var e=t.errors;return Object(Zi.jsx)(la,{children:e.map((function(t){var e=t.bid,n=t.path,r=t.errors;return Object(Zi.jsxs)(l.Fragment,{children:[Object(Zi.jsx)(sa,{path:n}),Object(Zi.jsx)(ha,{bid:e,errors:r})]},Et.get(n))}))})},ma=function(t){var e=t.forest,n=Object(l.useMemo)((function(){return Object(s.pipe)(e,o.m.chain(o.A.foldMap(o.m.getMonoid())(o.m.of)))}),[e]);return Object(Zi.jsx)(da,{errors:n})},ba=function(){var t=m((function(t){return Qi({state:t.system,options:t.settings})}));return Object(Zi.jsxs)("section",{children:[Object(Zi.jsx)("h3",{children:"Errors"}),o.z.isLeft(t)&&Object(Zi.jsxs)("div",{children:[Object(Zi.jsx)("h4",{children:"Parse Errors"}),Object(Zi.jsx)("ul",{children:t.left.map((function(t,e){return Object(Zi.jsx)("li",{children:Object(Zi.jsx)("pre",{children:Object(ia.draw)(t)})},e)}))})]}),o.z.isRight(t)&&Object(Zi.jsxs)("div",{children:[Object(Zi.jsx)("h4",{children:"Semantic Errors"}),Object(Zi.jsx)(ma,{forest:t.right})]})]})},ja=n(199),Oa=n.n(ja),va=function(){var t=m((function(t){return t.selection.selectedBlockKey})),e=m((function(e){return Object(s.pipe)(t,o.i.chain((function(t){return Ti({state:e.system,key:t})})),o.i.toNullable)})),n=m((function(e){return Object(s.pipe)(t,o.i.chain((function(t){return Vi({state:e.system,key:t})})),o.i.toNullable)})),r=m((function(e){return Object(s.pipe)(t,o.i.fold((function(){return o.m.empty}),(function(t){return Ji({state:e.system,key:t})})))}));return Object(Zi.jsx)("section",{children:t&&Object(Zi.jsxs)("div",{children:[Object(Zi.jsx)("h3",{children:"Selection"}),r&&Object(Zi.jsxs)("div",{children:[Object(Zi.jsx)("h4",{children:"Errors"}),Object(Zi.jsx)(da,{errors:r})]}),e&&Object(Zi.jsxs)("div",{children:[Object(Zi.jsx)("h4",{children:"Syntax"}),Object(Zi.jsx)(Oa.a,{data:e})]}),n&&Object(Zi.jsxs)("div",{children:[Object(Zi.jsx)("h4",{children:"Constraint"}),Object(Zi.jsx)(Oa.a,{data:n})]})]})})},ya=n(21),ga=Object(g.d)({name:"settings",initialState:{implicitPass:!1,generateCount:1e4},reducers:{setInitial:function(t,e){Object(s.pipe)(Object.keys(e.payload),o.m.map((function(n){return t[n]=e.payload[n]})))},setProperty:{reducer:function(t,e){t[e.meta]=e.payload},prepare:function(t,e){return{payload:e,meta:t}}}}}),Sa=ga.actions,ka=Sa.setProperty,xa=Sa.setInitial,wa=ga.reducer,Ca=function(t){var e=t.label,n=t.prop,r=t.parse,i=t.onChanged,a=t.children,c=m((function(t){return t.settings[n]})),u=d(),o=Object(l.useCallback)((function(t){u(ka(n,t)),i&&i(t)}),[u,i,n]);return Object(Zi.jsxs)("p",{children:[Object(Zi.jsx)("span",{children:null!==e&&void 0!==e?e:n}),Object(Zi.jsx)("span",{children:a?a({value:c,onChange:Object(s.flow)(r,o,s.constVoid)}):Object(Zi.jsx)("input",{type:"text",value:c.toString(),onChange:function(t){return Object(s.pipe)(t.target.value,r,o)},style:{width:"100px"}})})]})},_a="settings",Aa=function(){var t=m((function(t){return t.settings})),e=d();Object(l.useEffect)((function(){var t=localStorage.getItem(_a);if(null!==t){var n=JSON.parse(t);e(xa(n))}}),[e]);var n=Object(l.useCallback)((function(e,n){var r=Object(S.a)(Object(S.a)({},t),{},Object(ya.a)({},e,n));localStorage.setItem(_a,JSON.stringify(r))}),[t]);return Object(Zi.jsxs)("section",{children:[Object(Zi.jsx)(Ca,{label:"Implicit Pass",prop:"implicitPass",parse:function(t){return"true"===t},onChanged:function(t){return n("implicitPass",t)},children:function(t){var e=t.value,n=t.onChange;return Object(Zi.jsx)("input",{type:"checkbox",checked:e,onChange:function(t){return n(t.target.checked.toString())}})}}),Object(Zi.jsx)(Ca,{label:"Generate Count",prop:"generateCount",parse:parseInt,onChanged:function(t){return n("generateCount",t)}})]})},Ra=n(162),Ba=n(142),Pa=function(t){return Object(s.pipe)(et,o.m.elem(Y)(t))?20:30},Fa=function(t){switch(t){case"Undoubled":return 1;case"Doubled":return 2;case"Redoubled":return 4;default:return k(t)}},Ea=function(t){return t-6},Ma=function(t,e){return Object(s.pipe)(e,Ea,o.d.fromPredicate((function(e){return e>=t.level}),(function(e){return t.level-e})))},Na=Object(s.flow)(Ma,o.i.fromEither),Da=function(t){return function(e){return Object(s.pipe)(Na(e.contract,e.tricks),o.i.fold(Object(s.constant)(0),t))}},qa=function(t){return Object(s.pipe)(t,Da((function(){return Fa(t.contract.modifier)*(t.contract.level*Pa(t.contract.strain)+("N"===t.contract.strain?10:0))})))},La=function(t){return 50*(t?2:1)},Ia=function(t){return"Undoubled"===t?o.i.none:o.i.some(t)},Ta=[100,200,200].concat(Object(b.a)(o.m.replicate(10,300))),Ha=Object(s.flow)(qa,(function(t){return t>0&&t<=100?50:0})),Wa={contractPoints:qa,overtrickPoints:function(t){return Object(s.pipe)((e=t.contract,n=t.tricks,Object(s.pipe)(Ma(e,n),o.i.fromEither,o.i.map((function(t){return t-e.level})))),o.i.fold(Object(s.constant)(0),(function(e){return Object(s.pipe)((n=t.isVulnerable,r=t.contract.modifier,Object(s.pipe)(r,Ia,o.i.map(Fa),o.i.map((function(t){return t*La(n)})))),o.i.getOrElseW((function(){return Pa(t.contract.strain)})),(function(t){return e*t}));var n,r})));var e,n},slamPoints:function(t){return Object(s.pipe)(t,Da((function(e){return(t.isVulnerable?1.5:1)*(6===t.contract.level&&e>=6?500:7===t.contract.level&&e>=7?1e3:0)})))},modifierPoints:function(t){return Object(s.pipe)(t,Da((function(){switch(t.contract.modifier){case"Undoubled":return 0;case"Doubled":return 50;case"Redoubled":return 100;default:return k(t.contract.modifier)}})))},penaltyPoints:function(t){return Object(s.pipe)((e=t.contract,n=t.tricks,Object(s.pipe)(Ma(e,n),o.d.swap,o.i.fromEither)),o.i.fold(Object(s.constant)(0),(function(e){return Object(s.pipe)(t.contract.modifier,Ia,o.i.fold((function(){return e*La(t.isVulnerable)}),Object(s.flow)(Fa,(function(n){return n/2*Object(s.pipe)(Ta,o.m.takeLeft(e+(t.isVulnerable?1:0)),o.m.foldMap(o.h.MonoidSum)(s.identity))}))),(function(t){return-t}))})));var e,n},partScorePoints:Ha,gamePoints:function(t){return Object(s.pipe)(t,qa,(function(e){return e>=100?t.isVulnerable?500:300:0}))}},$a=C.b(C.c,(function(t){return"number"===typeof t}),"Score"),za=($a.decode(0).right,o.h.Eq,Object(s.pipe)(o.h.Ord,o.k.reverse),Object(s.flow)((function(t){return Object(s.pipe)(Wa,o.p.flap(t),o.p.traverseWithIndex(o.B.getApplicative(o.m.getMonoid()))((function(t,e){return Object(s.pipe)(o.B.tell([[t,e]]),o.B.map(Object(s.constant)(e)))})),o.B.map(Object(s.flow)(o.p.foldMap(o.k.trivial)(o.h.MonoidSum)(s.identity),$a.decode,(function(t){return t.right}))),o.B.map((function(t){return[t,function(e){return[["TOTAL",t]].concat(Object(b.a)(e))}]})),o.B.pass)}),o.B.evaluate),function(t){return Object(s.pipe)(o.m.Do,o.m.apS("inner",Object(s.pipe)(t,o.p.toReadonlyArray)),o.m.bind("outer",(function(t){var e=t.inner;return Object(s.pipe)(e[1],o.p.toReadonlyArray)})),o.m.map((function(t){var e=t.outer,n=t.inner;return{outerKey:e[0],innerKey:n[0],value:e[1]}})))}),Ga=function(t){return Object(s.pipe)(t,za,o.o.fromReadonlyArray,o.i.fold((function(){return{}}),o.o.groupBy((function(t){return t.outerKey}))),o.p.map(Object(s.flow)(o.o.fromReadonlyArray,o.i.fold((function(){return{}}),o.o.groupBy((function(t){return t.innerKey}))),o.p.map((function(t){return t[0].value})))))},Ka=Object(s.pipe)(ot,o.m.sort(ut),o.m.prepend("Pass")),Va=(x(Ka),w(Ka),yt.f((function(t){var e=Object(a.a)(t,2);return e[0]+e[1]}),(function(t){return[t.charAt(0),t.charAt(1)]}))),Ua=Object(s.pipe)(Object(Ba.sequenceT)(o.o.Apply)(U,Z),o.o.map(Va.get)),Qa=Object(s.flow)(o.m.map((function(t){return Object(s.pipe)(t,za,o.m.map((function(t){var e=t.outerKey,n=t.innerKey,r=t.value;return["".concat(e).concat(n),r]})),o.p.fromFoldable(o.t.first(),o.m.Foldable))})),Ra.a),Ja=function(t){return function(e){return Object(s.pipe)(Ua,o.o.groupBy((function(t){return t})),o.p.map((function(e){return t(e)})),(function(t){return e.rollup(t)}),(function(t){return t.object()}),o.p.toReadonlyArray,o.m.map(o.r.mapFst(Va.reverseGet)),o.o.fromReadonlyArray,o.i.fold((function(){return{}}),Object(s.flow)(o.o.groupBy((function(t){var e=Object(a.a)(t,2),n=Object(a.a)(e[0],2),r=(n[0],n[1]);e[1];return r})),o.p.map(Object(s.flow)(o.o.groupBy((function(t){var e=Object(a.a)(t,2),n=Object(a.a)(e[0],2),r=n[0];n[1],e[1];return r})),o.p.map(Object(s.flow)(o.o.head,(function(t){var e=Object(a.a)(t,2);e[0];return e[1]}))))))))}},Xa=Ja(Ra.b.mean),Za=Ja(Ra.b.stdev),Ya=n(599),tc=n(597),ec=n(598),nc=n(603),rc=n(155),ic={encode:Object(s.flow)(o.p.foldMapWithIndex(o.k.trivial)(o.m.getMonoid())((function(t,e){return Object(s.pipe)(e,o.q.toReadonlyArray(o.k.trivial),o.m.map((function(e){return[e,U.indexOf(t)]})))})),o.m.sort(o.k.contramap((function(t){return t[0]}))(H)),o.m.map(o.r.snd),o.m.chunksOf(4),o.m.map(o.m.reduce(0,(function(t,e){return(t<<2)+e}))),o.m.concat(o.m.replicate(3,0)),o.m.toArray,(function(t){return new gt.Uuid(t)}))},ac="https://api.contractbridge.app",cc=function(t){return o.y.tryCatchK(t,o.d.toError)()},uc=Object(s.pipe)((function(){return fetch("".concat(ac,"/ping"))}),cc,o.y.chainTaskK((function(t){return function(){return t.text()}})),o.y.filterOrElse((function(t){return"pong"===t}),(function(){return new Error("'pong' was not received")}))),oc=o.m.foldMap(o.p.getUnionMonoid(o.t.first()))((function(t){var e=Object(a.a)(t,2),n=e[0],r=e[1];return Object(ya.a)({},ic.encode(n).toString(),Object(s.pipe)(n,o.p.mapWithIndex((function(t,e){return{hcp:pt(e),shape:jt(e),tricks:Object(s.pipe)(r,o.i.map((function(e){return e[t]})),o.i.toUndefined)}}))))})),sc=Object(s.flow)(o.m.map((function(t){return[t,o.i.none]})),oc),lc=function(t){return Object(s.pipe)(t,sc,JSON.stringify,o.x.of,o.x.chain((function(t){return function(){return fetch("".concat(ac,"/deals"),{method:"POST",body:t})}})),cc)},pc=function(t){return Object(s.pipe)(t,oc,JSON.stringify,o.x.of,o.x.chain((function(t){return function(){return fetch("".concat(ac,"/deals"),{method:"PUT",body:t})}})),cc)},fc=function(t){return[t,0]},hc=function(t){return function(e){return function(n){return function(r){return Object(s.pipe)(r,o.r.bimap((function(t){return t-e}),(function(e){return t.concat(e,n)})))}}}},dc={deals:fc([]),results:fc({}),working:!1},mc=Object(g.d)({name:"generator",initialState:dc,reducers:{generate:function(t,e){t.deals=Object(s.pipe)(t.deals,o.r.mapSnd(Object(s.constant)(e.payload)),v.a),t.working=!0},getResults:function(t,e){t.results=Object(s.pipe)(t.results,o.r.mapSnd(Object(s.constant)(e.payload.deals.length)),v.a),t.working=!0},reportDeals:function(t,e){t.deals=Object(s.pipe)(t.deals,hc(o.m.getSemigroup())(e.payload.length)(e.payload),v.a)},reportResults:function(t,e){t.results=Object(s.pipe)(t.results,hc(o.p.getUnionSemigroup(o.o.getSemigroup()))(Object(s.pipe)(e.payload,o.p.toReadonlyArray,o.m.foldMap(o.h.MonoidSum)((function(t){var e=Object(a.a)(t,2);e[0];return e[1].length}))))(e.payload),v.a)},done:function(t){t.working=!1}}}),bc=mc.actions,jc=bc.generate,Oc=bc.getResults,vc=bc.reportDeals,yc=bc.reportResults,gc=bc.done,Sc=mc.reducer,kc=Object(y.a)((function(t){return Object(s.pipe)(t.deals,o.r.fst)})),xc=(Object(y.a)(Object(s.flow)(kc,o.m.map(Object(s.flow)(At.reverseGet,(function(t){return[t.N,t.S]}))))),Object(y.a)((function(t){return{deals:t.deals[1],results:t.results[1]}}))),wc=Object(y.a)((function(t){var e=t.state,n=t.path;return Object(s.pipe)(e.results[0],o.p.lookup(n),o.i.toNullable)})),Cc={system:Xi,selection:bi,generator:Sc,settings:wa},_c=Object(Ya.a)((function(t,e){return t.pipe(Object(tc.a)(jc.match),j.a.map((function(t){return t.payload})),j.a.chain((function(t){return function(t){return Object(s.pipe)(o.m.replicate(t/100,100),o.m.append(t%100),ti((function(){return new Kr.a}),(function(t){return function(e){return t.genDeals(e)}})),j.a.chain((function(t){return Object(Vr.a)(t)})))}(t).pipe(Object(ec.a)(1e3),j.a.map(vc),Object(nc.a)([gc()]))})))}),(function(t,e){return t.pipe(Object(tc.a)(Oc.match),j.a.chain((function(t){return Object(s.pipe)(t.payload.deals,o.m.mapWithIndex((function(t,e){return Object(s.pipe)(e,At.reverseGet,(n=t+1,function(t){return{number:n,dealer:U[(n-1)%U.length],deal:t,vulnerability:nt(n)}}),Rt.get);var n})),o.o.fromReadonlyArray,o.i.fold((function(){return Object(Vr.a)([])}),ei),Object(ec.a)(5),j.a.map(Object(s.flow)(o.o.fromReadonlyArray,o.i.fold((function(){return yc({})}),(function(e){return Object(s.pipe)(t.payload.path,o.o.map((function(t){return t.bid})),Et.get,(function(t){return yc(Object(ya.a)({},t,e))}))})))),Object(nc.a)([gc()]))})))}),(function(t,e){return t.pipe(Object(tc.a)(vc.match),j.a.map((function(t){return t.payload})),j.b.fromObservable,j.b.chainFirst((function(){return Object(s.pipe)(uc,j.b.fromTaskEither)})),j.b.chainFirst(Object(s.flow)(o.m.map(At.reverseGet),lc,j.b.fromTaskEither)),j.a.chain((function(t){return rc.a})))}),(function(t,e){return t.pipe(Object(tc.a)(yc.match),j.a.map((function(t){return t.payload})),j.b.fromObservable,j.b.chainFirst((function(){return Object(s.pipe)(uc,j.b.fromTaskEither)})),j.b.chainFirst(Object(s.flow)(o.p.toReadonlyArray,o.m.chain(o.r.snd),o.m.map((function(t){return[At.reverseGet(t.board.deal),Object(s.pipe)(t.results,Ga,o.i.some)]})),pc,j.b.fromTaskEither)),j.a.chain((function(t){return rc.a})))})),Ac=Object(y.a)((function(t){return Object(s.pipe)(o.i.Do,o.i.apS("opener",Oi({state:t.selection,type:"opener"})),o.i.apS("responder",Oi({state:t.selection,type:"responder"})),o.i.apS("paths",Object(s.pipe)(Gi({state:t.system,options:t.settings}),o.z.getRight)),o.i.map((function(t){return Object(s.pipe)(t.paths,o.m.map((function(e){return{path:e,result:bn(t.opener,t.responder)(e)}})))})),o.i.toNullable)})),Rc=Object(s.pipe)(o.h.Ord,o.k.reverse,o.k.contramap((function(t){return t.count}))),Bc=Object(y.a)((function(t){return Object(s.pipe)(o.m.Do,o.m.apS("deal",kc(t.generator)),o.m.apS("path",Object(s.pipe)(Gi({state:t.system,options:t.settings}),o.z.getRight,o.i.getOrElseW((function(){return o.m.empty})))),o.m.map((function(t){return{deal:t.deal,path:t.path,result:Object(s.pipe)(t.deal,At.reverseGet,(function(t){return bn(t.N,t.S)}))(t.path)}})),o.o.fromReadonlyArray,o.i.map(Object(s.flow)(o.o.groupBy((function(t){return Object(s.pipe)(t.path,o.o.map((function(t){return t.bid})),Et.get)})),o.p.filterMap(Object(s.flow)(o.o.filter((function(t){return t.result})),o.i.map((function(t){return{path:t[0].path,count:t.length,deals:Object(s.pipe)(t,o.o.map((function(t){return t.deal})))}})))),o.p.toReadonlyArray,o.m.map(o.r.snd),o.m.sort(Rc))),o.i.toNullable)})),Pc=f.a.ol(_r||(_r=Object(c.a)(["\n  padding-left: 0;\n"]))),Fc=f.a.li(Ar||(Ar=Object(c.a)(["\n  list-style-type: none;\n  display: inline;\n  float: left;\n"]))),Ec=function(t){var e=t.rank;return Object(Zi.jsx)(Fc,{children:P[e-2]})},Mc=f.a.ol(Rr||(Rr=Object(c.a)(["\n  white-space: nowrap;\n  width: 15em;\n  margin: 0;\n  padding-left: 0;\n  list-style: decimal url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7) inside;\n"]))),Nc=f.a.li(Br||(Br=Object(c.a)(["\n  display: inline;\n  &::before {\n    display: inline;\n    float: left;\n    margin-left: 5px;\n  }\n  ","\n"])),'\n  &.S::before { content: "\u2660"; color: #0000FF }\n  &.H::before { content: "\u2665"; color: #FF0000 }\n  &.D::before { content: "\u2666"; color: #FFA500 }\n  &.C::before { content: "\u2663"; color: #32CD32 }\n'),Dc=function(t){var e=t.suit,n=t.ranks;return Object(Zi.jsx)(Nc,{className:e,children:Object(Zi.jsxs)(Pc,{children:[n.map((function(t,e){return Object(Zi.jsx)(Ec,{rank:t},e)})),0===n.length&&Object(Zi.jsx)(Fc,{children:"-"})]})})},qc=function(t){var e=t.hand,n=G(e);return Object(Zi.jsx)(Mc,{children:Object(s.pipe)(n,o.p.mapWithIndex((function(t,e){return Object(Zi.jsx)(Dc,{suit:t,ranks:e},t)})),o.p.toReadonlyArray,o.m.sort($()),o.m.map(o.r.snd))})},Lc=f.a.span(Pr||(Pr=Object(c.a)(["\n  ",'\n  &.N::before { content: "NT"; color: #000000; font-size: 12px; }\n'])),'\n  &.S::before { content: "\u2660"; color: #0000FF }\n  &.H::before { content: "\u2665"; color: #FF0000 }\n  &.D::before { content: "\u2666"; color: #FFA500 }\n  &.C::before { content: "\u2663"; color: #32CD32 }\n'),Ic=function(t){var e=t.table;return Object(Zi.jsxs)("table",{children:[Object(Zi.jsx)("thead",{children:Object(Zi.jsxs)("tr",{children:[Object(Zi.jsx)("th",{}),Z.map((function(t,e){return Object(Zi.jsx)("th",{style:{fontWeight:"normal",verticalAlign:"middle"},children:Object(Zi.jsx)(Lc,{className:t})},e)}))]})}),Object(Zi.jsx)("tbody",{children:U.map((function(t,n){return Object(Zi.jsxs)("tr",{children:[Object(Zi.jsx)("td",{children:t}),Z.map((function(n,r){return Object(Zi.jsx)("td",{children:Math.round(100*e[n][t])/100},r)}))]},n)}))})]})},Tc=function(t){var e=t.result;return Object(Zi.jsxs)("table",{children:[Object(Zi.jsx)("thead",{children:Object(Zi.jsxs)("tr",{children:[Object(Zi.jsx)("th",{}),Z.map((function(t,e){return Object(Zi.jsx)("th",{style:{fontWeight:"normal",verticalAlign:"middle"},children:Object(Zi.jsx)(Lc,{className:t})},e)}))]})}),Object(Zi.jsx)("tbody",{children:U.map((function(t,n){return Object(Zi.jsxs)("tr",{children:[Object(Zi.jsx)("td",{children:t}),Z.map((function(n,r){return Object(Zi.jsx)("td",{children:e.results[n][t]},r)})),Object(Zi.jsx)("td",{children:Object(Zi.jsx)(qc,{hand:At.reverseGet(e.board.deal)[t]})})]},n)}))})]})},Hc=function(t){var e=t.result,n=d(),r=m((function(t){return Object(s.pipe)(e.path,o.o.map((function(t){return t.bid})),Et.get,(function(e){return wc({state:t.generator,path:e})}))})),i=r&&Qa(Object(s.pipe)(r,o.o.map((function(t){return t.results})))),a=i&&Xa(i),c=i&&Za(i);return Object(Zi.jsxs)(Zi.Fragment,{children:[Object(Zi.jsx)(sa,{path:e.path.map((function(t){return t.bid}))}),": \xa0",Object(Zi.jsx)("span",{children:e.count.toString()}),null!==a&&Object(Zi.jsxs)("section",{children:[Object(Zi.jsx)("h4",{children:"Average"}),null!==a&&Object(Zi.jsx)(Ic,{table:a})]}),null!==c&&Object(Zi.jsxs)("section",{children:[Object(Zi.jsx)("h4",{children:"Std. Dev."}),Object(Zi.jsx)(Ic,{table:c})]}),null===r&&Object(Zi.jsx)("button",{onClick:function(t){return n(Oc({path:e.path,deals:e.deals}))},children:"DDS"})]})},Wc=function(){var t=m(Bc);return Object(Zi.jsx)(Zi.Fragment,{children:null!==t&&Object(Zi.jsxs)("div",{children:[Object(Zi.jsx)("h3",{children:"Results"}),Object(Zi.jsx)("ul",{children:t.map((function(t,e){return Object(Zi.jsx)("li",{children:Object(Zi.jsx)(Hc,{result:t})},e)}))})]})})},$c=function(){var t=m((function(t){return xc(t.generator)}));return Object(Zi.jsxs)("div",{children:[Object(Zi.jsxs)("p",{children:["Deals: ",t.deals," remaining"]}),Object(Zi.jsxs)("p",{children:["Results: ",t.results," remaining"]})]})},zc=function(){var t=m((function(t){return Object(s.pipe)(t.generator.working)})),e=m((function(t){return t.settings.generateCount})),n=d(),r=m((function(t){return Gi({state:t.system,options:t.settings})})),i=!o.z.isLeft(r);return Object(Zi.jsxs)("section",{children:[Object(Zi.jsx)("h3",{children:"Stats"}),i&&Object(Zi.jsxs)("div",{children:[Object(Zi.jsx)("button",{type:"button",onClick:function(){return n(jc(e))},children:"Generate deals"}),t?Object(Zi.jsx)("span",{children:"Generating..."}):Object(Zi.jsx)("span",{children:"Ready!"}),t&&Object(Zi.jsx)($c,{}),!t&&Object(Zi.jsx)(Wc,{})]})]})},Gc=function(t){var e=t.value,n=t.children,r=t.onNone;return Object(s.pipe)(e,o.i.fold((function(){return r?r():Object(Zi.jsx)(Zi.Fragment,{})}),n))},Kc=function(){var t=d();return Object(Zi.jsx)("button",{type:"button",onClick:function(){return t(pi())},children:"Random"})},Vc=function(t){var e=t.bidPaths,n=d(),r=Object(l.useState)(11),i=Object(a.a)(r,2),c=i[0],u=i[1];return Object(Zi.jsx)(Zi.Fragment,{children:e&&Object(Zi.jsxs)("span",{children:[Object(Zi.jsx)("button",{type:"button",onClick:function(){return n(hi(e,c))},children:"Zero"}),"Min HCP",Object(Zi.jsx)("input",{type:"number",style:{width:50},value:c,onChange:function(t){return u(parseInt(t.target.value))}})]})})},Uc=function(t){var e=t.bidPaths,n=d();return Object(Zi.jsx)(Zi.Fragment,{children:e&&Object(Zi.jsx)("span",{children:Object(Zi.jsx)("button",{type:"button",onClick:function(){return n(di(e))},children:"One"})})})},Qc=function(t){var e=t.bidPaths,n=d();return Object(Zi.jsx)(Zi.Fragment,{children:e&&Object(Zi.jsx)("span",{children:Object(Zi.jsx)("button",{type:"button",onClick:function(){return n(mi(e))},children:"Many"})})})},Jc=function(){var t=m((function(t){return t.selection.selectedBlockKey})),e=m((function(e){return Object(s.pipe)(t,o.i.chain((function(t){return Ki({state:e.system,key:t})})),o.i.toNullable)})),n=d();return Object(Zi.jsx)(Zi.Fragment,{children:e&&Object(Zi.jsx)("button",{type:"button",onClick:function(){return n(fi(e))},children:"Selected"})})},Xc=function(){var t=m((function(t){return Object(s.pipe)(Gi({state:t.system,options:t.settings}),o.z.getRight,o.i.chain(o.o.fromReadonlyArray),o.i.toNullable)}));return Object(Zi.jsxs)("section",{children:[Object(Zi.jsx)("h4",{children:"Generate Hands"}),Object(Zi.jsx)(Kc,{}),Object(Zi.jsx)(Jc,{}),Object(Zi.jsx)(Vc,{bidPaths:t}),Object(Zi.jsx)(Uc,{bidPaths:t}),Object(Zi.jsx)(Qc,{bidPaths:t})]})},Zc=function(t){var e=t.type,n=d(),r=Object(l.useState)(""),i=Object(a.a)(r,2),c=i[0],u=i[1],p="hand.".concat(e),f=m((function(t){return Object(s.pipe)(Oi({state:t.selection,type:e}),o.i.map(qr.encode),o.i.toNullable)})),h=Object(l.useCallback)((function(t){u(t),n(li(t,e))}),[n,e]);return Object(l.useEffect)((function(){var t=localStorage.getItem(p);t&&h(t)}),[h,p,e]),Object(Zi.jsx)("input",{type:"text",placeholder:"AKQJ.T987.654.32",value:null!==f&&void 0!==f?f:c,onChange:function(t){return h(t.target.value)},onBlur:function(){return localStorage.setItem(p,c)}})},Yc=f.a.th(Fr||(Fr=Object(c.a)(["\n  width: 15em;\n"]))),tu=function(){var t=d(),e=[m((function(t){return Oi({state:t.selection,type:"opener"})})),m((function(t){return Oi({state:t.selection,type:"responder"})}))],n=e[0],r=e[1],i=Object(l.useCallback)((function(){return Object(s.pipe)(o.i.Do,o.i.apS("opener",n),o.i.apS("responder",r),o.i.map(Object(s.flow)(o.p.map(St.get),ii,t)),s.constVoid)}),[t,n,r]),a=m((function(t){return t.selection.result}));return Object(Zi.jsxs)(Zi.Fragment,{children:[Object(Zi.jsxs)("table",{children:[Object(Zi.jsx)("thead",{children:Object(Zi.jsxs)("tr",{children:[Object(Zi.jsx)(Yc,{children:"Opener"}),Object(Zi.jsx)(Yc,{children:"Responder"})]})}),Object(Zi.jsxs)("tbody",{children:[Object(Zi.jsxs)("tr",{children:[Object(Zi.jsx)("td",{children:Object(Zi.jsx)(Zc,{type:"opener"})}),Object(Zi.jsx)("td",{children:Object(Zi.jsx)(Zc,{type:"responder"})})]}),Object(Zi.jsxs)("tr",{children:[Object(Zi.jsx)("td",{children:Object(Zi.jsx)(Gc,{value:n,children:function(t){return Object(Zi.jsx)(qc,{hand:t})}})}),Object(Zi.jsx)("td",{children:Object(Zi.jsx)(Gc,{value:r,children:function(t){return Object(Zi.jsx)(qc,{hand:t})}})})]})]})]}),Object(Zi.jsx)(Xc,{}),Object(Zi.jsxs)("p",{children:[Object(Zi.jsx)("button",{type:"button",onClick:i,children:"Solution"}),a&&Object(Zi.jsx)(Tc,{result:a})]})]})},eu=function(){var t=m(Ac);return Object(Zi.jsxs)("section",{children:[Object(Zi.jsx)("h3",{children:"Test Hands"}),Object(Zi.jsx)(tu,{}),null!==t&&Object(Zi.jsxs)("div",{children:[Object(Zi.jsx)("h4",{children:"Results"}),Object(Zi.jsx)("ul",{children:t.map((function(t,e){return Object(Zi.jsxs)("li",{children:[Object(Zi.jsx)(sa,{path:t.path.map((function(t){return t.bid}))}),": \xa0",Object(Zi.jsx)("span",{children:t.result.toString()})]},e)}))})]})]})},nu=function(){return Object(Zi.jsxs)("div",{className:"App",children:[Object(Zi.jsxs)("div",{style:{display:"inline-block",width:"50%"},children:[Object(Zi.jsx)("div",{style:{float:"left"},children:Object(Zi.jsx)(ra,{})}),Object(Zi.jsx)("div",{style:{float:"right",width:"300px"},children:Object(Zi.jsx)(Aa,{})}),Object(Zi.jsxs)("div",{style:{clear:"both"},children:[Object(Zi.jsx)(ba,{}),Object(Zi.jsx)(zc,{})]})]}),Object(Zi.jsxs)("div",{style:{display:"inline-block",width:"50%",float:"right"},children:[Object(Zi.jsxs)("div",{style:{display:"inline-block",float:"right"},children:[Object(Zi.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge#documentation",children:"Documentation"}),"\xa0|\xa0",Object(Zi.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge/discussions",children:"Share ideas"}),"\xa0|\xa0",Object(Zi.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge/issues/new",children:"Report issue"})]}),Object(Zi.jsx)(eu,{}),Object(Zi.jsx)(va,{})]})]})},ru=n(117),iu=n.n(ru),au=n(600),cu=Object(au.a)(),uu=Object(g.a)({reducer:Cc,middleware:function(t){return[].concat(Object(b.a)(t()),[cu])}});cu.run(_c),iu.a.render(Object(Zi.jsx)(p.a.StrictMode,{children:Object(Zi.jsx)(h.a,{store:uu,children:Object(Zi.jsx)(nu,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[592,1,2]]]);
//# sourceMappingURL=main.2ac417f6.chunk.js.map