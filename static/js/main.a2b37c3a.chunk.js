(this.webpackJsonpbridge=this.webpackJsonpbridge||[]).push([[0],{301:function(t,n,e){var r,i=e(293).wrap,u=e(582);t.exports=function t(){return this instanceof t?i(u()):r||(r=i(u()))}},302:function(t,n,e){var r,i=e(293).wrap,u=e(583);t.exports=function t(){return this instanceof t?i(u()):r||(r=i(u()))}},388:function(t,n,e){},394:function(t,n){},396:function(t,n){},406:function(t,n){},408:function(t,n){},434:function(t,n){},435:function(t,n){},440:function(t,n){},442:function(t,n){},449:function(t,n){},468:function(t,n){},582:function(t,n,e){t.exports=function(){return new Worker(e.p+"088d9f62ff57887bbaf0.worker.js")}},583:function(t,n,e){t.exports=function(){return new Worker(e.p+"e456124880527dca202c.worker.js")}},595:function(t,n,e){"use strict";e.r(n);e(388),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r,i=e(12),u=(e(389),e(299)),c=e(9),a=e(0),o=e(3),l=e(34),s=e(64),f=e(10),h=function(t){throw new Error("shouldn't get here with ".concat(JSON.stringify(t)))},p=function(t){return Object(o.pipe)(a.g.Ord,a.j.contramap((function(n){return t.indexOf(n)})))},d=Object(o.flow)(p,a.j.reverse),m=e(56),b=e(199),j=["C","D","H","S"],O=a.f.eqStrict,v=d(j),y=(p(j),["2","3","4","5","6","7","8","9","T","J","Q","K","A"]),g=m.b(m.c,(function(t){return t>=2&&t<=14}),"Rank"),S=new m.a("Rank",g.is,g.validate,(function(t){return y[t-2]})),k=a.f.eqStrict,x=a.g.Ord,_=Object(o.pipe)(x,a.j.reverse),C=Object(o.pipe)(y,a.l.mapWithIndex((function(t,n){return Object(o.pipe)(t+2,S.decode,(function(t){return t.right}))}))),w=Object(o.pipe)(C,a.l.takeRight(5)),A=function(t){return Object(o.pipe)(y,a.l.findIndex((function(n){return a.v.Eq.equals(t,n)})),a.h.chain((function(t){return Object(o.pipe)(C,a.l.lookup(t))})))},R=a.f.struct({suit:O,rank:k}),B=a.j.getMonoid().concat(Object(o.pipe)(v,a.j.contramap((function(t){return t.suit}))),Object(o.pipe)(_,a.j.contramap((function(t){return t.rank})))),P=Object(o.pipe)(52,a.n.makeBy((function(t){return{suit:j[Math.floor(t/13)],rank:S.decode(t%13+2).right}}))),F=function(){return a.j.contramap((function(t){var n=Object(i.a)(t,2),e=n[0];n[1];return e}))(v)},E={S:[],H:[],D:[],C:[]},N=function(t){return Object(o.pipe)(t,a.p.toReadonlyArray(B),a.n.fromReadonlyArray,a.h.fold((function(){return E}),Object(o.flow)(a.n.groupBy((function(t){return t.suit})),a.o.map(a.n.map((function(t){return t.rank}))),a.o.union(a.l.getUnionMonoid(k))(E))))},M=function(){return Object(b.b)(b.a,Object(c.a)(P))},D=["N","E","S","W"],q=a.v.Eq,H=(p(D),a.v.Eq,p(["NorthSouth","EastWest"]),a.p.getEq(R)),T=a.o.getEq(H),I=[].concat(Object(c.a)(j),["N"]),$=a.f.eqStrict,W=p(I),K=["C","D"],G=(a.f.struct({dealer:q,deal:T}),function(t){switch(t%16+1){case 1:case 8:case 11:case 14:return"Neither";case 2:case 5:case 12:case 15:return"NorthSouth";case 3:case 6:case 9:case 16:return"EastWest";case 4:case 7:case 10:case 13:return"Both";default:throw Error("Not possible")}}),L=["Pass","Double","Redouble"],U=a.v.Eq,Q=function(t){return"string"===typeof t&&Object(o.pipe)(L,a.l.elem(a.v.Eq)(t))},J=a.f.struct({level:a.g.Eq,strain:a.v.Eq}),z=a.j.getMonoid().concat(Object(o.pipe)(a.g.Ord,a.j.contramap((function(t){return t.level}))),Object(o.pipe)(W,a.j.contramap((function(t){return t.strain})))),V=Object(o.pipe)(a.a.sequenceS(a.l.Apply)({level:a.l.makeBy(7,(function(t){return t+1})),strain:I}),a.l.sort(z)),Z=a.f.fromEquals((function(t,n){return Q(t)&&Q(n)&&U.equals(t,n)||!Q(t)&&!Q(n)&&J.equals(t,n)})),X=(a.f.struct({level:a.g.Eq,strain:a.v.Eq,modifier:a.v.Eq}),a.n.getEq(Z),Object(o.flow)(a.p.toReadonlyArray(B),a.l.foldMap(a.g.MonoidSum)((function(t){return Math.max(0,t.rank-10)})))),Y=[0,0,0,0],tt=function(t){return Object(o.pipe)(t,a.l.sort(a.j.reverse(a.g.Ord)))},nt=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return Object(o.pipe)(n,tt)},et=a.f.contramap(tt)(a.l.getEq(a.g.Eq)),rt={S:0,H:0,D:0,C:0},it=function(t){return Object(o.pipe)(t,a.p.toReadonlyArray(B),a.n.fromReadonlyArray,a.h.fold((function(){return a.o.empty}),Object(o.flow)(a.n.groupBy((function(t){return t.suit})),a.o.mapWithIndex((function(t,n){return n})))))},ut=function(t){return Object(o.pipe)(t,it,a.o.map((function(t){return t.length})),a.o.union(a.s.first())(rt),(function(t){return t}))},ct=function(t){return Object(o.pipe)(t,ut,a.o.toReadonlyArray,a.l.map(a.q.snd),(function(t){return a.l.mapWithIndex((function(n,e){return Object(o.pipe)(t,a.l.lookup(n),a.h.getOrElse((function(){return 0})))}))(Y)}))},at=function(t){return function(n){return Object(o.flow)(a.y.fold(n),(function(n){return t.map(n,a.n.tail)}))}},ot=function(t){return Object(o.pipe)(t,at(a.n.Functor)((function(t,n){return Object(o.pipe)(n,a.n.fromReadonlyArray,a.h.fold((function(){return[[t]]}),a.n.foldMap(a.n.getSemigroup())(a.n.map(a.l.prepend(t)))))})),a.l.filterMap(a.n.fromReadonlyArray))},lt=function t(n){return function(e){return function(r){return a.y.make(Object(f.a)(Object(f.a)({},r.value),{},{siblings:e}),Object(o.pipe)(r.forest,a.l.map(Object(o.pipe)(r.forest,a.l.map((function(t){return t.value})),(function(t){return null===r.value?t:a.l.difference(n)([r.value])(t)}),t(n))),a.l.toArray))}}},st=function(t){return lt(t)([])},ft=e(83),ht=e(145),pt=e(102),dt=e(5),mt=e.n(dt),bt=e(300),jt=e(122),Ot=Object(o.constant)({type:"Constant",value:!0}),vt=Object(o.constant)({type:"Constant",value:!1}),yt=["Conjunction","Disjunction","Negation","Otherwise","OtherBid","ForceOneRound","ForceGame","ForceSlam","Relay","SuitPrimary","SuitSecondary"],gt=function(t){return function(t){return a.l.elem(a.v.Eq)(t.type)(yt)}(t)?a.d.left(t):a.d.right(t)},St=a.k.getMonoidAny(),kt=a.k.getMonoidAll(),xt=o.constFalse,_t=(o.constTrue,Object(o.pipe)(St,a.l.foldMap)),Ct=Object(o.pipe)(kt,a.l.foldMap),wt=Object(o.flow)((function(t){return a.j.between(a.g.Ord)(t.min,t.max)}),a.k.contramap(X)),At=function(t){var n="Major"===t.suit?["S","H"]:"Minor"===t.suit?["D","C"]:[t.suit];return Object(o.flow)(ut,(function(e){return Object(o.pipe)(n,a.l.exists((function(n){return a.j.between(a.g.Ord)(t.min,t.max)(e[n])})))}))},Rt=function(t){return function(n,e){return Object(o.flow)(ut,(function(r){return function(t){switch(t){case"<":return a.j.lt(a.g.Ord);case"<=":return a.j.leq(a.g.Ord);case"=":return a.g.Eq.equals;case">=":return a.j.geq(a.g.Ord);case">":return a.j.gt(a.g.Ord);default:return h(t)}}(t)(r[n],r[e])}))}},Bt=a.p.fromReadonlyArray(k),Pt=function(t){return Object(o.flow)(ct,(function(n){return et.equals(t,n)}))},Ft=Object(o.pipe)([nt(4,3,3,3),nt(5,3,3,2),nt(4,4,3,2),nt(5,5,3,2)],_t(Pt)),Et=Object(o.pipe)([nt(5,4,2,2),nt(6,3,2,2)],_t(Pt)),Nt={bid:{},path:[],force:a.h.none,primarySuit:a.h.none,secondarySuit:a.h.none,peers:[]},Mt=jt.a.fromProp(),Dt=Mt("bid"),qt=Mt("path"),Ht=Mt("force"),Tt=Mt("primarySuit"),It=Mt("secondarySuit"),$t=Mt("peers"),Wt=(Object(o.pipe)($t,jt.d.composeTraversal(Object(jt.c)(a.l.Traversable)())),jt.b.fromOptionProp()),Kt=(Wt("force"),Wt("primarySuit"),Wt("secondarySuit"),function(t){return function(n){return Object(o.flow)(a.u.traverseArray(n),a.u.map(t))}}),Gt=Kt(_t(o.identity)),Lt=Kt(Ct(o.identity)),Ut=function(t){switch(t.type){case"Constant":return Object(o.constant)(t.value);case"PointRange":return wt(t);case"SuitRange":return At(t);case"SuitComparison":return Rt(t.op)(t.left,t.right);case"SuitHonors":return r=t,Object(o.flow)(it,a.o.lookup(r.suit),a.h.fold(o.constFalse,(function(t){var n=Object(o.pipe)(t,a.l.map((function(t){return t.rank})),Bt,a.p.intersection(k)(Bt(w))),e=Object(o.pipe)(r.honors,Bt);return Object(o.pipe)(e,a.p.isSubset(k)(n))})));case"SuitTop":return e=t,Object(o.flow)(it,a.o.lookup(e.suit),a.h.fold(o.constFalse,Object(o.flow)(a.l.map((function(t){return t.rank})),a.l.filter((function(t){return x.compare(t,e.minRank)>=0})),(function(t){return t.length>=e.count}))));case"Balanced":return Ft;case"SemiBalanced":return a.k.or(Ft)(Et);case"Unbalanced":return a.k.not(a.k.or(Ft)(Et));case"AnyShape":return Pt(t.counts);case"SpecificShape":return n=t.suits,Object(o.flow)(ut,(function(t){return a.r.getEq(bt.eqStrict).equals(t,n)}));default:return h(t)}var n,e,r},Qt=function(t){return a.u.chain((function(n){switch(n.type){case"Conjunction":return Object(o.pipe)(n.constraints,a.n.map((function(t){return a.u.of(t)})),Lt(t));case"Disjunction":return Object(o.pipe)(n.constraints,a.n.map((function(t){return a.u.of(t)})),Gt(t));case"Negation":return Object(o.pipe)(n.constraint,a.u.of,t,a.u.map(a.k.not));case"Otherwise":return Object(o.pipe)(a.u.gets((function(t){return Object(o.pipe)(t,$t.get,a.l.takeLeftWhile((function(n){return!Z.equals(n.bid,t.bid)})))})),a.u.chain(Object(o.flow)(a.l.map((function(t){return Object(o.pipe)(a.u.modify(Dt.set(t.bid)),a.u.map((function(){return t.constraint})))})),Lt(Object(o.flow)(t,a.u.map(a.k.not))))));case"OtherBid":return Object(o.pipe)(a.u.gets(Object(o.flow)($t.get,a.l.findFirst((function(t){return Z.equals(t.bid,n.bid)})))),a.u.chain(a.h.fold((function(){return a.u.of(xt)}),(function(n){return Object(o.pipe)(a.u.gets(Dt.get),a.u.chain((function(e){return Z.equals(e,n.bid)?a.u.of(o.constFalse):t(a.u.of(n.constraint))})))}))));case"ForceOneRound":case"ForceGame":case"ForceSlam":case"Relay":return Object(o.pipe)(a.u.modify(Ht.set(a.h.some(n))),a.u.map((function(){return o.constTrue})));case"SuitPrimary":return Object(o.pipe)(a.u.modify(Tt.set(a.h.some(n.suit))),a.u.map((function(){return t=n.suit,Object(o.pipe)(j,a.l.splitAt(j.indexOf(t)),a.q.bimap(Object(o.flow)(a.l.tail,a.h.fold((function(){return[]}),a.l.map((function(n){return Rt("<")(n,t)})))),a.l.map((function(n){return Rt("<=")(n,t)}))),a.l.flatten,a.l.prepend(At({type:"SuitRange",suit:t,min:5,max:13})),Ct(o.identity));var t})));case"SuitSecondary":return Object(o.pipe)(a.u.modify(It.set(a.h.some(n.suit))),a.u.chain((function(){return a.u.gets((function(t){return t.primarySuit}))})),a.i.map(a.u.Functor)((e=n.suit,function(t){return Object(o.pipe)(a.l.Do,a.l.apS("suit",[e,t]),a.l.apS("otherSuit",Object(o.pipe)(j,a.l.difference(O)([e,t]))),a.l.filter((function(t){var n=t.suit,e=t.otherSuit;return!O.equals(n,e)})),a.l.map((function(t){var n=t.suit,e=t.otherSuit;return Rt(">")(n,e)})),a.l.concat([At({type:"SuitRange",suit:e,min:4,max:13}),Rt(">=")(t,e)]),Ct(o.identity))})),a.u.map(a.h.getOrElseW((function(){return xt}))));default:return h(n)}var e}))},Jt=function t(n){return Object(o.pipe)(n,a.u.map(gt),a.u.chain(a.d.fold(Object(o.flow)(a.u.of,Qt(t)),(function(t){return Object(o.pipe)(a.u.of(Ut),a.u.ap(a.u.of(t)))}))))};Object(o.flow)((function(t){return Object(o.pipe)(t,a.u.of,Jt)}),a.u.evaluate(Nt));!function(t){var n=mt.a.mark(e);function e(t,e){return mt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,t;case 3:return n.next=5,e;case 5:n.next=0;break;case 7:case"end":return n.stop()}}),n)}t.alternate=e;var r=t.unfold=function(t){return function(n){var e=n.next();return e.done||0===t?[]:[e.value].concat(Object(c.a)(r(t-1)(n)))}}}(r||(r={}));var zt,Vt,Zt,Xt,Yt,tn,nn,en,rn,un,cn,an,on,ln,sn,fn,hn,pn,dn,mn,bn,jn,On,vn,yn,gn,Sn,kn,xn,_n,Cn,wn,An,Rn,Bn,Pn,Fn,En,Nn,Mn,Dn,qn,Hn,Tn,In,$n,Wn,Kn,Gn,Ln=function(t,n){return function(e){return Object(o.pipe)(r.alternate(t,n),r.unfold(e.length),a.l.zip(e),a.u.traverseArray((function(t){var n=Object(i.a)(t,2),e=n[0],r=n[1],u=r.bid,c=r.siblings,l=r.constraint;return Object(o.pipe)(a.u.modify($t.set(c)),a.u.chain((function(){return a.u.modify(Dt.set(u))})),a.u.chain((function(){return a.u.of(l)})),Object(o.flow)(function(t){return function(n){return Object(o.pipe)(n,a.u.bindTo("constraint"),a.u.bind("relay",(function(n){var e=n.constraint;return a.u.gets(Object(o.flow)(Ht.get,a.h.fold(o.constFalse,(function(n){return"Constant"===e.type&&!e.value&&"Relay"===n.type&&Z.equals(n.bid,t)}))))})),a.u.map((function(t){return t.relay?Ot():t.constraint})))}}(u),Jt),a.u.ap(a.u.of(e)),a.u.chain((function(t){return Object(o.pipe)(a.u.modify(qt.modify(a.l.prepend(u))),a.u.map((function(){return t})))})))})),a.u.map(a.l.foldMap(a.c.MonoidAll)(o.identity)),a.u.evaluate(Nt))}},Un=e(24),Qn=e(18),Jn=e(4),zn=e(2);!function(t){t.Start="Start",t.BidSpec="BidSpec",t.BidSpecConstraintList="BidSpecConstraintList",t.Bid_1="Bid_1",t.Bid_2="Bid_2",t.ContractBid="ContractBid",t.BidSpecifier_1="BidSpecifier_1",t.BidSpecifier_2="BidSpecifier_2",t.Wildcard="Wildcard",t.SuitSpecifier_1="SuitSpecifier_1",t.SuitSpecifier_2="SuitSpecifier_2",t.SuitSpecifier_3="SuitSpecifier_3",t.Major="Major",t.Minor="Minor",t.NonContractBid="NonContractBid",t.Pass="Pass",t.Strain_1="Strain_1",t.Strain_2="Strain_2",t.Suit_1="Suit_1",t.Suit_2="Suit_2",t.Suit_3="Suit_3",t.Suit_4="Suit_4",t.Club="Club",t.Diamond="Diamond",t.Heart="Heart",t.Spade="Spade",t.Notrump="Notrump",t.Honor="Honor",t.ConstraintList="ConstraintList",t.ConstraintListItem="ConstraintListItem",t.Constraint_1="Constraint_1",t.Constraint_2="Constraint_2",t.Constraint_3="Constraint_3",t.Constraint_4="Constraint_4",t.Constraint_5="Constraint_5",t.Constraint_6="Constraint_6",t.Constraint_7="Constraint_7",t.Constraint_8="Constraint_8",t.Constraint_9="Constraint_9",t.Constraint_10="Constraint_10",t.Constraint_11="Constraint_11",t.Constraint_12="Constraint_12",t.Constraint_13="Constraint_13",t.Constraint_14="Constraint_14",t.Constraint_15="Constraint_15",t.Constraint_16="Constraint_16",t.Const_1="Const_1",t.Const_2="Const_2",t.True="True",t.False="False",t.Or="Or",t.And="And",t.Not="Not",t.Not_$0_1="Not_$0_1",t.Not_$0_2="Not_$0_2",t.Otherwise="Otherwise",t.PointRange="PointRange",t.PointBound="PointBound",t.SuitRange="SuitRange",t.SuitBound="SuitBound",t.SuitRangeSpecifier="SuitRangeSpecifier",t.SuitComparison="SuitComparison",t.SuitComparisonOperator_1="SuitComparisonOperator_1",t.SuitComparisonOperator_2="SuitComparisonOperator_2",t.SuitComparisonOperator_3="SuitComparisonOperator_3",t.SuitComparisonOperator_4="SuitComparisonOperator_4",t.SuitComparisonOperator_5="SuitComparisonOperator_5",t.SuitHonors="SuitHonors",t.SuitTop="SuitTop",t.BoundQualifier_1="BoundQualifier_1",t.BoundQualifier_2="BoundQualifier_2",t.BoundQualifier_3="BoundQualifier_3",t.Plus="Plus",t.Minus="Minus",t.Equals="Equals",t.OtherBid="OtherBid",t.Distribution_1="Distribution_1",t.Distribution_2="Distribution_2",t.Distribution_3="Distribution_3",t.Distribution_4="Distribution_4",t.Distribution_5="Distribution_5",t.Balanced="Balanced",t.SemiBalanced="SemiBalanced",t.Unbalanced="Unbalanced",t.AnyShape="AnyShape",t.SpecificShape="SpecificShape",t.SuitRank_1="SuitRank_1",t.SuitRank_2="SuitRank_2",t.Primary="Primary",t.Secondary="Secondary",t.Response_1="Response_1",t.Response_2="Response_2",t.Response_3="Response_3",t.Response_4="Response_4",t.ForceOneRound="ForceOneRound",t.ForceGame="ForceGame",t.ForceSlam="ForceSlam",t.Relay="Relay",t.Digit="Digit",t.Number="Number",t.$EOF="$EOF"}(Gn||(Gn={}));var Vn=function t(n){Object(zn.a)(this,t),this.kind=Gn.Digit,this.literal=void 0,this.value=void 0,this.literal=n,this.value=parseInt(n)},Zn=function t(n){Object(zn.a)(this,t),this.kind=Gn.Number,this.literal=void 0,this.value=void 0,this.literal=n,this.value=parseInt(n)},Xn=function(){function t(n){Object(zn.a)(this,t),this.input=void 0,this.pos=void 0,this.negating=!1,this.memoSafe=!0,this.$scope$Constraint$memo=new Map,this.pos={overallPos:0,line:1,offset:0},this.input=n}return Object(Jn.a)(t,[{key:"reset",value:function(t){this.pos=t}},{key:"finished",value:function(){return this.pos.overallPos===this.input.length}},{key:"clearMemos",value:function(){this.$scope$Constraint$memo.clear()}},{key:"matchStart",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.matchBidSpec(t+1,n))&&null!==e.match$EOF(n)&&(i={kind:Gn.Start,spec:r}),i}))}},{key:"matchBidSpec",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,u=null;return null!==(r=e.matchBid(t+1,n))&&(i=e.matchBidSpecConstraintList(t+1,n),1)&&(u={kind:Gn.BidSpec,bid:r,constraints:i}),u}))}},{key:"matchBidSpecConstraintList",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==e.regexAccept(String.raw(zt||(zt=Object(Qn.a)(["(?:: )"]))),t+1,n)&&null!==(r=e.matchConstraintList(t+1,n))&&(i={kind:Gn.BidSpecConstraintList,constraints:r}),i}))}},{key:"matchBid",value:function(t,n){var e=this;return this.choice([function(){return e.matchBid_1(t+1,n)},function(){return e.matchBid_2(t+1,n)}])}},{key:"matchBid_1",value:function(t,n){return this.matchContractBid(t+1,n)}},{key:"matchBid_2",value:function(t,n){return this.matchNonContractBid(t+1,n)}},{key:"matchContractBid",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,u=null;return null!==(r=e.matchDigit(t+1,n))&&null!==(i=e.matchBidSpecifier(t+1,n))&&(u={kind:Gn.ContractBid,level:r,specifier:i}),u}))}},{key:"matchBidSpecifier",value:function(t,n){var e=this;return this.choice([function(){return e.matchBidSpecifier_1(t+1,n)},function(){return e.matchBidSpecifier_2(t+1,n)}])}},{key:"matchBidSpecifier_1",value:function(t,n){return this.matchWildcard(t+1,n)}},{key:"matchBidSpecifier_2",value:function(t,n){return this.matchSuitSpecifier(t+1,n)}},{key:"matchWildcard",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(Vt||(Vt=Object(Qn.a)(["(?:x)"]))),t+1,n))&&(i={kind:Gn.Wildcard,v:r}),i}))}},{key:"matchSuitSpecifier",value:function(t,n){var e=this;return this.choice([function(){return e.matchSuitSpecifier_1(t+1,n)},function(){return e.matchSuitSpecifier_2(t+1,n)},function(){return e.matchSuitSpecifier_3(t+1,n)}])}},{key:"matchSuitSpecifier_1",value:function(t,n){return this.matchMajor(t+1,n)}},{key:"matchSuitSpecifier_2",value:function(t,n){return this.matchMinor(t+1,n)}},{key:"matchSuitSpecifier_3",value:function(t,n){return this.matchStrain(t+1,n)}},{key:"matchMajor",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(Zt||(Zt=Object(Qn.a)(["(?:M)"]))),t+1,n))&&(i={kind:Gn.Major,v:r}),i}))}},{key:"matchMinor",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(Xt||(Xt=Object(Qn.a)(["(?:m)"]))),t+1,n))&&(i={kind:Gn.Minor,v:r}),i}))}},{key:"matchNonContractBid",value:function(t,n){return this.matchPass(t+1,n)}},{key:"matchPass",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(Yt||(Yt=Object(Qn.a)(["(?:P)"]))),t+1,n))&&(i={kind:Gn.Pass,v:r}),i}))}},{key:"matchStrain",value:function(t,n){var e=this;return this.choice([function(){return e.matchStrain_1(t+1,n)},function(){return e.matchStrain_2(t+1,n)}])}},{key:"matchStrain_1",value:function(t,n){return this.matchSuit(t+1,n)}},{key:"matchStrain_2",value:function(t,n){return this.matchNotrump(t+1,n)}},{key:"matchSuit",value:function(t,n){var e=this;return this.choice([function(){return e.matchSuit_1(t+1,n)},function(){return e.matchSuit_2(t+1,n)},function(){return e.matchSuit_3(t+1,n)},function(){return e.matchSuit_4(t+1,n)}])}},{key:"matchSuit_1",value:function(t,n){return this.matchClub(t+1,n)}},{key:"matchSuit_2",value:function(t,n){return this.matchDiamond(t+1,n)}},{key:"matchSuit_3",value:function(t,n){return this.matchHeart(t+1,n)}},{key:"matchSuit_4",value:function(t,n){return this.matchSpade(t+1,n)}},{key:"matchClub",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(tn||(tn=Object(Qn.a)(["(?:[Cc\u2663\u2667])"]))),t+1,n))&&(i={kind:Gn.Club,v:r}),i}))}},{key:"matchDiamond",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(nn||(nn=Object(Qn.a)(["(?:[Dd\u2666\u2662])"]))),t+1,n))&&(i={kind:Gn.Diamond,v:r}),i}))}},{key:"matchHeart",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(en||(en=Object(Qn.a)(["(?:[Hh\u2665\u2661])"]))),t+1,n))&&(i={kind:Gn.Heart,v:r}),i}))}},{key:"matchSpade",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(rn||(rn=Object(Qn.a)(["(?:[Ss\u2660\u2664])"]))),t+1,n))&&(i={kind:Gn.Spade,v:r}),i}))}},{key:"matchNotrump",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(un||(un=Object(Qn.a)(["(?:[Nn])"]))),t+1,n))&&(e.regexAccept(String.raw(cn||(cn=Object(Qn.a)(["(?:[Tt])"]))),t+1,n),1)&&(i={kind:Gn.Notrump,v:r}),i}))}},{key:"matchHonor",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(an||(an=Object(Qn.a)(["(?:[AKQJT])"]))),t+1,n))&&(i={kind:Gn.Honor,v:r}),i}))}},{key:"matchConstraintList",value:function(t,n){var e=this;return this.loop((function(){return e.matchConstraintListItem(t+1,n)}),!1)}},{key:"matchConstraintListItem",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.matchConstraint(t+1,n))&&(e.regexAccept(String.raw(on||(on=Object(Qn.a)(["(?: )"]))),t+1,n),1)&&(i={kind:Gn.ConstraintListItem,constraint:r}),i}))}},{key:"matchConstraint",value:function(t,n){var e=this,r=this.mark(),i=this.$scope$Constraint$memo.get(r.overallPos);if(void 0!==i)return this.reset(i[1]),i[0];var u=this.memoSafe;this.memoSafe=!1,this.$scope$Constraint$memo.set(r.overallPos,[null,r]);for(var c=null,a=r;;){this.reset(r);var o=e.choice([function(){return e.matchConstraint_1(t+1,n)},function(){return e.matchConstraint_2(t+1,n)},function(){return e.matchConstraint_3(t+1,n)},function(){return e.matchConstraint_4(t+1,n)},function(){return e.matchConstraint_5(t+1,n)},function(){return e.matchConstraint_6(t+1,n)},function(){return e.matchConstraint_7(t+1,n)},function(){return e.matchConstraint_8(t+1,n)},function(){return e.matchConstraint_9(t+1,n)},function(){return e.matchConstraint_10(t+1,n)},function(){return e.matchConstraint_11(t+1,n)},function(){return e.matchConstraint_12(t+1,n)},function(){return e.matchConstraint_13(t+1,n)},function(){return e.matchConstraint_14(t+1,n)},function(){return e.matchConstraint_15(t+1,n)},function(){return e.matchConstraint_16(t+1,n)}]),l=this.mark();if(l.overallPos<=a.overallPos)break;c=o,a=l,this.$scope$Constraint$memo.set(r.overallPos,[c,a])}return this.reset(a),this.memoSafe=u,c}},{key:"matchConstraint_1",value:function(t,n){return this.matchConst(t+1,n)}},{key:"matchConstraint_2",value:function(t,n){return this.matchOr(t+1,n)}},{key:"matchConstraint_3",value:function(t,n){return this.matchAnd(t+1,n)}},{key:"matchConstraint_4",value:function(t,n){return this.matchNot(t+1,n)}},{key:"matchConstraint_5",value:function(t,n){return this.matchOtherwise(t+1,n)}},{key:"matchConstraint_6",value:function(t,n){return this.matchDistribution(t+1,n)}},{key:"matchConstraint_7",value:function(t,n){return this.matchResponse(t+1,n)}},{key:"matchConstraint_8",value:function(t,n){return this.matchSuitRange(t+1,n)}},{key:"matchConstraint_9",value:function(t,n){return this.matchSuitBound(t+1,n)}},{key:"matchConstraint_10",value:function(t,n){return this.matchSuitComparison(t+1,n)}},{key:"matchConstraint_11",value:function(t,n){return this.matchSuitHonors(t+1,n)}},{key:"matchConstraint_12",value:function(t,n){return this.matchSuitTop(t+1,n)}},{key:"matchConstraint_13",value:function(t,n){return this.matchSuitRank(t+1,n)}},{key:"matchConstraint_14",value:function(t,n){return this.matchPointRange(t+1,n)}},{key:"matchConstraint_15",value:function(t,n){return this.matchPointBound(t+1,n)}},{key:"matchConstraint_16",value:function(t,n){return this.matchOtherBid(t+1,n)}},{key:"matchConst",value:function(t,n){var e=this;return this.choice([function(){return e.matchConst_1(t+1,n)},function(){return e.matchConst_2(t+1,n)}])}},{key:"matchConst_1",value:function(t,n){return this.matchTrue(t+1,n)}},{key:"matchConst_2",value:function(t,n){return this.matchFalse(t+1,n)}},{key:"matchTrue",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(ln||(ln=Object(Qn.a)(["(?:true)"]))),t+1,n))&&(i={kind:Gn.True,v:r}),i}))}},{key:"matchFalse",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(sn||(sn=Object(Qn.a)(["(?:false)"]))),t+1,n))&&(i={kind:Gn.False,v:r}),i}))}},{key:"matchOr",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,u=null;return null!==(r=e.matchConstraint(t+1,n))&&null!==e.regexAccept(String.raw(fn||(fn=Object(Qn.a)(["(?: or )"]))),t+1,n)&&null!==(i=e.matchConstraint(t+1,n))&&(u={kind:Gn.Or,left:r,right:i}),u}))}},{key:"matchAnd",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==e.regexAccept(String.raw(hn||(hn=Object(Qn.a)(["(?:()"],["(?:\\()"]))),t+1,n)&&null!==(r=e.matchConstraintList(t+1,n))&&null!==e.regexAccept(String.raw(pn||(pn=Object(Qn.a)(["(?:))"],["(?:\\))"]))),t+1,n)&&(i={kind:Gn.And,constraints:r}),i}))}},{key:"matchNot",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==e.matchNot_$0(t+1,n)&&(e.regexAccept(String.raw(dn||(dn=Object(Qn.a)(["(?: )"]))),t+1,n),1)&&null!==(r=e.matchConstraint(t+1,n))&&(i={kind:Gn.Not,constraint:r}),i}))}},{key:"matchNot_$0",value:function(t,n){var e=this;return this.choice([function(){return e.matchNot_$0_1(t+1,n)},function(){return e.matchNot_$0_2(t+1,n)}])}},{key:"matchNot_$0_1",value:function(t,n){return this.regexAccept(String.raw(mn||(mn=Object(Qn.a)(["(?:not)"]))),t+1,n)}},{key:"matchNot_$0_2",value:function(t,n){return this.regexAccept(String.raw(bn||(bn=Object(Qn.a)(["(?:!)"]))),t+1,n)}},{key:"matchOtherwise",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(jn||(jn=Object(Qn.a)(["(?:else)"]))),t+1,n))&&(i={kind:Gn.Otherwise,v:r}),i}))}},{key:"matchPointRange",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,u=null;return null!==(r=e.matchNumber(t+1,n))&&null!==e.regexAccept(String.raw(On||(On=Object(Qn.a)(["(?:-)"]))),t+1,n)&&null!==(i=e.matchNumber(t+1,n))&&(u={kind:Gn.PointRange,lower:r,upper:i}),u}))}},{key:"matchPointBound",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,u=null;return null!==(r=e.matchNumber(t+1,n))&&null!==(i=e.matchBoundQualifier(t+1,n))&&(u={kind:Gn.PointBound,value:r,qualifier:i}),u}))}},{key:"matchSuitRange",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,u,c=null;return null!==(r=e.matchDigit(t+1,n))&&null!==e.regexAccept(String.raw(vn||(vn=Object(Qn.a)(["(?:-)"]))),t+1,n)&&null!==(i=e.matchDigit(t+1,n))&&null!==(u=e.matchSuitRangeSpecifier(t+1,n))&&(c={kind:Gn.SuitRange,lower:r,upper:i,suit:u}),c}))}},{key:"matchSuitBound",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,u,c=null;return null!==(r=e.matchNumber(t+1,n))&&null!==(i=e.matchBoundQualifier(t+1,n))&&null!==(u=e.matchSuitRangeSpecifier(t+1,n))&&(c={kind:Gn.SuitBound,value:r,qualifier:i,suit:u}),c}))}},{key:"matchSuitRangeSpecifier",value:function(t,n){return this.matchSuit(t+1,n)}},{key:"matchSuitComparison",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,u,c=null;return null!==(r=e.matchSuit(t+1,n))&&null!==(i=e.matchSuitComparisonOperator(t+1,n))&&null!==(u=e.matchSuit(t+1,n))&&(c={kind:Gn.SuitComparison,left:r,op:i,right:u}),c}))}},{key:"matchSuitComparisonOperator",value:function(t,n){var e=this;return this.choice([function(){return e.matchSuitComparisonOperator_1(t+1,n)},function(){return e.matchSuitComparisonOperator_2(t+1,n)},function(){return e.matchSuitComparisonOperator_3(t+1,n)},function(){return e.matchSuitComparisonOperator_4(t+1,n)},function(){return e.matchSuitComparisonOperator_5(t+1,n)}])}},{key:"matchSuitComparisonOperator_1",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(yn||(yn=Object(Qn.a)(["(?:<)"]))),t+1,n))&&(i={kind:Gn.SuitComparisonOperator_1,v:r}),i}))}},{key:"matchSuitComparisonOperator_2",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(gn||(gn=Object(Qn.a)(["(?:<=)"]))),t+1,n))&&(i={kind:Gn.SuitComparisonOperator_2,v:r}),i}))}},{key:"matchSuitComparisonOperator_3",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(Sn||(Sn=Object(Qn.a)(["(?:=)"]))),t+1,n))&&(i={kind:Gn.SuitComparisonOperator_3,v:r}),i}))}},{key:"matchSuitComparisonOperator_4",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(kn||(kn=Object(Qn.a)(["(?:>=)"]))),t+1,n))&&(i={kind:Gn.SuitComparisonOperator_4,v:r}),i}))}},{key:"matchSuitComparisonOperator_5",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(xn||(xn=Object(Qn.a)(["(?:>)"]))),t+1,n))&&(i={kind:Gn.SuitComparisonOperator_5,v:r}),i}))}},{key:"matchSuitHonors",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,u=null;return null!==(r=e.matchSuit(t+1,n))&&null!==(i=e.loop((function(){return e.matchHonor(t+1,n)}),!1))&&(u={kind:Gn.SuitHonors,suit:r,honors:i}),u}))}},{key:"matchSuitTop",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,u,c=null;return null!==(r=e.matchSuit(t+1,n))&&null!==(i=e.regexAccept(String.raw(_n||(_n=Object(Qn.a)(["(?:[0-5])"]))),t+1,n))&&null!==e.regexAccept(String.raw(Cn||(Cn=Object(Qn.a)(["(?:/)"]))),t+1,n)&&null!==(u=e.regexAccept(String.raw(wn||(wn=Object(Qn.a)(["(?:[1-5])"]))),t+1,n))&&(c={kind:Gn.SuitTop,suit:r,x:i,y:u}),c}))}},{key:"matchBoundQualifier",value:function(t,n){var e=this;return this.choice([function(){return e.matchBoundQualifier_1(t+1,n)},function(){return e.matchBoundQualifier_2(t+1,n)},function(){return e.matchBoundQualifier_3(t+1,n)}])}},{key:"matchBoundQualifier_1",value:function(t,n){return this.matchPlus(t+1,n)}},{key:"matchBoundQualifier_2",value:function(t,n){return this.matchMinus(t+1,n)}},{key:"matchBoundQualifier_3",value:function(t,n){return this.matchEquals(t+1,n)}},{key:"matchPlus",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(An||(An=Object(Qn.a)(["(?:+)"],["(?:\\+)"]))),t+1,n))&&(i={kind:Gn.Plus,v:r}),i}))}},{key:"matchMinus",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(Rn||(Rn=Object(Qn.a)(["(?:-)"],["(?:\\-)"]))),t+1,n))&&(i={kind:Gn.Minus,v:r}),i}))}},{key:"matchEquals",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(Bn||(Bn=Object(Qn.a)(["(?:=)"]))),t+1,n))&&(i={kind:Gn.Equals,v:r}),i}))}},{key:"matchOtherBid",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,u=null;return null!==(r=e.matchNumber(t+1,n))&&null!==(i=e.matchStrain(t+1,n))&&(u={kind:Gn.OtherBid,level:r,strain:i}),u}))}},{key:"matchDistribution",value:function(t,n){var e=this;return this.choice([function(){return e.matchDistribution_1(t+1,n)},function(){return e.matchDistribution_2(t+1,n)},function(){return e.matchDistribution_3(t+1,n)},function(){return e.matchDistribution_4(t+1,n)},function(){return e.matchDistribution_5(t+1,n)}])}},{key:"matchDistribution_1",value:function(t,n){return this.matchBalanced(t+1,n)}},{key:"matchDistribution_2",value:function(t,n){return this.matchSemiBalanced(t+1,n)}},{key:"matchDistribution_3",value:function(t,n){return this.matchUnbalanced(t+1,n)}},{key:"matchDistribution_4",value:function(t,n){return this.matchAnyShape(t+1,n)}},{key:"matchDistribution_5",value:function(t,n){return this.matchSpecificShape(t+1,n)}},{key:"matchBalanced",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(Pn||(Pn=Object(Qn.a)(["(?:BAL)"]))),t+1,n))&&(i={kind:Gn.Balanced,v:r}),i}))}},{key:"matchSemiBalanced",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(Fn||(Fn=Object(Qn.a)(["(?:semiBAL)"]))),t+1,n))&&(i={kind:Gn.SemiBalanced,v:r}),i}))}},{key:"matchUnbalanced",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(En||(En=Object(Qn.a)(["(?:unBAL)"]))),t+1,n))&&(i={kind:Gn.Unbalanced,v:r}),i}))}},{key:"matchAnyShape",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(Nn||(Nn=Object(Qn.a)(["(?:[0-9]{4})"]))),t+1,n))&&null!==e.regexAccept(String.raw(Mn||(Mn=Object(Qn.a)(["(?:*)"],["(?:\\*)"]))),t+1,n)&&(i={kind:Gn.AnyShape,v:r}),i}))}},{key:"matchSpecificShape",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,u,c,a=null;return null!==(r=e.matchDigit(t+1,n))&&null!==(i=e.matchDigit(t+1,n))&&null!==(u=e.matchDigit(t+1,n))&&null!==(c=e.matchDigit(t+1,n))&&(a={kind:Gn.SpecificShape,S:r,H:i,D:u,C:c}),a}))}},{key:"matchSuitRank",value:function(t,n){var e=this;return this.choice([function(){return e.matchSuitRank_1(t+1,n)},function(){return e.matchSuitRank_2(t+1,n)}])}},{key:"matchSuitRank_1",value:function(t,n){return this.matchPrimary(t+1,n)}},{key:"matchSuitRank_2",value:function(t,n){return this.matchSecondary(t+1,n)}},{key:"matchPrimary",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.matchSuit(t+1,n))&&null!==e.regexAccept(String.raw(Dn||(Dn=Object(Qn.a)(["(?:1)"]))),t+1,n)&&(i={kind:Gn.Primary,suit:r}),i}))}},{key:"matchSecondary",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.matchSuit(t+1,n))&&null!==e.regexAccept(String.raw(qn||(qn=Object(Qn.a)(["(?:2)"]))),t+1,n)&&(i={kind:Gn.Secondary,suit:r}),i}))}},{key:"matchResponse",value:function(t,n){var e=this;return this.choice([function(){return e.matchResponse_1(t+1,n)},function(){return e.matchResponse_2(t+1,n)},function(){return e.matchResponse_3(t+1,n)},function(){return e.matchResponse_4(t+1,n)}])}},{key:"matchResponse_1",value:function(t,n){return this.matchForceOneRound(t+1,n)}},{key:"matchResponse_2",value:function(t,n){return this.matchForceGame(t+1,n)}},{key:"matchResponse_3",value:function(t,n){return this.matchForceSlam(t+1,n)}},{key:"matchResponse_4",value:function(t,n){return this.matchRelay(t+1,n)}},{key:"matchForceOneRound",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(Hn||(Hn=Object(Qn.a)(["(?:F1)"]))),t+1,n))&&(i={kind:Gn.ForceOneRound,v:r}),i}))}},{key:"matchForceGame",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(Tn||(Tn=Object(Qn.a)(["(?:FG)"]))),t+1,n))&&(i={kind:Gn.ForceGame,v:r}),i}))}},{key:"matchForceSlam",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(In||(In=Object(Qn.a)(["(?:FS)"]))),t+1,n))&&(i={kind:Gn.ForceSlam,v:r}),i}))}},{key:"matchRelay",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==e.regexAccept(String.raw($n||($n=Object(Qn.a)(["(?:->)"]))),t+1,n)&&null!==(r=e.matchOtherBid(t+1,n))&&(i={kind:Gn.Relay,bid:r}),i}))}},{key:"matchDigit",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(Wn||(Wn=Object(Qn.a)(["(?:[0-9])"]))),t+1,n))&&(i=new Vn(r)),i}))}},{key:"matchNumber",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(Kn||(Kn=Object(Qn.a)(["(?:[0-9]+)"]))),t+1,n))&&(i=new Zn(r)),i}))}},{key:"test",value:function(){var t=this.mark(),n=null!==this.matchStart(0);return this.reset(t),n}},{key:"parse",value:function(){var t=this.mark(),n=this.matchStart(0);if(n)return{ast:n,errs:[]};this.reset(t);var e=new ue;this.clearMemos(),this.matchStart(0,e);var r=e.getErr();return{ast:n,errs:null!==r?[r]:[]}}},{key:"mark",value:function(){return this.pos}},{key:"loop",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=this.mark(),r=[];;){var i=t();if(null===i)break;r.push(i)}return n||r.length>0?r:(this.reset(e),null)}},{key:"run",value:function(t,n){var e=this.mark(),r=n();return null!==r?r:(this.reset(e),null)}},{key:"choice",value:function(t){var n,e=Object(Un.a)(t);try{for(e.s();!(n=e.n()).done;){var r=(0,n.value)();if(null!==r)return r}}catch(i){e.e(i)}finally{e.f()}return null}},{key:"regexAccept",value:function(t,n,e){var r=this;return this.run(n,(function(){var n=new RegExp(t,"y"),i=r.mark();n.lastIndex=i.overallPos;var u=r.tryConsume(n);return e&&e.record(i,u,{kind:"RegexMatch",literal:t.substring(3,t.length-1),negated:r.negating}),u}))}},{key:"tryConsume",value:function(t){var n=t.exec(this.input);if(n){for(var e=0,r=-1,i=0;i<n[0].length;++i)"\n"===n[0][i]&&(++e,r=i);return this.pos={overallPos:t.lastIndex,line:this.pos.line+e,offset:-1===r?this.pos.offset+n[0].length:n[0].length-r-1},n[0]}return null}},{key:"noConsume",value:function(t){var n=this.mark(),e=t();return this.reset(n),e}},{key:"negate",value:function(t){var n=this.mark(),e=this.negating;this.negating=!e;var r=t();return this.negating=e,this.reset(n),null===r||null}},{key:"memoise",value:function(t,n){var e=this.mark(),r=n.get(e.overallPos);if(this.memoSafe&&void 0!==r)return this.reset(r[1]),r[0];var i=t();return this.memoSafe&&n.set(e.overallPos,[i,this.mark()]),i}},{key:"match$EOF",value:function(t){var n=this.finished()?{kind:Gn.$EOF}:null;return t&&t.record(this.mark(),n,{kind:"EOF",negated:this.negating}),n}}]),t}();var Yn,te,ne,ee,re,ie=function(){function t(n,e){Object(zn.a)(this,t),this.pos=void 0,this.expmatches=void 0,this.pos=n,this.expmatches=Object(c.a)(e)}return Object(Jn.a)(t,[{key:"toString",value:function(){return"Syntax Error at line ".concat(this.pos.line,":").concat(this.pos.offset,". Expected one of ").concat(this.expmatches.map((function(t){return"EOF"===t.kind?" EOF":" ".concat(t.negated?"not ":"","'").concat(t.literal,"'")})))}}]),t}(),ue=function(){function t(){Object(zn.a)(this,t),this.mxpos={overallPos:-1,line:-1,offset:-1},this.regexset=new Set,this.pmatches=[]}return Object(Jn.a)(t,[{key:"record",value:function(t,n,e){null===n!==e.negated&&(t.overallPos>this.mxpos.overallPos&&(this.mxpos=t,this.pmatches=[],this.regexset.clear()),this.mxpos.overallPos===t.overallPos&&("RegexMatch"===e.kind?(this.regexset.has(e.literal)||this.pmatches.push(e),this.regexset.add(e.literal)):this.pmatches.push(e)))}},{key:"getErr",value:function(){return-1!==this.mxpos.overallPos?new ie(this.mxpos,this.pmatches):null}}]),t}(),ce=function(t){return Object(o.pipe)(t,a.n.fromReadonlyArray,a.h.map(Object(o.flow)(a.n.map(he),a.d.fromPredicate((function(t){return t.length>1}),(function(t){return t[0]})))))},ae=function(t,n){return Object(o.flow)(ce,a.e.match(a.h.Functor)(o.identity,(function(n){return{type:t,constraints:n}})),a.h.getOrElse(n))},oe=function(t){return t.kind===Gn.Club?"C":t.kind===Gn.Diamond?"D":t.kind===Gn.Heart?"H":"S"},le=function(t){return t.kind===Gn.Notrump?"N":oe(t)},se=function(t){return oe(t)},fe=function(t,n){return function(e){return Object(o.pipe)(n,a.h.of,a.h.filter((function(n){return t.kind===Gn.Equals||"min"===e&&t.kind===Gn.Plus||"max"===e&&t.kind===Gn.Minus})))}},he=function t(n){switch(n.kind){case Gn.True:return Ot();case Gn.False:return vt();case Gn.And:return Object(o.pipe)(n.constraints,a.l.map((function(t){return t.constraint})),ae("Conjunction",Ot));case Gn.Otherwise:return{type:"Otherwise"};case Gn.Or:return Object(o.pipe)(function t(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return n.kind===Gn.Or?t.apply(void 0,[n.left,n.right].concat(r)):Object(o.pipe)(r,a.n.fromReadonlyArray,a.h.fold((function(){return[n]}),(function(e){return[n].concat(Object(c.a)(t.apply(void 0,[e[0]].concat(Object(c.a)(e.slice(1))))))})))}(n.left,n.right),ae("Disjunction",vt));case Gn.Not:return{type:"Negation",constraint:t(n.constraint)};case Gn.OtherBid:return{type:"OtherBid",bid:{level:n.level.value,strain:le(n.strain)}};case Gn.PointRange:return{type:"PointRange",min:n.lower.value,max:n.upper.value};case Gn.PointBound:return{type:"PointRange",min:Object(o.pipe)(fe(n.qualifier,n.value.value)("min"),a.h.getOrElse(Object(o.constant)(0))),max:Object(o.pipe)(fe(n.qualifier,n.value.value)("max"),a.h.getOrElse(Object(o.constant)(37)))};case Gn.SuitRange:return{type:"SuitRange",min:n.lower.value,max:n.upper.value,suit:se(n.suit)};case Gn.SuitComparison:return{type:"SuitComparison",op:n.op.v,left:oe(n.left),right:oe(n.right)};case Gn.Primary:case Gn.Secondary:return{type:"Suit".concat(n.kind),suit:oe(n.suit)};case Gn.SuitBound:return{type:"SuitRange",min:Object(o.pipe)(fe(n.qualifier,n.value.value)("min"),a.h.getOrElse(Object(o.constant)(0))),max:Object(o.pipe)(fe(n.qualifier,n.value.value)("max"),a.h.getOrElse(Object(o.constant)(13))),suit:se(n.suit)};case Gn.SuitHonors:return{type:"SuitHonors",suit:oe(n.suit),honors:Object(o.pipe)(n.honors,a.l.fromArray,a.l.traverse(a.h.Applicative)(Object(o.flow)((function(t){return t.v}),A)),a.h.getOrElseW((function(){return[]})))};case Gn.SuitTop:return{type:"SuitTop",suit:oe(n.suit),count:parseInt(n.x),minRank:C[C.length-parseInt(n.y)]};case Gn.AnyShape:return{type:"AnyShape",counts:Object(o.pipe)(n.v,a.v.split(""),a.l.map(parseInt))};case Gn.SpecificShape:return{type:"SpecificShape",suits:Object(o.pipe)(rt,a.o.mapWithIndex((function(t,e){return n[t].value})))};case Gn.Relay:return{type:"Relay",bid:{level:n.bid.level.value,strain:le(n.bid.strain)}};default:return{type:n.kind}}},pe=function(t){switch(t.kind){case Gn.ContractBid:return{level:t.level.value,strain:le(t.specifier)};case Gn.Pass:return"Pass";default:return h(t)}},de=function(t){return new Xn(t).parse()};!function(t){t.Start="Start",t.Hand="Hand",t.Suit="Suit",t.Card="Card",t.$EOF="$EOF"}(re||(re={}));var me=function t(n){Object(zn.a)(this,t),this.kind=re.Card,this.c=void 0,this.rank=void 0,this.c=n,this.rank=["2","3","4","5","6","7","8","9","T","J","Q","K","A"].indexOf(n)+2},be=function(){function t(n){Object(zn.a)(this,t),this.input=void 0,this.pos=void 0,this.negating=!1,this.memoSafe=!0,this.pos={overallPos:0,line:1,offset:0},this.input=n}return Object(Jn.a)(t,[{key:"reset",value:function(t){this.pos=t}},{key:"finished",value:function(){return this.pos.overallPos===this.input.length}},{key:"clearMemos",value:function(){}},{key:"matchStart",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.matchHand(t+1,n))&&null!==e.match$EOF(n)&&(i={kind:re.Start,hand:r}),i}))}},{key:"matchHand",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,u,c,a=null;return null!==(r=e.matchSuit(t+1,n))&&null!==e.regexAccept(String.raw(Yn||(Yn=Object(Qn.a)(["(?:.)"],["(?:\\.)"]))),t+1,n)&&null!==(i=e.matchSuit(t+1,n))&&null!==e.regexAccept(String.raw(te||(te=Object(Qn.a)(["(?:.)"],["(?:\\.)"]))),t+1,n)&&null!==(u=e.matchSuit(t+1,n))&&null!==e.regexAccept(String.raw(ne||(ne=Object(Qn.a)(["(?:.)"],["(?:\\.)"]))),t+1,n)&&null!==(c=e.matchSuit(t+1,n))&&(a={kind:re.Hand,S:r,H:i,D:u,C:c}),a}))}},{key:"matchSuit",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.loop((function(){return e.matchCard(t+1,n)}),!0))&&(i={kind:re.Suit,cards:r}),i}))}},{key:"matchCard",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(ee||(ee=Object(Qn.a)(["(?:[AKQJT2-9])"]))),t+1,n))&&(i=new me(r)),i}))}},{key:"test",value:function(){var t=this.mark(),n=null!==this.matchStart(0);return this.reset(t),n}},{key:"parse",value:function(){var t=this.mark(),n=this.matchStart(0);if(n)return{ast:n,errs:[]};this.reset(t);var e=new Ce;this.clearMemos(),this.matchStart(0,e);var r=e.getErr();return{ast:n,errs:null!==r?[r]:[]}}},{key:"mark",value:function(){return this.pos}},{key:"loop",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=this.mark(),r=[];;){var i=t();if(null===i)break;r.push(i)}return n||r.length>0?r:(this.reset(e),null)}},{key:"run",value:function(t,n){var e=this.mark(),r=n();return null!==r?r:(this.reset(e),null)}},{key:"choice",value:function(t){var n,e=Object(Un.a)(t);try{for(e.s();!(n=e.n()).done;){var r=(0,n.value)();if(null!==r)return r}}catch(i){e.e(i)}finally{e.f()}return null}},{key:"regexAccept",value:function(t,n,e){var r=this;return this.run(n,(function(){var n=new RegExp(t,"y"),i=r.mark();n.lastIndex=i.overallPos;var u=r.tryConsume(n);return e&&e.record(i,u,{kind:"RegexMatch",literal:t.substring(3,t.length-1),negated:r.negating}),u}))}},{key:"tryConsume",value:function(t){var n=t.exec(this.input);if(n){for(var e=0,r=-1,i=0;i<n[0].length;++i)"\n"===n[0][i]&&(++e,r=i);return this.pos={overallPos:t.lastIndex,line:this.pos.line+e,offset:-1===r?this.pos.offset+n[0].length:n[0].length-r-1},n[0]}return null}},{key:"noConsume",value:function(t){var n=this.mark(),e=t();return this.reset(n),e}},{key:"negate",value:function(t){var n=this.mark(),e=this.negating;this.negating=!e;var r=t();return this.negating=e,this.reset(n),null===r||null}},{key:"memoise",value:function(t,n){var e=this.mark(),r=n.get(e.overallPos);if(this.memoSafe&&void 0!==r)return this.reset(r[1]),r[0];var i=t();return this.memoSafe&&n.set(e.overallPos,[i,this.mark()]),i}},{key:"match$EOF",value:function(t){var n=this.finished()?{kind:re.$EOF}:null;return t&&t.record(this.mark(),n,{kind:"EOF",negated:this.negating}),n}}]),t}();var je,Oe,ve,ye,ge,Se,ke,xe,_e=function(){function t(n,e){Object(zn.a)(this,t),this.pos=void 0,this.expmatches=void 0,this.pos=n,this.expmatches=Object(c.a)(e)}return Object(Jn.a)(t,[{key:"toString",value:function(){return"Syntax Error at line ".concat(this.pos.line,":").concat(this.pos.offset,". Expected one of ").concat(this.expmatches.map((function(t){return"EOF"===t.kind?" EOF":" ".concat(t.negated?"not ":"","'").concat(t.literal,"'")})))}}]),t}(),Ce=function(){function t(){Object(zn.a)(this,t),this.mxpos={overallPos:-1,line:-1,offset:-1},this.regexset=new Set,this.pmatches=[]}return Object(Jn.a)(t,[{key:"record",value:function(t,n,e){null===n!==e.negated&&(t.overallPos>this.mxpos.overallPos&&(this.mxpos=t,this.pmatches=[],this.regexset.clear()),this.mxpos.overallPos===t.overallPos&&("RegexMatch"===e.kind?(this.regexset.has(e.literal)||this.pmatches.push(e),this.regexset.add(e.literal)):this.pmatches.push(e)))}},{key:"getErr",value:function(){return-1!==this.mxpos.overallPos?new _e(this.mxpos,this.pmatches):null}}]),t}(),we=function(t){return Object(o.pipe)(j,a.l.map(function(t){return function(n){return Object(o.pipe)(t[n].cards,a.l.map((function(t){return{suit:n,rank:S.decode(t.rank).right}})))}}(t)),a.l.flatten,a.p.fromReadonlyArray(R))},Ae=function(t){return new be(t).parse()},Re={encode:Object(o.flow)(N,a.o.toReadonlyArray,a.l.sort(F()),a.l.map(Object(o.flow)(a.q.snd,a.l.sort(_),a.l.reduce("",(function(t,n){return t+S.encode(n)})))),a.l.intersperse("."),a.l.foldMap(a.v.Monoid)(o.identity))},Be=function(t){return Object(o.pipe)(t,a.n.fromReadonlyArray,a.h.fold(Object(o.constant)(ft.a(null,"No syntax errors reported")),a.n.foldMapWithIndex(pt.getSemigroup())((function(t,n){return pt.of(ht.index(t,"required",pt.of(ht.leaf({pos:n.pos,expmatches:n.expmatches},n.toString()))))}))))},Pe=function(t){return a.d.fromNullable(t.errs)(t.ast)},Fe=function(t){return Object(o.pipe)(ft.c,ft.b(Object(o.flow)(t,Pe,a.d.mapLeft(Be))))},Ee=Object(o.flow)(Fe(de).decode,a.d.map((function(t){return function(t){var n;return{bid:pe(t.bid),constraint:Object(o.pipe)(null===(n=t.constraints)||void 0===n?void 0:n.constraints,a.h.fromNullable,a.h.fold((function(){return[]}),a.l.map((function(t){return t.constraint}))),ae("Conjunction",vt))}}(t.spec)}))),Ne=Object(o.flow)(Fe(Ae).decode,a.d.map((function(t){return we(t.hand)}))),Me=function(){return a.y.make({blockKey:"root",text:"root",bid:a.h.none})},De={system:Me()},qe=function(t){return at(a.h.Functor)((function(n,e){return n.blockKey===t?a.h.some([n]):Object(o.pipe)(e,a.l.findFirstMap(a.h.map(a.l.prepend(n))))}))},He=a.y.reduce([],(function(t,n){return Object(o.pipe)(t,a.l.append(n))})),Te=Object(s.c)({name:"system",initialState:De,reducers:{setSystem:function(t,n){t.system=Object(o.pipe)(function(t){var n=Me(),e=[n];return t.forEach((function(t){var n=e[t.depth+1]={forest:[],value:{blockKey:t.key,text:t.text,bid:a.h.some(Ee(t.text))}};e[t.depth].forest.push(n)})),n}(n.payload),l.a)}}}),Ie=Te.actions.setSystem,$e=function(t,n){return Object(o.pipe)(t.system,qe(n),a.h.toNullable)},We=Object(o.flow)((function(t){return Object(o.pipe)(t.system,He,a.l.map((function(t){return t.bid})),a.l.compact)}),a.l.separate,a.t.left),Ke=Object(o.flow)(a.y.map((function(t){return t.bid})),(function(t){return Object(o.pipe)(t.forest,a.l.map(a.y.traverse(a.h.Applicative)(a.h.chain(a.h.fromEither))),(function(t){return a.y.make(null,Object(o.pipe)(t,a.l.compact,a.l.toArray))}))})),Ge=function(t){return Ke(t.system)},Le=a.y.fold((function(t,n){return 0===n.length||Object(o.pipe)(n,a.l.exists((function(t){return"Pass"===t.value.bid})))?a.y.make(t,n):a.y.make(t,Object(o.pipe)(n,a.l.append(a.y.make({bid:"Pass",constraint:{type:"Otherwise"}})),a.l.toArray))})),Ue=function(t,n){return Object(o.pipe)(t,Ge,(null===n||void 0===n?void 0:n.implicitPass)?Le:o.identity,st(a.f.contramap((function(t){return t.bid}))(Z)),ot)},Qe=Te.reducer,Je=e(76),ze=e(14),Ve=e.n(ze),Ze=e(36),Xe=e(198),Ye=e(37),tr=e(93),nr=Ye.f(a.p.toReadonlyArray(B),a.p.fromReadonlyArray(R)),er=(je=nr,Ye.f(a.d.map(je.get),a.d.map(je.reverseGet))),rr=(Object(o.flow)(a.d.fromPredicate(tr.UuidTool.isUuid,(function(t){return ft.a(t,"Invalid uuid string")})),a.d.map((function(t){return new tr.Uuid(t)}))),function(t){return Object(o.pipe)(new tr.Uuid(t.id).toBytes(),a.l.takeLeft(13),a.l.chain(Object(o.flow)((function(t){return a.l.unfold([t,4],(function(t){var n=Object(i.a)(t,2),e=n[0],r=n[1];return 0===r?a.h.none:a.h.some([3&e,[e>>2,r-1]])}))}),a.l.reverse)))}),ir=m.b(m.e({id:m.d}),(function(t){return Object(o.pipe)(t,rr,a.l.reduce(a.b.replicate(4,0),(function(t,n){return t[n]+=1,t})),a.l.every((function(t){return 13===t})))}),"Deal"),ur={encode:Object(o.flow)(rr,a.n.zip(Object(o.pipe)(P,a.n.sort(B))),a.n.map((function(t){var n=Object(i.a)(t,2),e=n[0],r=n[1];return[D[e],r]})),a.n.groupBy(a.q.fst),a.o.map(Object(o.flow)(a.n.map(a.q.snd),a.p.fromReadonlyArray(R))))},cr={encode:Object(o.flow)(a.o.foldMapWithIndex(a.j.trivial)(a.l.getMonoid())((function(t,n){return Object(o.pipe)(n,a.p.toReadonlyArray(a.j.trivial),a.l.map((function(n){return[n,D.indexOf(t)]})))})),a.l.sort(a.j.contramap((function(t){return t[0]}))(B)),a.l.map(a.q.snd),a.l.chunksOf(4),a.l.map(a.l.reduce(0,(function(t,n){return(t<<2)+n}))),a.l.concat(a.l.replicate(3,0)),a.l.toArray,(function(t){return ir.decode(new tr.Uuid(t)).right}))},ar=Ye.f(cr.encode,ur.encode),or=Ye.f((function(t){return Object(f.a)(Object(f.a)({},t),{},{deal:ar.get(t.deal)})}),(function(t){return Object(f.a)(Object(f.a)({},t),{},{deal:ar.reverseGet(t.deal)})})),lr=Ye.f((function(t){return"".concat(t.level).concat(t.strain)}),(function(t){return{level:parseInt(t.charAt(0)),strain:t.charAt(1)}})),sr=Ye.f((function(t){return Q(t)?t:lr.get(t)}),(function(t){return Q(t)?t:lr.reverseGet(t)})),fr=m.b(m.d,(function(t){return Object(o.pipe)(t,a.v.split("."),a.l.every((function(t){return 2===t.length||Q(t)})))}),"BidPath"),hr=Ye.f(Object(o.flow)(a.l.map(sr.get),a.l.intersperse("."),a.l.foldMap(a.v.Monoid)(o.identity),(function(t){return fr.decode(t).right})),Object(o.flow)(a.v.split("."),a.n.map(sr.reverseGet))),pr=e(301),dr=e.n(pr),mr=e(302),br=e.n(mr),jr=e(598),Or=e(63),vr=e(599),yr=Math.max(window.navigator.hardwareConcurrency-2,1),gr=function(t){return Object(o.pipe)(yr,t,(function(t){return a.l.makeBy(yr,t)}),(function(t){return Object(Or.a)(t)}))},Sr=function(t){return Object(o.pipe)(function(t){var n=new br.a;return Object(o.pipe)((function(){return n.genDeals(t)}),Ze.a.fromTask).pipe(Object(jr.a)())}(Math.ceil(Math.log(t))),Ze.a.chain((function(t){return Object(Or.a)(t)}))).pipe(Object(vr.a)(t))},kr=function(t){var n=new dr.a;return Object(o.pipe)(Object(Or.a)(t),Ze.a.chain((function(t){return Object(Or.a)(n.getResult(t))})))},xr=function(t){return gr((function(n){var e=Math.floor(t.length/n),r=Math.floor(t.length%n);return function(i){return kr(i===n-1?Object(o.pipe)(t,a.l.takeRight(e+r)):Object(o.pipe)(t.slice(i*e,(i+1)*e)))}}))},_r={selectedBlockKey:a.h.none},Cr=function(t){return function(n){var e=Object(i.a)(n,2),r=e[0],u=e[1];t.opener=Object(o.pipe)(r,a.d.right,er.get,l.a),t.responder=Object(o.pipe)(u,a.d.right,er.get,l.a)}},wr=Object(s.b)("abc",(function(t){var n=t.opener,e=t.responder;return Object(o.pipe)(function(t,n){return Object(o.pipe)(M(),a.l.difference(R)(Object(o.pipe)(t,a.p.toReadonlyArray(B))),a.l.difference(R)(Object(o.pipe)(n,a.p.toReadonlyArray(B))),a.l.chunksOf(13),a.l.map(a.p.fromReadonlyArray(R)),(function(e){var r=Object(i.a)(e,2),u=r[0],c=r[1];return{dealer:"N",deal:{N:t,S:n,E:u,W:c}}}))}(nr.reverseGet(n),nr.reverseGet(e)),or.get,a.n.of,kr,Ze.a.toTask,(function(t){return t()}))})),Ar=function(t){return function(n){return Object(Xe.tailRec)(t,(function(t){if(Object(o.pipe)(t,a.h.fold(o.constFalse,(function(t){return 0===t}))))return a.d.right(a.h.none);var e,r=(e=M(),Object(o.pipe)(D,a.n.zip(a.n.chunksOf(13)(e)),a.n.groupBy(a.q.fst),a.o.map(Object(o.flow)(a.n.head,a.q.snd,a.p.fromReadonlyArray(R))),(function(t){return t}))),i=[r.N,r.S];return n(i)?a.d.right(a.h.some(i)):a.d.left(Object(o.pipe)(t,a.h.map((function(t){return t-1}))))}))}},Rr=function(t){return function(n){return Ar(a.h.some(1e4))((function(e){return Object(o.pipe)(n,a.l.partition(Ln.apply(void 0,Object(c.a)(e))),a.t.right,(function(n){return t(n.length)}))}))}},Br=Object(s.c)({name:"selection",initialState:_r,reducers:{setSelectedBlockKey:function(t,n){t.selectedBlockKey=n.payload},setHand:{reducer:function(t,n){t[n.meta]=Object(o.pipe)(n.payload,Ne,er.get,l.a)},prepare:function(t,n){return{payload:t,meta:n}}},genOnce:function(t){Object(o.pipe)(Ar(a.h.none)(o.constTrue),a.h.map(Cr(t)))},getHandsMatchingPath:function(t,n){Object(o.pipe)(Ar(a.h.some(1e4))((function(t){return Ln.apply(void 0,Object(c.a)(t))(n.payload)})),a.h.map(Cr(t)))},genHandsNotMatchingAnyOf:{reducer:function(t,n){Object(o.pipe)(Ar(a.h.some(1e4))((function(t){return X(t[0])>=n.meta&&Object(o.pipe)(n.payload,a.l.every(a.k.not(Ln.apply(void 0,Object(c.a)(t)))))})),a.h.map(Cr(t)))},prepare:function(t,n){return{payload:t,meta:n}}},genHandsMatchingExactlyOneOf:function(t,n){Object(o.pipe)(Rr((function(t){return 1===t}))(n.payload),a.h.map(Cr(t)))},genHandsMatchingMoreThanOneOf:function(t,n){Object(o.pipe)(Rr((function(t){return t>1}))(n.payload),a.h.map(Cr(t)))}},extraReducers:function(t){return t.addCase(wr.fulfilled,(function(t,n){t.result=Object(o.pipe)(n.payload,l.a)}))}}),Pr=Br.actions,Fr=Pr.setSelectedBlockKey,Er=Pr.setHand,Nr=Pr.genOnce,Mr=Pr.getHandsMatchingPath,Dr=Pr.genHandsNotMatchingAnyOf,qr=Pr.genHandsMatchingExactlyOneOf,Hr=Pr.genHandsMatchingMoreThanOneOf,Tr=Br.reducer,Ir=function(t,n){return Object(o.pipe)(t[n],a.h.fromNullable,a.h.chain(Object(o.flow)(er.reverseGet,a.h.fromEither)))},$r=e(120),Wr=function(){return Object($r.b)()},Kr=$r.c,Gr=e(7),Lr=function(){var t=Object(ze.useState)((function(){return Je.EditorState.createEmpty()})),n=Object(i.a)(t,2),e=n[0],r=n[1],u=Wr(),c=Object(ze.useCallback)((function(t){r(t),localStorage.setItem("editor",JSON.stringify(Object(Je.convertToRaw)(t.getCurrentContent()))),u(Ie(function(t){return t.getCurrentContent().getBlockMap().toArray().map((function(t){return{key:t.getKey(),text:t.getText(),depth:t.getDepth()}}))}(t))),u(Fr(a.h.some(t.getSelection().getFocusKey())))}),[u]);return Object(ze.useEffect)((function(){var t=localStorage.getItem("editor");r(t?function(){return Je.EditorState.createWithContent(Object(Je.convertFromRaw)(JSON.parse(t)))}:function(){return Je.RichUtils.toggleBlockType(e,"unordered-list-item")})}),[]),Object(Gr.jsx)(Je.Editor,{editorState:e,onChange:c,keyBindingFn:function(t){if(9===t.keyCode){var n=Je.RichUtils.onTab(t,e,10);return n!==e&&c(n),null}return Object(Je.getDefaultKeyBinding)(t)}})},Ur=e(602),Qr=e(19),Jr=e(600),zr=e(601),Vr=e(604),Zr=e(104),Xr=function(t){return Object(o.pipe)(K,a.l.elem($)(t))?20:30},Yr=function(t){switch(t){case"Undoubled":return 1;case"Doubled":return 2;case"Redoubled":return 4;default:return h(t)}},ti=function(t){return t-6},ni=function(t,n){return Object(o.pipe)(n,ti,a.d.fromPredicate((function(n){return n>=t.level}),(function(n){return t.level-n})))},ei=Object(o.flow)(ni,a.h.fromEither),ri=function(t){return function(n){return Object(o.pipe)(ei(n.contract,n.tricks),a.h.fold(Object(o.constant)(0),t))}},ii=function(t){return Object(o.pipe)(t,ri((function(){return Yr(t.contract.modifier)*(t.contract.level*Xr(t.contract.strain)+("N"===t.contract.strain?10:0))})))},ui=function(t){return 50*(t?2:1)},ci=function(t){return"Undoubled"===t?a.h.none:a.h.some(t)},ai=[100,200,200].concat(Object(c.a)(a.l.replicate(10,300))),oi=Object(o.flow)(ii,(function(t){return t>0&&t<=100?50:0})),li={contractPoints:ii,overtrickPoints:function(t){return Object(o.pipe)((n=t.contract,e=t.tricks,Object(o.pipe)(ni(n,e),a.h.fromEither,a.h.map((function(t){return t-n.level})))),a.h.fold(Object(o.constant)(0),(function(n){return Object(o.pipe)((e=t.isVulnerable,r=t.contract.modifier,Object(o.pipe)(r,ci,a.h.map(Yr),a.h.map((function(t){return t*ui(e)})))),a.h.getOrElseW((function(){return Xr(t.contract.strain)})),(function(t){return n*t}));var e,r})));var n,e},slamPoints:function(t){return Object(o.pipe)(t,ri((function(n){return(t.isVulnerable?1.5:1)*(6===t.contract.level&&n>=6?500:7===t.contract.level&&n>=7?1e3:0)})))},modifierPoints:function(t){return Object(o.pipe)(t,ri((function(){switch(t.contract.modifier){case"Undoubled":return 0;case"Doubled":return 50;case"Redoubled":return 100;default:return h(t.contract.modifier)}})))},penaltyPoints:function(t){return Object(o.pipe)((n=t.contract,e=t.tricks,Object(o.pipe)(ni(n,e),a.d.swap,a.h.fromEither)),a.h.fold(Object(o.constant)(0),(function(n){return Object(o.pipe)(t.contract.modifier,ci,a.h.fold((function(){return n*ui(t.isVulnerable)}),Object(o.flow)(Yr,(function(e){return e/2*Object(o.pipe)(ai,a.l.takeLeft(n+(t.isVulnerable?1:0)),a.l.foldMap(a.g.MonoidSum)(o.identity))}))),(function(t){return-t}))})));var n,e},partScorePoints:oi,gamePoints:function(t){return Object(o.pipe)(t,ii,(function(n){return n>=100?t.isVulnerable?500:300:0}))}},si=m.b(m.c,(function(t){return"number"===typeof t}),"Score"),fi=(si.decode(0).right,a.g.Eq,Object(o.pipe)(a.g.Ord,a.j.reverse),Object(o.flow)((function(t){return Object(o.pipe)(li,a.o.flap(t),a.o.traverseWithIndex(a.z.getApplicative(a.l.getMonoid()))((function(t,n){return Object(o.pipe)(a.z.tell([[t,n]]),a.z.map(Object(o.constant)(n)))})),a.z.map(Object(o.flow)(a.o.foldMap(a.j.trivial)(a.g.MonoidSum)(o.identity),si.decode,(function(t){return t.right}))),a.z.map((function(t){return[t,function(n){return[["TOTAL",t]].concat(Object(c.a)(n))}]})),a.z.pass)}),a.z.evaluate),function(t){return Object(o.pipe)(a.l.Do,a.l.apS("inner",Object(o.pipe)(t,a.o.toReadonlyArray)),a.l.bind("outer",(function(t){var n=t.inner;return Object(o.pipe)(n[1],a.o.toReadonlyArray)})),a.l.map((function(t){var n=t.outer,e=t.inner;return{outerKey:n[0],innerKey:e[0],value:n[1]}})))}),hi=function(t){return Object(o.pipe)(t,fi,a.n.fromReadonlyArray,a.h.fold((function(){return{}}),a.n.groupBy((function(t){return t.outerKey}))),a.o.map(Object(o.flow)(a.n.fromReadonlyArray,a.h.fold((function(){return{}}),a.n.groupBy((function(t){return t.innerKey}))),a.o.map((function(t){return t[0].value})))))},pi=Object(o.pipe)(V,a.l.sort(z),a.l.prepend("Pass")),di=(p(pi),d(pi),{encode:Object(o.flow)(a.o.foldMapWithIndex(a.j.trivial)(a.l.getMonoid())((function(t,n){return Object(o.pipe)(n,a.p.toReadonlyArray(a.j.trivial),a.l.map((function(n){return[n,D.indexOf(t)]})))})),a.l.sort(a.j.contramap((function(t){return t[0]}))(B)),a.l.map(a.q.snd),a.l.chunksOf(4),a.l.map(a.l.reduce(0,(function(t,n){return(t<<2)+n}))),a.l.concat(a.l.replicate(3,0)),a.l.toArray,(function(t){return new tr.Uuid(t)}))}),mi=function(t){return a.x.tryCatchK(t,a.d.toError)()},bi=Object(o.pipe)((function(){return fetch("http://localhost:5000/ping")}),mi,a.x.chainTaskK((function(t){return function(){return t.text()}})),a.x.filterOrElse((function(t){return"pong"===t}),(function(){return new Error("'pong' was not received")}))),ji=a.l.foldMap(a.o.getUnionMonoid(a.s.first()))((function(t){var n=Object(i.a)(t,2),e=n[0],r=n[1];return Object(Qr.a)({},di.encode(e).toString(),Object(o.pipe)(e,a.o.mapWithIndex((function(t,n){return{hcp:X(n),shape:ut(n),tricks:Object(o.pipe)(r,a.h.map((function(n){return n[t]})),a.h.toUndefined)}}))))})),Oi=Object(o.flow)(a.l.map((function(t){return[t,a.h.none]})),ji),vi=function(t){return Object(o.pipe)(t,Oi,JSON.stringify,a.w.of,a.w.chain((function(t){return function(){return fetch("http://localhost:5000/deals",{method:"POST",body:t})}})),mi)},yi=function(t){return Object(o.pipe)(t,ji,JSON.stringify,a.w.of,a.w.chain((function(t){return function(){return fetch("http://localhost:5000/deals",{method:"PUT",body:t})}})),mi)},gi=function(t){return[t,0]},Si=function(t){return function(n){return function(e){return function(r){return Object(o.pipe)(r,a.q.bimap((function(t){return t-n}),(function(n){return t.concat(n,e)})))}}}},ki={deals:gi([]),results:gi({}),working:!1},xi=Object(s.c)({name:"generator",initialState:ki,reducers:{generate:function(t,n){t.deals=Object(o.pipe)(t.deals,a.q.mapSnd(Object(o.constant)(n.payload)),l.a),t.working=!0},getResults:function(t,n){t.results=Object(o.pipe)(t.results,a.q.mapSnd(Object(o.constant)(n.payload.deals.length)),l.a),t.working=!0},reportDeals:function(t,n){t.deals=Object(o.pipe)(t.deals,Si(a.l.getSemigroup())(n.payload.length)(n.payload),l.a)},reportResults:function(t,n){t.results=Object(o.pipe)(t.results,Si(a.o.getUnionSemigroup(a.n.getSemigroup()))(Object(o.pipe)(n.payload,a.o.toReadonlyArray,a.l.foldMap(a.g.MonoidSum)((function(t){var n=Object(i.a)(t,2);n[0];return n[1].length}))))(n.payload),l.a)},done:function(t){t.working=!1}}}),_i=xi.actions,Ci=_i.generate,wi=_i.getResults,Ai=_i.reportDeals,Ri=_i.reportResults,Bi=_i.done,Pi=xi.reducer,Fi=function(t){return Object(o.pipe)(t.deals,a.q.fst)},Ei=(Object(o.flow)(Fi,a.l.map(Object(o.flow)(ar.reverseGet,(function(t){return[t.N,t.S]})))),Object(s.c)({name:"settings",initialState:{implicitPass:!1,generateCount:1e4},reducers:{setInitial:function(t,n){Object(o.pipe)(Object.keys(n.payload),a.l.map((function(e){return t[e]=n.payload[e]})))},setProperty:{reducer:function(t,n){t[n.meta]=n.payload},prepare:function(t,n){return{payload:n,meta:t}}}}})),Ni=Ei.actions,Mi=Ni.setProperty,Di=Ni.setInitial,qi={system:Qe,selection:Tr,generator:Pi,settings:Ei.reducer},Hi=Object(Ur.a)((function(t,n){return t.pipe(Object(Jr.a)(Ci.match),Ze.a.map((function(t){return t.payload})),Ze.a.chain(Object(o.flow)((function(t){return t>yr?Object(o.pipe)(function(t){return gr((function(n){var e=Math.floor(t/n),r=Math.floor(t%n);return function(t){return Sr(0===t?e+r:e)}}))}(t),Ze.a.flatten):Sr(t)}),Object(zr.a)(1e3),Ze.a.map(Ai),Object(Vr.a)([Bi()]))))}),(function(t,n){return t.pipe(Object(Jr.a)(wi.match),Ze.a.chain((function(t){return Object(o.pipe)(t.payload.deals,a.l.mapWithIndex((function(t,n){return Object(o.pipe)(n,ar.reverseGet,(e=t+1,function(t){return{number:e,dealer:D[(e-1)%D.length],deal:t,vulnerability:G(e)}}),or.get);var e})),a.n.fromReadonlyArray,a.h.fold((function(){return Object(Or.a)([])}),(function(n){return t.payload.deals.length>yr?Object(o.pipe)(n,xr,Ze.a.flatten):Object(o.pipe)(n,kr)})),Object(zr.a)(5),Ze.a.map(Object(o.flow)(a.n.fromReadonlyArray,a.h.fold((function(){return Ri({})}),(function(n){return Object(o.pipe)(t.payload.path,a.n.map((function(t){return t.bid})),hr.get,(function(t){return Ri(Object(Qr.a)({},t,n))}))})))),Object(Vr.a)([Bi()]))})))}),(function(t,n){return t.pipe(Object(Jr.a)(Ai.match),Ze.a.map((function(t){return t.payload})),Ze.b.fromObservable,Ze.b.chainFirst((function(){return Object(o.pipe)(bi,Ze.b.fromTaskEither)})),Ze.b.chainFirst(Object(o.flow)(a.l.map(ar.reverseGet),vi,Ze.b.fromTaskEither)),Ze.a.chain((function(t){return Zr.a})))}),(function(t,n){return t.pipe(Object(Jr.a)(Ri.match),Ze.a.map((function(t){return t.payload})),Ze.b.fromObservable,Ze.b.chainFirst((function(){return Object(o.pipe)(bi,Ze.b.fromTaskEither)})),Ze.b.chainFirst(Object(o.flow)(a.o.toReadonlyArray,a.l.chain(a.q.snd),a.l.map((function(t){return[ar.reverseGet(t.board.deal),Object(o.pipe)(t.results,hi,a.h.some)]})),yi,Ze.b.fromTaskEither)),Ze.a.chain((function(t){return Zr.a})))})),Ti=function(t){return Object(o.pipe)(a.h.Do,a.h.apS("blockKey",t.selection.selectedBlockKey),a.h.apS("opener",Ir(t.selection,"opener")),a.h.apS("responder",Ir(t.selection,"responder")),a.h.chain((function(n){return Object(o.pipe)(function(t,n){return Object(o.pipe)(qe(n)(t.system),a.h.getOrElse((function(){return[]})),a.l.map((function(t){return t.bid})),a.l.compact,a.l.sequence(a.d.Applicative))}(t.system,n.blockKey),a.d.map((e=n.opener,r=n.responder,Object(o.flow)(a.l.map((function(t){return Object(f.a)(Object(f.a)({},t),{},{siblings:[]})})),Ln(e,r)))),a.h.fromEither);var e,r})),a.h.toNullable)},Ii=function(t){return Object(o.pipe)(a.h.Do,a.h.apS("opener",Ir(t.selection,"opener")),a.h.apS("responder",Ir(t.selection,"responder")),a.h.map((function(n){return Object(o.pipe)(Ue(t.system,t.settings),a.l.map((function(t){return{path:t,result:Ln(n.opener,n.responder)(t)}})))})),a.h.toNullable)},$i=Object(o.pipe)(a.g.Ord,a.j.reverse,a.j.contramap((function(t){return t.count}))),Wi=function(t){return Object(o.pipe)(a.l.Do,a.l.apS("deal",Fi(t.generator)),a.l.apS("path",Ue(t.system,t.settings)),a.l.map((function(t){return{deal:t.deal,path:t.path,result:Object(o.pipe)(t.deal,ar.reverseGet,(function(t){return Ln(t.N,t.S)}))(t.path)}})),a.n.fromReadonlyArray,a.h.map(Object(o.flow)(a.n.groupBy((function(t){return Object(o.pipe)(t.path,a.n.map((function(t){return t.bid})),hr.get)})),a.o.filterMap(Object(o.flow)(a.n.filter((function(t){return t.result})),a.h.map((function(t){return{path:t[0].path,count:t.length,deals:Object(o.pipe)(t,a.n.map((function(t){return t.deal})))}})))),a.o.toReadonlyArray,a.l.map(a.q.snd),a.l.sort($i))),a.h.toNullable)},Ki=function(){var t=Kr((function(t){return t.selection.selectedBlockKey})),n=Kr((function(n){return Object(o.pipe)(t,a.h.map((function(t){return $e(n.system,t)})),a.h.toNullable)})),e=Kr((function(n){return Object(o.pipe)(t,a.h.chain((function(t){return Object(o.pipe)(function(t,n){return Object(o.pipe)(t.system,qe(n),a.h.chain(a.l.last),a.h.toNullable)}(n.system,t),a.h.fromNullable)})),a.h.chain((function(t){return t.bid})),a.h.chain(a.h.fromEither),a.h.toNullable)})),r=Kr(Ti);return Object(Gr.jsxs)("section",{children:[Object(Gr.jsx)("h3",{children:"Selection"}),n&&Object(Gr.jsxs)("div",{children:[Object(Gr.jsx)("h4",{children:"Selected Path"}),n.map((function(t){return t.text})).join(" > ")]}),e&&Object(Gr.jsxs)("div",{children:[Object(Gr.jsx)("h4",{children:"Selected Bid"}),Object(o.pipe)(e,a.h.fromNullable,a.h.map(JSON.stringify),a.h.toNullable),null!==r&&Object(Gr.jsxs)("div",{children:[Object(Gr.jsx)("h4",{children:"Satisfies"}),r.toString()]})]})]})},Gi=function(t){var n=t.label,e=t.prop,r=t.parse,i=t.onChanged,u=t.children,c=Kr((function(t){return t.settings[e]})),a=Wr(),l=Object(ze.useCallback)((function(t){a(Mi(e,t)),i&&i(t)}),[a,i,e]);return Object(Gr.jsxs)("p",{children:[Object(Gr.jsx)("span",{children:null!==n&&void 0!==n?n:e}),Object(Gr.jsx)("span",{children:u?u({value:c,onChange:Object(o.flow)(r,l,o.constVoid)}):Object(Gr.jsx)("input",{type:"text",value:c.toString(),onChange:function(t){return Object(o.pipe)(t.target.value,r,l)},style:{width:"100px"}})})]})},Li="settings",Ui=function(){var t=Kr((function(t){return t.settings})),n=Wr();Object(ze.useEffect)((function(){var t=localStorage.getItem(Li);if(null!==t){var e=JSON.parse(t);n(Di(e))}}),[n]);var e=Object(ze.useCallback)((function(n,e){var r=Object(f.a)(Object(f.a)({},t),{},Object(Qr.a)({},n,e));localStorage.setItem(Li,JSON.stringify(r))}),[t]);return Object(Gr.jsxs)("section",{children:[Object(Gr.jsx)(Gi,{label:"Implicit Pass",prop:"implicitPass",parse:function(t){return"true"===t},onChanged:function(t){return e("implicitPass",t)},children:function(t){var n=t.value,e=t.onChange;return Object(Gr.jsx)("input",{type:"checkbox",checked:n,onChange:function(t){return e(t.target.checked.toString())}})}}),Object(Gr.jsx)(Gi,{label:"Generate Count",prop:"generateCount",parse:parseInt,onChanged:function(t){return e("generateCount",t)}})]})},Qi=e(163),Ji=e(164),zi=e(141),Vi=Ye.f((function(t){var n=Object(i.a)(t,2);return n[0]+n[1]}),(function(t){return[t.charAt(0),t.charAt(1)]})),Zi=Object(o.pipe)(Object(zi.sequenceT)(a.n.Apply)(D,I),a.n.map(Vi.get)),Xi=Object(o.flow)(a.l.map((function(t){return Object(o.pipe)(t,fi,a.l.map((function(t){var n=t.outerKey,e=t.innerKey,r=t.value;return["".concat(n).concat(e),r]})),a.o.fromFoldable(a.s.first(),a.l.Foldable))})),Ji.a),Yi=function(t){return function(n){return Object(o.pipe)(Zi,a.n.groupBy((function(t){return t})),a.o.map((function(n){return t(n)})),(function(t){return n.rollup(t)}),(function(t){return t.object()}),a.o.toReadonlyArray,a.l.map(a.q.mapFst(Vi.reverseGet)),a.n.fromReadonlyArray,a.h.fold((function(){return{}}),Object(o.flow)(a.n.groupBy((function(t){var n=Object(i.a)(t,2),e=Object(i.a)(n[0],2),r=(e[0],e[1]);n[1];return r})),a.o.map(Object(o.flow)(a.n.groupBy((function(t){var n=Object(i.a)(t,2),e=Object(i.a)(n[0],2),r=e[0];e[1],n[1];return r})),a.o.map(Object(o.flow)(a.n.head,(function(t){var n=Object(i.a)(t,2);n[0];return n[1]}))))))))}},tu=Yi(Ji.b.mean),nu=Yi(Ji.b.stdev),eu=e(67),ru=eu.a.span(Oe||(Oe=Object(Qn.a)(['\n  &.S::after { content: "\u2660"; color: #0000FF; }\n  &.H::after { content: "\u2665"; color: #FF0000; }\n  &.D::after { content: "\u2666"; color: #FFA500; }\n  &.C::after { content: "\u2663"; color: #32CD32; }\n  &.N::after { content: "NT" }\n']))),iu=function(t){return Object(Gr.jsxs)(Gr.Fragment,{children:[Object(Gr.jsx)("span",{children:t.level}),Object(Gr.jsx)(ru,{className:t.strain})]})},uu=function(t){var n=t.bid;return Object(Gr.jsx)("span",{children:n})},cu=function(t){var n=t.path;return Object(Gr.jsx)(Gr.Fragment,{children:n.map((function(t){return t.bid})).map((function(t,n){return Object(Gr.jsxs)(ze.Fragment,{children:["\xa0","string"===typeof t?Object(Gr.jsx)(uu,{bid:t}):Object(Gr.jsx)(iu,Object(f.a)({},t))]},n)}))})},au=eu.a.ol(ve||(ve=Object(Qn.a)(["\n  padding-left: 0;\n"]))),ou=eu.a.li(ye||(ye=Object(Qn.a)(["\n  list-style-type: none;\n  display: inline;\n  float: left;\n"]))),lu=function(t){var n=t.rank;return Object(Gr.jsx)(ou,{children:y[n-2]})},su=eu.a.ol(ge||(ge=Object(Qn.a)(["\n  white-space: nowrap;\n  width: 15em;\n  margin: 0;\n  padding-left: 0;\n  list-style: decimal url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7) inside;\n"]))),fu=eu.a.li(Se||(Se=Object(Qn.a)(["\n  display: inline;\n  &::before {\n    display: inline;\n    float: left;\n    margin-left: 5px;\n  }\n  ","\n"])),'\n  &.S::before { content: "\u2660"; color: #0000FF }\n  &.H::before { content: "\u2665"; color: #FF0000 }\n  &.D::before { content: "\u2666"; color: #FFA500 }\n  &.C::before { content: "\u2663"; color: #32CD32 }\n'),hu=function(t){var n=t.suit,e=t.ranks;return Object(Gr.jsx)(fu,{className:n,children:Object(Gr.jsxs)(au,{children:[e.map((function(t,n){return Object(Gr.jsx)(lu,{rank:t},n)})),0===e.length&&Object(Gr.jsx)(ou,{children:"-"})]})})},pu=function(t){var n=t.hand,e=N(n);return Object(Gr.jsx)(su,{children:Object(o.pipe)(e,a.o.mapWithIndex((function(t,n){return Object(Gr.jsx)(hu,{suit:t,ranks:n},t)})),a.o.toReadonlyArray,a.l.sort(F()),a.l.map(a.q.snd))})},du=eu.a.span(ke||(ke=Object(Qn.a)(["\n  ",'\n  &.N::before { content: "NT"; color: #000000; font-size: 12px; }\n'])),'\n  &.S::before { content: "\u2660"; color: #0000FF }\n  &.H::before { content: "\u2665"; color: #FF0000 }\n  &.D::before { content: "\u2666"; color: #FFA500 }\n  &.C::before { content: "\u2663"; color: #32CD32 }\n'),mu=function(t){var n=t.table;return Object(Gr.jsxs)("table",{children:[Object(Gr.jsx)("thead",{children:Object(Gr.jsxs)("tr",{children:[Object(Gr.jsx)("th",{}),I.map((function(t,n){return Object(Gr.jsx)("th",{style:{fontWeight:"normal",verticalAlign:"middle"},children:Object(Gr.jsx)(du,{className:t})},n)}))]})}),Object(Gr.jsx)("tbody",{children:D.map((function(t,e){return Object(Gr.jsxs)("tr",{children:[Object(Gr.jsx)("td",{children:t}),I.map((function(e,r){return Object(Gr.jsx)("td",{children:Math.round(100*n[e][t])/100},r)}))]},e)}))})]})},bu=function(t){var n=t.result;return Object(Gr.jsxs)("table",{children:[Object(Gr.jsx)("thead",{children:Object(Gr.jsxs)("tr",{children:[Object(Gr.jsx)("th",{}),I.map((function(t,n){return Object(Gr.jsx)("th",{style:{fontWeight:"normal",verticalAlign:"middle"},children:Object(Gr.jsx)(du,{className:t})},n)}))]})}),Object(Gr.jsx)("tbody",{children:D.map((function(t,e){return Object(Gr.jsxs)("tr",{children:[Object(Gr.jsx)("td",{children:t}),I.map((function(e,r){return Object(Gr.jsx)("td",{children:n.results[e][t]},r)})),Object(Gr.jsx)("td",{children:Object(Gr.jsx)(pu,{hand:ar.reverseGet(n.board.deal)[t]})})]},e)}))})]})},ju=function(t){var n=t.result,e=Wr(),r=Kr((function(t){return function(t,n){return Object(o.pipe)(t.results[0],a.o.lookup(n),a.h.toNullable)}(t.generator,Object(o.pipe)(n.path,a.n.map((function(t){return t.bid})),hr.get))})),i=r&&Xi(Object(o.pipe)(r,a.n.map((function(t){return t.results})))),u=i&&tu(i),c=i&&nu(i);return Object(Gr.jsxs)(Gr.Fragment,{children:[Object(Gr.jsx)(cu,{path:n.path}),": \xa0",Object(Gr.jsx)("span",{children:n.count.toString()}),null!==u&&Object(Gr.jsxs)("section",{children:[Object(Gr.jsx)("h4",{children:"Average"}),null!==u&&Object(Gr.jsx)(mu,{table:u})]}),null!==c&&Object(Gr.jsxs)("section",{children:[Object(Gr.jsx)("h4",{children:"Std. Dev."}),Object(Gr.jsx)(mu,{table:c})]}),null===r&&Object(Gr.jsx)("button",{onClick:function(t){return e(wi({path:n.path,deals:n.deals}))},children:"DDS"})]})},Ou=function(){var t=Kr(Wi);return Object(Gr.jsx)(Gr.Fragment,{children:null!==t&&Object(Gr.jsxs)("div",{children:[Object(Gr.jsx)("h3",{children:"Results"}),Object(Gr.jsx)("ul",{children:t.map((function(t,n){return Object(Gr.jsx)("li",{children:Object(Gr.jsx)(ju,{result:t})},n)}))})]})})},vu=function(){var t=Kr((function(t){return function(t){return{deals:t.deals[1],results:t.results[1]}}(t.generator)}));return Object(Gr.jsxs)("div",{children:[Object(Gr.jsxs)("p",{children:["Deals: ",t.deals," remaining"]}),Object(Gr.jsxs)("p",{children:["Results: ",t.results," remaining"]})]})},yu=function(){var t=Kr((function(t){return Object(o.pipe)(t.generator.working)})),n=Kr((function(t){return t.settings.generateCount})),e=Wr(),r=Kr((function(t){return Ue(t.system,t.settings)})),i=Kr((function(t){return We(t.system)})),u=null!==r&&r.length>0&&0===i.length;return Object(Gr.jsxs)("section",{children:[Object(Gr.jsx)("h3",{children:"Stats"}),!u&&Object(Gr.jsxs)("div",{children:[Object(Gr.jsx)("p",{children:"Select the system and/or fix errors"}),i.length>0&&Object(Gr.jsxs)("div",{children:[Object(Gr.jsx)("h4",{children:"Errors"}),Object(Gr.jsx)("ul",{children:i.map((function(t,n){return Object(Gr.jsx)("li",{children:Object(Qi.draw)(t)},n)}))})]})]}),u&&Object(Gr.jsxs)("div",{children:[Object(Gr.jsx)("button",{type:"button",onClick:function(){return e(Ci(n))},children:"Generate deals"}),t?Object(Gr.jsx)("span",{children:"Generating..."}):Object(Gr.jsx)("span",{children:"Ready!"}),t&&Object(Gr.jsx)(vu,{}),!t&&Object(Gr.jsx)(Ou,{})]})]})},gu=function(t){var n=t.value,e=t.children,r=t.onNone;return Object(o.pipe)(n,a.h.fold((function(){return r?r():Object(Gr.jsx)(Gr.Fragment,{})}),e))},Su=function(){var t=Wr();return Object(Gr.jsx)("button",{type:"button",onClick:function(){return t(Nr())},children:"Random"})},ku=function(t){var n=t.bidPaths,e=Wr(),r=Object(ze.useState)(11),u=Object(i.a)(r,2),c=u[0],a=u[1];return Object(Gr.jsx)(Gr.Fragment,{children:n&&Object(Gr.jsxs)("span",{children:[Object(Gr.jsx)("button",{type:"button",onClick:function(){return e(Dr(n,c))},children:"Zero"}),"Min HCP",Object(Gr.jsx)("input",{type:"number",style:{width:50},value:c,onChange:function(t){return a(parseInt(t.target.value))}})]})})},xu=function(t){var n=t.bidPaths,e=Wr();return Object(Gr.jsx)(Gr.Fragment,{children:n&&Object(Gr.jsx)("span",{children:Object(Gr.jsx)("button",{type:"button",onClick:function(){return e(qr(n))},children:"One"})})})},_u=function(t){var n=t.bidPaths,e=Wr();return Object(Gr.jsx)(Gr.Fragment,{children:n&&Object(Gr.jsx)("span",{children:Object(Gr.jsx)("button",{type:"button",onClick:function(){return e(Hr(n))},children:"Many"})})})},Cu=function(){var t=Kr((function(t){return function(t){return Object(o.pipe)(t.selectedBlockKey,a.h.toNullable)}(t.selection)})),n=Kr((function(n){return null!==t?function(t,n){return Object(o.pipe)($e(t,n),a.h.fromNullable,a.h.chain((function(t){return Object(o.pipe)(a.y.unfoldTree([Me().value].concat(Object(c.a)(t)),(function(t){var n=Object(u.a)(t),e=n[0],r=n.slice(1);return[e,0===r.length?[]:[r]]})),Ke,st(a.f.contramap((function(t){return t.bid}))(Z)),ot,a.l.head)})),a.h.toNullable)}(n.system,t):null})),e=Wr();return Object(Gr.jsx)(Gr.Fragment,{children:n&&Object(Gr.jsx)("button",{type:"button",onClick:function(){return e(Mr(n))},children:"Selected"})})},wu=function(){var t=Kr((function(t){return Object(o.pipe)(Ue(t.system,t.settings),a.n.fromReadonlyArray,a.h.toNullable)}));return Object(Gr.jsxs)("section",{children:[Object(Gr.jsx)("h4",{children:"Generate Hands"}),Object(Gr.jsx)(Su,{}),Object(Gr.jsx)(Cu,{}),Object(Gr.jsx)(ku,{bidPaths:t}),Object(Gr.jsx)(xu,{bidPaths:t}),Object(Gr.jsx)(_u,{bidPaths:t})]})},Au=function(t){var n=t.type,e=Wr(),r=Object(ze.useState)(""),u=Object(i.a)(r,2),c=u[0],l=u[1],s="hand.".concat(n),f=Kr((function(t){return Object(o.pipe)(Ir(t.selection,n),a.h.map(Re.encode),a.h.toNullable)})),h=Object(ze.useCallback)((function(t){l(t),e(Er(t,n))}),[e,n]);return Object(ze.useEffect)((function(){var t=localStorage.getItem(s);t&&h(t)}),[h,s,n]),Object(Gr.jsx)("input",{type:"text",placeholder:"AKQJ.T987.654.32",value:null!==f&&void 0!==f?f:c,onChange:function(t){return h(t.target.value)},onBlur:function(){return localStorage.setItem(s,c)}})},Ru=eu.a.th(xe||(xe=Object(Qn.a)(["\n  width: 15em;\n"]))),Bu=function(){var t=Wr(),n=[Kr((function(t){return Ir(t.selection,"opener")})),Kr((function(t){return Ir(t.selection,"responder")}))],e=n[0],r=n[1],i=Object(ze.useCallback)((function(){return Object(o.pipe)(a.h.Do,a.h.apS("opener",e),a.h.apS("responder",r),a.h.map(Object(o.flow)(a.o.map(nr.get),wr,t)),o.constVoid)}),[t,e,r]),u=Kr((function(t){return t.selection.result}));return Object(Gr.jsxs)(Gr.Fragment,{children:[Object(Gr.jsxs)("table",{children:[Object(Gr.jsx)("thead",{children:Object(Gr.jsxs)("tr",{children:[Object(Gr.jsx)(Ru,{children:"Opener"}),Object(Gr.jsx)(Ru,{children:"Responder"})]})}),Object(Gr.jsxs)("tbody",{children:[Object(Gr.jsxs)("tr",{children:[Object(Gr.jsx)("td",{children:Object(Gr.jsx)(Au,{type:"opener"})}),Object(Gr.jsx)("td",{children:Object(Gr.jsx)(Au,{type:"responder"})})]}),Object(Gr.jsxs)("tr",{children:[Object(Gr.jsx)("td",{children:Object(Gr.jsx)(gu,{value:e,children:function(t){return Object(Gr.jsx)(pu,{hand:t})}})}),Object(Gr.jsx)("td",{children:Object(Gr.jsx)(gu,{value:r,children:function(t){return Object(Gr.jsx)(pu,{hand:t})}})})]})]})]}),Object(Gr.jsx)(wu,{}),Object(Gr.jsxs)("p",{children:[Object(Gr.jsx)("button",{type:"button",onClick:i,children:"Solution"}),u&&Object(Gr.jsx)(bu,{result:u})]})]})},Pu=function(){var t=Kr(Ii);return Object(Gr.jsxs)("section",{children:[Object(Gr.jsx)("h3",{children:"Test Hands"}),Object(Gr.jsx)(Bu,{}),null!==t&&Object(Gr.jsxs)("div",{children:[Object(Gr.jsx)("h4",{children:"Results"}),Object(Gr.jsx)("ul",{children:t.map((function(t,n){return Object(Gr.jsxs)("li",{children:[Object(Gr.jsx)(cu,{path:t.path}),": \xa0",Object(Gr.jsx)("span",{children:t.result.toString()})]},n)}))})]})]})},Fu=function(){return Object(Gr.jsxs)("div",{className:"App",children:[Object(Gr.jsxs)("div",{style:{display:"inline-block",width:"50%"},children:[Object(Gr.jsx)("div",{style:{float:"left"},children:Object(Gr.jsx)(Lr,{})}),Object(Gr.jsx)("div",{style:{float:"right",width:"300px"},children:Object(Gr.jsx)(Ui,{})}),Object(Gr.jsx)("div",{style:{clear:"both"},children:Object(Gr.jsx)(yu,{})})]}),Object(Gr.jsxs)("div",{style:{display:"inline-block",width:"50%",float:"right"},children:[Object(Gr.jsxs)("div",{style:{display:"inline-block",float:"right"},children:[Object(Gr.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge#documentation",children:"Documentation"}),"\xa0|\xa0",Object(Gr.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge/discussions",children:"Share ideas"}),"\xa0|\xa0",Object(Gr.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge/issues/new",children:"Report issue"})]}),Object(Gr.jsx)(Pu,{}),Object(Gr.jsx)(Ki,{})]})]})},Eu=e(116),Nu=e.n(Eu),Mu=e(603),Du=Object(Mu.a)(),qu=Object(s.a)({reducer:qi,middleware:function(t){return[].concat(Object(c.a)(t()),[Du])}});Du.run(Hi),Nu.a.render(Object(Gr.jsx)(Ve.a.StrictMode,{children:Object(Gr.jsx)($r.a,{store:qu,children:Object(Gr.jsx)(Fu,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[595,1,2]]]);
//# sourceMappingURL=main.a2b37c3a.chunk.js.map