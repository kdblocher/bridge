(this.webpackJsonpbridge=this.webpackJsonpbridge||[]).push([[0],{141:function(t,n,e){var r,i=e(349).wrap,a=e(340);t.exports=function t(){return this instanceof t?i(a()):r||(r=i(a()))}},232:function(t,n,e){},340:function(t,n,e){t.exports=function(){return new Worker(e.p+"0356a54846f40eb9c7f6.worker.js")}},348:function(t,n,e){"use strict";e.r(n);e(232),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r,i,a,u,c,o,s,l,h,f,p,m,d,v,b,j,O,g,S,y,k,x,C,_,A,w,R,B,M,D,F,N,E,P,$,q,H,I,Q,K,T,G,L,W,J=e(24),U=(e(233),e(38)),z=e(1),V=e(3),X=e(20),Y=e(79),Z=e(52),tt=e(56),nt=e(23),et=e(139),rt=e(81),it=(r=Math.random,function(t){for(var n=Object(nt.a)(t),e=0;e<n.length;e++){var i=e+Math.floor(r()*(n.length-e)),a=[n[i],n[e]];n[e]=a[0],n[i]=a[1]}return n}),at=["C","D","H","S"],ut=z.c.eqStrict,ct=Object(V.pipe)(z.d.Ord,z.f.reverse,z.f.contramap((function(t){return at.indexOf(t)}))),ot=["2","3","4","5","6","7","8","9","T","J","Q","K","A"],st=rt.b(rt.c,(function(t){return t>=2&&t<=14}),"Rank"),lt=new rt.a("Rank",st.is,st.validate,(function(t){return ot[t-2]})),ht=z.c.eqStrict,ft=Object(V.pipe)(z.d.Ord,z.f.reverse),pt=z.c.struct({suit:ut,rank:ht}),mt=z.f.getMonoid().concat(Object(V.pipe)(ct,z.f.contramap((function(t){return t.suit}))),Object(V.pipe)(ft,z.f.contramap((function(t){return t.rank})))),dt=Object(V.pipe)(52,z.i.makeBy((function(t){return{suit:at[Math.floor(t/13)],rank:lt.decode(t%13+2).right}}))),vt=function(){return z.f.contramap((function(t){var n=Object(J.a)(t,2),e=n[0];n[1];return e}))(ct)},bt={S:[],H:[],D:[],C:[]},jt=function(t){return Object(V.pipe)(t,z.k.toReadonlyArray(mt),z.i.fromReadonlyArray,z.e.fold((function(){return bt}),Object(V.flow)(z.i.groupBy((function(t){return t.suit})),z.j.map(z.i.map((function(t){return t.rank}))),z.j.union(z.h.getUnionMonoid(ht))(bt))))},Ot=["N","E","S","W"],gt=(Object(V.pipe)(z.d.Ord,z.f.contramap((function(t){return Ot.indexOf(t)}))),[].concat(Object(nt.a)(at),["N"])),St=(z.a.sequenceS(z.h.Apply)({level:z.h.makeBy(7,(function(t){return t+1})),strain:gt}),[0,0,0,0]),yt=function(t){return Object(V.pipe)(t,z.h.sort(z.f.reverse(z.d.Ord)))},kt=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return Object(V.pipe)(n,yt)},xt=z.c.contramap(yt)(z.h.getEq(z.d.Eq)),Ct={S:0,H:0,D:0,C:0},_t=function(t){return Object(V.pipe)(t,z.k.toReadonlyArray(mt),z.i.fromReadonlyArray,z.e.fold((function(){return Ct}),Object(V.flow)(z.i.groupBy((function(t){return t.suit})),z.j.map((function(t){return t.length})),z.j.union(Object(et.first)())(Ct),(function(t){return t}))))},At=e(51),wt=e(8),Rt=e(43),Bt=e(33);!function(t){t.Start="Start",t.Bid="Bid",t.BidSpecifier_1="BidSpecifier_1",t.BidSpecifier_2="BidSpecifier_2",t.Wildcard="Wildcard",t.SuitSpecifier_1="SuitSpecifier_1",t.SuitSpecifier_2="SuitSpecifier_2",t.SuitSpecifier_3="SuitSpecifier_3",t.Major="Major",t.Minor="Minor",t.Strain_1="Strain_1",t.Strain_2="Strain_2",t.Suit_1="Suit_1",t.Suit_2="Suit_2",t.Suit_3="Suit_3",t.Suit_4="Suit_4",t.Club="Club",t.Diamond="Diamond",t.Heart="Heart",t.Spade="Spade",t.Notrump="Notrump",t.ConstraintList="ConstraintList",t.ConstraintListItem="ConstraintListItem",t.Constraint_1="Constraint_1",t.Constraint_2="Constraint_2",t.Constraint_3="Constraint_3",t.Constraint_4="Constraint_4",t.Constraint_5="Constraint_5",t.Constraint_6="Constraint_6",t.Constraint_7="Constraint_7",t.Constraint_8="Constraint_8",t.Constraint_9="Constraint_9",t.Constraint_10="Constraint_10",t.Constraint_11="Constraint_11",t.ConstraintConst_1="ConstraintConst_1",t.ConstraintConst_2="ConstraintConst_2",t.ConstraintTrue="ConstraintTrue",t.ConstraintFalse="ConstraintFalse",t.ConstraintOr="ConstraintOr",t.ConstraintAnd="ConstraintAnd",t.ConstraintNot="ConstraintNot",t.ConstraintNot_$0_1="ConstraintNot_$0_1",t.ConstraintNot_$0_2="ConstraintNot_$0_2",t.PointRange="PointRange",t.PointBound="PointBound",t.SuitRange="SuitRange",t.SuitBound="SuitBound",t.SuitRangeSpecifier_1="SuitRangeSpecifier_1",t.SuitRangeSpecifier_2="SuitRangeSpecifier_2",t.SuitRangeSpecifier_3="SuitRangeSpecifier_3",t.OtherMajor="OtherMajor",t.OtherMinor="OtherMinor",t.SuitComparison="SuitComparison",t.SuitComparisonOperator_1="SuitComparisonOperator_1",t.SuitComparisonOperator_2="SuitComparisonOperator_2",t.SuitComparisonOperator_3="SuitComparisonOperator_3",t.SuitComparisonOperator_4="SuitComparisonOperator_4",t.SuitComparisonOperator_5="SuitComparisonOperator_5",t.BoundQualifier_1="BoundQualifier_1",t.BoundQualifier_2="BoundQualifier_2",t.BoundQualifier_3="BoundQualifier_3",t.Plus="Plus",t.Minus="Minus",t.Equals="Equals",t.Distribution_1="Distribution_1",t.Distribution_2="Distribution_2",t.Distribution_3="Distribution_3",t.Distribution_4="Distribution_4",t.Distribution_5="Distribution_5",t.Balanced="Balanced",t.SemiBalanced="SemiBalanced",t.Unbalanced="Unbalanced",t.AnyShape="AnyShape",t.SpecificShape="SpecificShape",t.Response_1="Response_1",t.Response_2="Response_2",t.Response_3="Response_3",t.Response_4="Response_4",t.ForceOneRound="ForceOneRound",t.ForceGame="ForceGame",t.ForceSlam="ForceSlam",t.Relay="Relay",t.Digit="Digit",t.Number="Number",t.$EOF="$EOF"}(W||(W={}));var Mt=function t(n){Object(Bt.a)(this,t),this.kind=W.Digit,this.literal=void 0,this.value=void 0,this.literal=n,this.value=parseInt(n)},Dt=function t(n){Object(Bt.a)(this,t),this.kind=W.Number,this.literal=void 0,this.value=void 0,this.literal=n,this.value=parseInt(n)},Ft=function(){function t(n){Object(Bt.a)(this,t),this.input=void 0,this.pos=void 0,this.negating=!1,this.memoSafe=!0,this.$scope$Constraint$memo=new Map,this.pos={overallPos:0,line:1,offset:0},this.input=n}return Object(Rt.a)(t,[{key:"reset",value:function(t){this.pos=t}},{key:"finished",value:function(){return this.pos.overallPos===this.input.length}},{key:"clearMemos",value:function(){this.$scope$Constraint$memo.clear()}},{key:"matchStart",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.matchBid(t+1,n))&&null!==e.match$EOF(n)&&(i={kind:W.Start,bid:r}),i}))}},{key:"matchBid",value:function(t,n){var e=this;return this.run(t,(function(){var r,a,u,c=null;return null!==(r=e.matchDigit(t+1,n))&&null!==(a=e.matchBidSpecifier(t+1,n))&&null!==e.regexAccept(String.raw(i||(i=Object(wt.a)(["(?:: )"]))),t+1,n)&&null!==(u=e.matchConstraintList(t+1,n))&&(c={kind:W.Bid,level:r,bid:a,constraints:u}),c}))}},{key:"matchBidSpecifier",value:function(t,n){var e=this;return this.choice([function(){return e.matchBidSpecifier_1(t+1,n)},function(){return e.matchBidSpecifier_2(t+1,n)}])}},{key:"matchBidSpecifier_1",value:function(t,n){return this.matchWildcard(t+1,n)}},{key:"matchBidSpecifier_2",value:function(t,n){return this.matchSuitSpecifier(t+1,n)}},{key:"matchWildcard",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(a||(a=Object(wt.a)(["(?:x)"]))),t+1,n))&&(i={kind:W.Wildcard,v:r}),i}))}},{key:"matchSuitSpecifier",value:function(t,n){var e=this;return this.choice([function(){return e.matchSuitSpecifier_1(t+1,n)},function(){return e.matchSuitSpecifier_2(t+1,n)},function(){return e.matchSuitSpecifier_3(t+1,n)}])}},{key:"matchSuitSpecifier_1",value:function(t,n){return this.matchMajor(t+1,n)}},{key:"matchSuitSpecifier_2",value:function(t,n){return this.matchMinor(t+1,n)}},{key:"matchSuitSpecifier_3",value:function(t,n){return this.matchStrain(t+1,n)}},{key:"matchMajor",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(u||(u=Object(wt.a)(["(?:M)"]))),t+1,n))&&(i={kind:W.Major,v:r}),i}))}},{key:"matchMinor",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(c||(c=Object(wt.a)(["(?:m)"]))),t+1,n))&&(i={kind:W.Minor,v:r}),i}))}},{key:"matchStrain",value:function(t,n){var e=this;return this.choice([function(){return e.matchStrain_1(t+1,n)},function(){return e.matchStrain_2(t+1,n)}])}},{key:"matchStrain_1",value:function(t,n){return this.matchSuit(t+1,n)}},{key:"matchStrain_2",value:function(t,n){return this.matchNotrump(t+1,n)}},{key:"matchSuit",value:function(t,n){var e=this;return this.choice([function(){return e.matchSuit_1(t+1,n)},function(){return e.matchSuit_2(t+1,n)},function(){return e.matchSuit_3(t+1,n)},function(){return e.matchSuit_4(t+1,n)}])}},{key:"matchSuit_1",value:function(t,n){return this.matchClub(t+1,n)}},{key:"matchSuit_2",value:function(t,n){return this.matchDiamond(t+1,n)}},{key:"matchSuit_3",value:function(t,n){return this.matchHeart(t+1,n)}},{key:"matchSuit_4",value:function(t,n){return this.matchSpade(t+1,n)}},{key:"matchClub",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(o||(o=Object(wt.a)(["(?:[Cc\u2663\u2667])"]))),t+1,n))&&(i={kind:W.Club,v:r}),i}))}},{key:"matchDiamond",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(s||(s=Object(wt.a)(["(?:[Dd\u2666\u2662])"]))),t+1,n))&&(i={kind:W.Diamond,v:r}),i}))}},{key:"matchHeart",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(l||(l=Object(wt.a)(["(?:[Hh\u2665\u2661])"]))),t+1,n))&&(i={kind:W.Heart,v:r}),i}))}},{key:"matchSpade",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(h||(h=Object(wt.a)(["(?:[Ss\u2660\u2664])"]))),t+1,n))&&(i={kind:W.Spade,v:r}),i}))}},{key:"matchNotrump",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(f||(f=Object(wt.a)(["(?:[Nn])"]))),t+1,n))&&(e.regexAccept(String.raw(p||(p=Object(wt.a)(["(?:[Tt])"]))),t+1,n),1)&&(i={kind:W.Notrump,v:r}),i}))}},{key:"matchConstraintList",value:function(t,n){var e=this;return this.loop((function(){return e.matchConstraintListItem(t+1,n)}),!1)}},{key:"matchConstraintListItem",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.matchConstraint(t+1,n))&&(e.regexAccept(String.raw(m||(m=Object(wt.a)(["(?: )"]))),t+1,n),1)&&(i={kind:W.ConstraintListItem,constraint:r}),i}))}},{key:"matchConstraint",value:function(t,n){var e=this,r=this.mark(),i=this.$scope$Constraint$memo.get(r.overallPos);if(void 0!==i)return this.reset(i[1]),i[0];var a=this.memoSafe;this.memoSafe=!1,this.$scope$Constraint$memo.set(r.overallPos,[null,r]);for(var u=null,c=r;;){this.reset(r);var o=e.choice([function(){return e.matchConstraint_1(t+1,n)},function(){return e.matchConstraint_2(t+1,n)},function(){return e.matchConstraint_3(t+1,n)},function(){return e.matchConstraint_4(t+1,n)},function(){return e.matchConstraint_5(t+1,n)},function(){return e.matchConstraint_6(t+1,n)},function(){return e.matchConstraint_7(t+1,n)},function(){return e.matchConstraint_8(t+1,n)},function(){return e.matchConstraint_9(t+1,n)},function(){return e.matchConstraint_10(t+1,n)},function(){return e.matchConstraint_11(t+1,n)}]),s=this.mark();if(s.overallPos<=c.overallPos)break;u=o,c=s,this.$scope$Constraint$memo.set(r.overallPos,[u,c])}return this.reset(c),this.memoSafe=a,u}},{key:"matchConstraint_1",value:function(t,n){return this.matchConstraintConst(t+1,n)}},{key:"matchConstraint_2",value:function(t,n){return this.matchConstraintOr(t+1,n)}},{key:"matchConstraint_3",value:function(t,n){return this.matchConstraintAnd(t+1,n)}},{key:"matchConstraint_4",value:function(t,n){return this.matchConstraintNot(t+1,n)}},{key:"matchConstraint_5",value:function(t,n){return this.matchDistribution(t+1,n)}},{key:"matchConstraint_6",value:function(t,n){return this.matchResponse(t+1,n)}},{key:"matchConstraint_7",value:function(t,n){return this.matchSuitRange(t+1,n)}},{key:"matchConstraint_8",value:function(t,n){return this.matchSuitComparison(t+1,n)}},{key:"matchConstraint_9",value:function(t,n){return this.matchSuitBound(t+1,n)}},{key:"matchConstraint_10",value:function(t,n){return this.matchPointRange(t+1,n)}},{key:"matchConstraint_11",value:function(t,n){return this.matchPointBound(t+1,n)}},{key:"matchConstraintConst",value:function(t,n){var e=this;return this.choice([function(){return e.matchConstraintConst_1(t+1,n)},function(){return e.matchConstraintConst_2(t+1,n)}])}},{key:"matchConstraintConst_1",value:function(t,n){return this.matchConstraintTrue(t+1,n)}},{key:"matchConstraintConst_2",value:function(t,n){return this.matchConstraintFalse(t+1,n)}},{key:"matchConstraintTrue",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(d||(d=Object(wt.a)(["(?:true)"]))),t+1,n))&&(i={kind:W.ConstraintTrue,v:r}),i}))}},{key:"matchConstraintFalse",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(v||(v=Object(wt.a)(["(?:false)"]))),t+1,n))&&(i={kind:W.ConstraintFalse,v:r}),i}))}},{key:"matchConstraintOr",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a=null;return null!==(r=e.matchConstraint(t+1,n))&&null!==e.regexAccept(String.raw(b||(b=Object(wt.a)(["(?: or )"]))),t+1,n)&&null!==(i=e.matchConstraint(t+1,n))&&(a={kind:W.ConstraintOr,left:r,right:i}),a}))}},{key:"matchConstraintAnd",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==e.regexAccept(String.raw(j||(j=Object(wt.a)(["(?:()"],["(?:\\()"]))),t+1,n)&&null!==(r=e.matchConstraintList(t+1,n))&&null!==e.regexAccept(String.raw(O||(O=Object(wt.a)(["(?:))"],["(?:\\))"]))),t+1,n)&&(i={kind:W.ConstraintAnd,constraints:r}),i}))}},{key:"matchConstraintNot",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==e.matchConstraintNot_$0(t+1,n)&&(e.regexAccept(String.raw(g||(g=Object(wt.a)(["(?: )"]))),t+1,n),1)&&null!==(r=e.matchConstraint(t+1,n))&&(i={kind:W.ConstraintNot,constraint:r}),i}))}},{key:"matchConstraintNot_$0",value:function(t,n){var e=this;return this.choice([function(){return e.matchConstraintNot_$0_1(t+1,n)},function(){return e.matchConstraintNot_$0_2(t+1,n)}])}},{key:"matchConstraintNot_$0_1",value:function(t,n){return this.regexAccept(String.raw(S||(S=Object(wt.a)(["(?:not)"]))),t+1,n)}},{key:"matchConstraintNot_$0_2",value:function(t,n){return this.regexAccept(String.raw(y||(y=Object(wt.a)(["(?:!)"]))),t+1,n)}},{key:"matchPointRange",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a=null;return null!==(r=e.matchNumber(t+1,n))&&null!==e.regexAccept(String.raw(k||(k=Object(wt.a)(["(?:-)"]))),t+1,n)&&null!==(i=e.matchNumber(t+1,n))&&(a={kind:W.PointRange,lower:r,upper:i}),a}))}},{key:"matchPointBound",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a=null;return null!==(r=e.matchNumber(t+1,n))&&null!==(i=e.matchBoundQualifier(t+1,n))&&(a={kind:W.PointBound,value:r,qualifier:i}),a}))}},{key:"matchSuitRange",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a,u=null;return null!==(r=e.matchDigit(t+1,n))&&null!==e.regexAccept(String.raw(x||(x=Object(wt.a)(["(?:-)"]))),t+1,n)&&null!==(i=e.matchDigit(t+1,n))&&null!==(a=e.matchSuitRangeSpecifier(t+1,n))&&(u={kind:W.SuitRange,lower:r,upper:i,suit:a}),u}))}},{key:"matchSuitBound",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a,u=null;return null!==(r=e.matchNumber(t+1,n))&&null!==(i=e.matchBoundQualifier(t+1,n))&&null!==(a=e.matchSuitRangeSpecifier(t+1,n))&&(u={kind:W.SuitBound,value:r,qualifier:i,suit:a}),u}))}},{key:"matchSuitRangeSpecifier",value:function(t,n){var e=this;return this.choice([function(){return e.matchSuitRangeSpecifier_1(t+1,n)},function(){return e.matchSuitRangeSpecifier_2(t+1,n)},function(){return e.matchSuitRangeSpecifier_3(t+1,n)}])}},{key:"matchSuitRangeSpecifier_1",value:function(t,n){return this.matchMajor(t+1,n)}},{key:"matchSuitRangeSpecifier_2",value:function(t,n){return this.matchMinor(t+1,n)}},{key:"matchSuitRangeSpecifier_3",value:function(t,n){return this.matchSuit(t+1,n)}},{key:"matchOtherMajor",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(C||(C=Object(wt.a)(["(?:oM)"]))),t+1,n))&&(i={kind:W.OtherMajor,v:r}),i}))}},{key:"matchOtherMinor",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(_||(_=Object(wt.a)(["(?:om)"]))),t+1,n))&&(i={kind:W.OtherMinor,v:r}),i}))}},{key:"matchSuitComparison",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a,u=null;return null!==(r=e.matchSuit(t+1,n))&&null!==(i=e.matchSuitComparisonOperator(t+1,n))&&null!==(a=e.matchSuit(t+1,n))&&(u={kind:W.SuitComparison,left:r,op:i,right:a}),u}))}},{key:"matchSuitComparisonOperator",value:function(t,n){var e=this;return this.choice([function(){return e.matchSuitComparisonOperator_1(t+1,n)},function(){return e.matchSuitComparisonOperator_2(t+1,n)},function(){return e.matchSuitComparisonOperator_3(t+1,n)},function(){return e.matchSuitComparisonOperator_4(t+1,n)},function(){return e.matchSuitComparisonOperator_5(t+1,n)}])}},{key:"matchSuitComparisonOperator_1",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(A||(A=Object(wt.a)(["(?:<)"]))),t+1,n))&&(i={kind:W.SuitComparisonOperator_1,v:r}),i}))}},{key:"matchSuitComparisonOperator_2",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(w||(w=Object(wt.a)(["(?:<=)"]))),t+1,n))&&(i={kind:W.SuitComparisonOperator_2,v:r}),i}))}},{key:"matchSuitComparisonOperator_3",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(R||(R=Object(wt.a)(["(?:=)"]))),t+1,n))&&(i={kind:W.SuitComparisonOperator_3,v:r}),i}))}},{key:"matchSuitComparisonOperator_4",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(B||(B=Object(wt.a)(["(?:>=)"]))),t+1,n))&&(i={kind:W.SuitComparisonOperator_4,v:r}),i}))}},{key:"matchSuitComparisonOperator_5",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(M||(M=Object(wt.a)(["(?:>)"]))),t+1,n))&&(i={kind:W.SuitComparisonOperator_5,v:r}),i}))}},{key:"matchBoundQualifier",value:function(t,n){var e=this;return this.choice([function(){return e.matchBoundQualifier_1(t+1,n)},function(){return e.matchBoundQualifier_2(t+1,n)},function(){return e.matchBoundQualifier_3(t+1,n)}])}},{key:"matchBoundQualifier_1",value:function(t,n){return this.matchPlus(t+1,n)}},{key:"matchBoundQualifier_2",value:function(t,n){return this.matchMinus(t+1,n)}},{key:"matchBoundQualifier_3",value:function(t,n){return this.matchEquals(t+1,n)}},{key:"matchPlus",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(D||(D=Object(wt.a)(["(?:+)"],["(?:\\+)"]))),t+1,n))&&(i={kind:W.Plus,v:r}),i}))}},{key:"matchMinus",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(F||(F=Object(wt.a)(["(?:-)"],["(?:\\-)"]))),t+1,n))&&(i={kind:W.Minus,v:r}),i}))}},{key:"matchEquals",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(N||(N=Object(wt.a)(["(?:=)"]))),t+1,n))&&(i={kind:W.Equals,v:r}),i}))}},{key:"matchDistribution",value:function(t,n){var e=this;return this.choice([function(){return e.matchDistribution_1(t+1,n)},function(){return e.matchDistribution_2(t+1,n)},function(){return e.matchDistribution_3(t+1,n)},function(){return e.matchDistribution_4(t+1,n)},function(){return e.matchDistribution_5(t+1,n)}])}},{key:"matchDistribution_1",value:function(t,n){return this.matchBalanced(t+1,n)}},{key:"matchDistribution_2",value:function(t,n){return this.matchSemiBalanced(t+1,n)}},{key:"matchDistribution_3",value:function(t,n){return this.matchUnbalanced(t+1,n)}},{key:"matchDistribution_4",value:function(t,n){return this.matchAnyShape(t+1,n)}},{key:"matchDistribution_5",value:function(t,n){return this.matchSpecificShape(t+1,n)}},{key:"matchBalanced",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(E||(E=Object(wt.a)(["(?:BAL)"]))),t+1,n))&&(i={kind:W.Balanced,v:r}),i}))}},{key:"matchSemiBalanced",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(P||(P=Object(wt.a)(["(?:semiBAL)"]))),t+1,n))&&(i={kind:W.SemiBalanced,v:r}),i}))}},{key:"matchUnbalanced",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw($||($=Object(wt.a)(["(?:unBAL)"]))),t+1,n))&&(i={kind:W.Unbalanced,v:r}),i}))}},{key:"matchAnyShape",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(q||(q=Object(wt.a)(["(?:[0-9]{4})"]))),t+1,n))&&null!==e.regexAccept(String.raw(H||(H=Object(wt.a)(["(?:*)"],["(?:\\*)"]))),t+1,n)&&(i={kind:W.AnyShape,v:r}),i}))}},{key:"matchSpecificShape",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a,u,c=null;return null!==(r=e.matchDigit(t+1,n))&&null!==(i=e.matchDigit(t+1,n))&&null!==(a=e.matchDigit(t+1,n))&&null!==(u=e.matchDigit(t+1,n))&&(c={kind:W.SpecificShape,S:r,H:i,D:a,C:u}),c}))}},{key:"matchResponse",value:function(t,n){var e=this;return this.choice([function(){return e.matchResponse_1(t+1,n)},function(){return e.matchResponse_2(t+1,n)},function(){return e.matchResponse_3(t+1,n)},function(){return e.matchResponse_4(t+1,n)}])}},{key:"matchResponse_1",value:function(t,n){return this.matchForceOneRound(t+1,n)}},{key:"matchResponse_2",value:function(t,n){return this.matchForceGame(t+1,n)}},{key:"matchResponse_3",value:function(t,n){return this.matchForceSlam(t+1,n)}},{key:"matchResponse_4",value:function(t,n){return this.matchRelay(t+1,n)}},{key:"matchForceOneRound",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(I||(I=Object(wt.a)(["(?:F1)"]))),t+1,n))&&(i={kind:W.ForceOneRound,v:r}),i}))}},{key:"matchForceGame",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(Q||(Q=Object(wt.a)(["(?:FG)"]))),t+1,n))&&(i={kind:W.ForceGame,v:r}),i}))}},{key:"matchForceSlam",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(K||(K=Object(wt.a)(["(?:FS)"]))),t+1,n))&&(i={kind:W.ForceSlam,v:r}),i}))}},{key:"matchRelay",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a=null;return null!==e.regexAccept(String.raw(T||(T=Object(wt.a)(["(?:->)"]))),t+1,n)&&null!==(r=e.matchNumber(t+1,n))&&null!==(i=e.matchStrain(t+1,n))&&(a={kind:W.Relay,level:r,strain:i}),a}))}},{key:"matchDigit",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(G||(G=Object(wt.a)(["(?:[0-9])"]))),t+1,n))&&(i=new Mt(r)),i}))}},{key:"matchNumber",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw(L||(L=Object(wt.a)(["(?:[0-9]+)"]))),t+1,n))&&(i=new Dt(r)),i}))}},{key:"test",value:function(){var t=this.mark(),n=null!==this.matchStart(0);return this.reset(t),n}},{key:"parse",value:function(){var t=this.mark(),n=this.matchStart(0);if(n)return{ast:n,errs:[]};this.reset(t);var e=new It;this.clearMemos(),this.matchStart(0,e);var r=e.getErr();return{ast:n,errs:null!==r?[r]:[]}}},{key:"mark",value:function(){return this.pos}},{key:"loop",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=this.mark(),r=[];;){var i=t();if(null===i)break;r.push(i)}return n||r.length>0?r:(this.reset(e),null)}},{key:"run",value:function(t,n){var e=this.mark(),r=n();return null!==r?r:(this.reset(e),null)}},{key:"choice",value:function(t){var n,e=Object(At.a)(t);try{for(e.s();!(n=e.n()).done;){var r=(0,n.value)();if(null!==r)return r}}catch(i){e.e(i)}finally{e.f()}return null}},{key:"regexAccept",value:function(t,n,e){var r=this;return this.run(n,(function(){var n=new RegExp(t,"y"),i=r.mark();n.lastIndex=i.overallPos;var a=r.tryConsume(n);return e&&e.record(i,a,{kind:"RegexMatch",literal:t.substring(3,t.length-1),negated:r.negating}),a}))}},{key:"tryConsume",value:function(t){var n=t.exec(this.input);if(n){for(var e=0,r=-1,i=0;i<n[0].length;++i)"\n"===n[0][i]&&(++e,r=i);return this.pos={overallPos:t.lastIndex,line:this.pos.line+e,offset:-1===r?this.pos.offset+n[0].length:n[0].length-r-1},n[0]}return null}},{key:"noConsume",value:function(t){var n=this.mark(),e=t();return this.reset(n),e}},{key:"negate",value:function(t){var n=this.mark(),e=this.negating;this.negating=!e;var r=t();return this.negating=e,this.reset(n),null===r||null}},{key:"memoise",value:function(t,n){var e=this.mark(),r=n.get(e.overallPos);if(this.memoSafe&&void 0!==r)return this.reset(r[1]),r[0];var i=t();return this.memoSafe&&n.set(e.overallPos,[i,this.mark()]),i}},{key:"match$EOF",value:function(t){var n=this.finished()?{kind:W.$EOF}:null;return t&&t.record(this.mark(),n,{kind:"EOF",negated:this.negating}),n}}]),t}();var Nt,Et,Pt,$t,qt,Ht=function(){function t(n,e){Object(Bt.a)(this,t),this.pos=void 0,this.expmatches=void 0,this.pos=n,this.expmatches=Object(nt.a)(e)}return Object(Rt.a)(t,[{key:"toString",value:function(){return"Syntax Error at line ".concat(this.pos.line,":").concat(this.pos.offset,". Expected one of ").concat(this.expmatches.map((function(t){return"EOF"===t.kind?" EOF":" ".concat(t.negated?"not ":"","'").concat(t.literal,"'")})))}}]),t}(),It=function(){function t(){Object(Bt.a)(this,t),this.mxpos={overallPos:-1,line:-1,offset:-1},this.regexset=new Set,this.pmatches=[]}return Object(Rt.a)(t,[{key:"record",value:function(t,n,e){null===n!==e.negated&&(t.overallPos>this.mxpos.overallPos&&(this.mxpos=t,this.pmatches=[],this.regexset.clear()),this.mxpos.overallPos===t.overallPos&&("RegexMatch"===e.kind?(this.regexset.has(e.literal)||this.pmatches.push(e),this.regexset.add(e.literal)):this.pmatches.push(e)))}},{key:"getErr",value:function(){return-1!==this.mxpos.overallPos?new Ht(this.mxpos,this.pmatches):null}}]),t}(),Qt=function(t){return Object(V.pipe)(t,z.h.map((function(t){return Wt(t.constraint)})))},Kt=function(t){return t.kind===W.Club?"C":t.kind===W.Diamond?"D":t.kind===W.Heart?"H":"S"},Tt=function(t){return t.kind===W.Notrump?"N":Kt(t)},Gt=function(t){return t.kind===W.Major?"Major":t.kind===W.Minor?"Minor":Kt(t)},Lt=function(t,n){return function(e){return Object(V.pipe)(n,z.e.of,z.e.filter((function(n){return t.kind===W.Equals||"min"===e&&t.kind===W.Plus||"max"===e&&t.kind===W.Minus})))}},Wt=function t(n){if(n.kind===W.ConstraintTrue)return{type:"Constant",value:!0};if(n.kind===W.ConstraintFalse)return{type:"Constant",value:!1};if(n.kind===W.ConstraintAnd){var e=Qt(n.constraints);return 1===e.length?e[0]:{type:"Conjunction",constraints:Qt(n.constraints)}}if(n.kind===W.ConstraintOr){var r=[t(n.left),t(n.right)],i=r[0],a=r[1],u=function(t){return"Disjunction"===t.type?t.constraints:[t]};return{type:"Disjunction",constraints:[].concat(Object(nt.a)(u(i)),Object(nt.a)(u(a)))}}return n.kind===W.ConstraintNot?{type:"Negation",constraint:t(n.constraint)}:n.kind===W.PointRange?{type:"PointRange",min:n.lower.value,max:n.upper.value}:n.kind===W.PointBound?{type:"PointRange",min:Object(V.pipe)(Lt(n.qualifier,n.value.value)("min"),z.e.getOrElse(Object(V.constant)(0))),max:Object(V.pipe)(Lt(n.qualifier,n.value.value)("max"),z.e.getOrElse(Object(V.constant)(37)))}:n.kind===W.SuitRange?{type:"SuitRange",min:n.lower.value,max:n.upper.value,suit:Gt(n.suit)}:n.kind===W.SuitBound?{type:"SuitRange",min:Object(V.pipe)(Lt(n.qualifier,n.value.value)("min"),z.e.getOrElse(Object(V.constant)(0))),max:Object(V.pipe)(Lt(n.qualifier,n.value.value)("max"),z.e.getOrElse(Object(V.constant)(13))),suit:Gt(n.suit)}:n.kind===W.AnyShape?{type:"AnyShape",counts:Object(V.pipe)(n.v,z.o.split(""),z.h.map(parseInt))}:n.kind===W.SpecificShape?{type:"SpecificShape",suits:Object(V.pipe)(Ct,z.j.mapWithIndex((function(t,e){return n[t].value})))}:n.kind===W.Relay?{type:"Relay",bid:{level:n.level.value,strain:Tt(n.strain)}}:n.kind===W.SuitComparison?{type:"SuitComparison",op:n.op.v,left:Kt(n.left),right:Kt(n.right)}:{type:n.kind}},Jt=function(t){return new Ft(t).parse()};!function(t){t.Start="Start",t.Hand="Hand",t.Suit="Suit",t.Card="Card",t.$EOF="$EOF"}(qt||(qt={}));var Ut=function t(n){Object(Bt.a)(this,t),this.kind=qt.Card,this.c=void 0,this.rank=void 0,this.c=n,this.rank=["2","3","4","5","6","7","8","9","T","J","Q","K","A"].indexOf(n)+2},zt=function(){function t(n){Object(Bt.a)(this,t),this.input=void 0,this.pos=void 0,this.negating=!1,this.memoSafe=!0,this.pos={overallPos:0,line:1,offset:0},this.input=n}return Object(Rt.a)(t,[{key:"reset",value:function(t){this.pos=t}},{key:"finished",value:function(){return this.pos.overallPos===this.input.length}},{key:"clearMemos",value:function(){}},{key:"matchStart",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.matchHand(t+1,n))&&null!==e.match$EOF(n)&&(i={kind:qt.Start,hand:r}),i}))}},{key:"matchHand",value:function(t,n){var e=this;return this.run(t,(function(){var r,i,a,u,c=null;return null!==(r=e.matchSuit(t+1,n))&&null!==e.regexAccept(String.raw(Nt||(Nt=Object(wt.a)(["(?:.)"],["(?:\\.)"]))),t+1,n)&&null!==(i=e.matchSuit(t+1,n))&&null!==e.regexAccept(String.raw(Et||(Et=Object(wt.a)(["(?:.)"],["(?:\\.)"]))),t+1,n)&&null!==(a=e.matchSuit(t+1,n))&&null!==e.regexAccept(String.raw(Pt||(Pt=Object(wt.a)(["(?:.)"],["(?:\\.)"]))),t+1,n)&&null!==(u=e.matchSuit(t+1,n))&&(c={kind:qt.Hand,S:r,H:i,D:a,C:u}),c}))}},{key:"matchSuit",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.loop((function(){return e.matchCard(t+1,n)}),!0))&&(i={kind:qt.Suit,cards:r}),i}))}},{key:"matchCard",value:function(t,n){var e=this;return this.run(t,(function(){var r,i=null;return null!==(r=e.regexAccept(String.raw($t||($t=Object(wt.a)(["(?:[AKQJT2-9])"]))),t+1,n))&&(i=new Ut(r)),i}))}},{key:"test",value:function(){var t=this.mark(),n=null!==this.matchStart(0);return this.reset(t),n}},{key:"parse",value:function(){var t=this.mark(),n=this.matchStart(0);if(n)return{ast:n,errs:[]};this.reset(t);var e=new Yt;this.clearMemos(),this.matchStart(0,e);var r=e.getErr();return{ast:n,errs:null!==r?[r]:[]}}},{key:"mark",value:function(){return this.pos}},{key:"loop",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=this.mark(),r=[];;){var i=t();if(null===i)break;r.push(i)}return n||r.length>0?r:(this.reset(e),null)}},{key:"run",value:function(t,n){var e=this.mark(),r=n();return null!==r?r:(this.reset(e),null)}},{key:"choice",value:function(t){var n,e=Object(At.a)(t);try{for(e.s();!(n=e.n()).done;){var r=(0,n.value)();if(null!==r)return r}}catch(i){e.e(i)}finally{e.f()}return null}},{key:"regexAccept",value:function(t,n,e){var r=this;return this.run(n,(function(){var n=new RegExp(t,"y"),i=r.mark();n.lastIndex=i.overallPos;var a=r.tryConsume(n);return e&&e.record(i,a,{kind:"RegexMatch",literal:t.substring(3,t.length-1),negated:r.negating}),a}))}},{key:"tryConsume",value:function(t){var n=t.exec(this.input);if(n){for(var e=0,r=-1,i=0;i<n[0].length;++i)"\n"===n[0][i]&&(++e,r=i);return this.pos={overallPos:t.lastIndex,line:this.pos.line+e,offset:-1===r?this.pos.offset+n[0].length:n[0].length-r-1},n[0]}return null}},{key:"noConsume",value:function(t){var n=this.mark(),e=t();return this.reset(n),e}},{key:"negate",value:function(t){var n=this.mark(),e=this.negating;this.negating=!e;var r=t();return this.negating=e,this.reset(n),null===r||null}},{key:"memoise",value:function(t,n){var e=this.mark(),r=n.get(e.overallPos);if(this.memoSafe&&void 0!==r)return this.reset(r[1]),r[0];var i=t();return this.memoSafe&&n.set(e.overallPos,[i,this.mark()]),i}},{key:"match$EOF",value:function(t){var n=this.finished()?{kind:qt.$EOF}:null;return t&&t.record(this.mark(),n,{kind:"EOF",negated:this.negating}),n}}]),t}();var Vt,Xt=function(){function t(n,e){Object(Bt.a)(this,t),this.pos=void 0,this.expmatches=void 0,this.pos=n,this.expmatches=Object(nt.a)(e)}return Object(Rt.a)(t,[{key:"toString",value:function(){return"Syntax Error at line ".concat(this.pos.line,":").concat(this.pos.offset,". Expected one of ").concat(this.expmatches.map((function(t){return"EOF"===t.kind?" EOF":" ".concat(t.negated?"not ":"","'").concat(t.literal,"'")})))}}]),t}(),Yt=function(){function t(){Object(Bt.a)(this,t),this.mxpos={overallPos:-1,line:-1,offset:-1},this.regexset=new Set,this.pmatches=[]}return Object(Rt.a)(t,[{key:"record",value:function(t,n,e){null===n!==e.negated&&(t.overallPos>this.mxpos.overallPos&&(this.mxpos=t,this.pmatches=[],this.regexset.clear()),this.mxpos.overallPos===t.overallPos&&("RegexMatch"===e.kind?(this.regexset.has(e.literal)||this.pmatches.push(e),this.regexset.add(e.literal)):this.pmatches.push(e)))}},{key:"getErr",value:function(){return-1!==this.mxpos.overallPos?new Xt(this.mxpos,this.pmatches):null}}]),t}(),Zt=function(t){return Object(V.pipe)(at,z.h.map(function(t){return function(n){return Object(V.pipe)(t[n].cards,z.h.map((function(t){return{suit:n,rank:lt.decode(t.rank).right}})))}}(t)),z.h.flatten,z.k.fromReadonlyArray(pt))},tn={encode:Object(V.flow)(jt,z.j.toReadonlyArray,z.h.sort(vt()),z.h.map(Object(V.flow)(z.l.snd,z.h.sort(ft),z.h.reduce("",(function(t,n){return t+ot[n-2]})))),z.h.intersperse("."),z.h.foldMap(z.o.Monoid)(V.identity))},nn=function(t){return new zt(t).parse()},en=function(t){return Object(V.pipe)(t,z.i.fromReadonlyArray,z.e.fold(Object(V.constant)(tt.a(null,"No syntax errors reported")),z.i.foldMapWithIndex(Z.getSemigroup())((function(t,n){return Z.of(Y.index(t,"required",Z.of(Y.leaf({pos:n.pos,expmatches:n.expmatches},n.toString()))))}))))},rn=function(t){return z.b.fromNullable(t.errs)(t.ast)},an=function(t){return Object(V.pipe)(tt.c,tt.b(Object(V.flow)(t,rn,z.b.mapLeft(en))))},un=Object(V.flow)(an(Jt).decode,z.b.map((function(t){return{bid:{level:(n=t.bid).level.value,strain:Tt(n.bid)},constraint:Object(V.pipe)(n.constraints,z.h.map((function(t){return Wt(t.constraint)})),(function(t){return 1===t.length?t[0]:{type:"Conjunction",constraints:t}}))};var n}))),cn=Object(V.flow)(an(nn).decode,z.b.map((function(t){return Zt(t.hand)}))),on=function(){return z.q.make({blockKey:"root",text:"root",bid:z.e.none})},sn={system:on()},ln=function(t){return function(n){return Object(V.flow)(z.q.fold(n),(function(n){return t.map(n,z.i.tail)}))}},hn=ln(z.i.Functor)((function(t,n){return Object(V.pipe)(n,z.i.fromReadonlyArray,z.e.fold((function(){return[[t]]}),z.i.foldMap(z.i.getSemigroup())(z.i.map(z.h.prepend(t)))))})),fn=function(t){return ln(z.e.Functor)((function(n,e){return n.blockKey===t?z.e.some([n]):Object(V.pipe)(e,z.h.findFirstMap(z.e.map(z.h.prepend(n))))}))},pn=z.q.reduce([],(function(t,n){return Object(V.pipe)(t,z.h.append(n))})),mn=Object(U.c)({name:"system",initialState:sn,reducers:{setSystem:function(t,n){t.system=Object(V.pipe)(function(t){var n=on(),e=[n];return t.forEach((function(t){var n=e[t.depth+1]={forest:[],value:{blockKey:t.key,text:t.text,bid:z.e.some(un(t.text))}};e[t.depth].forest.push(n)})),n}(n.payload),X.a)}}}),dn=mn.actions.setSystem,vn=Object(V.flow)(z.h.map((function(t){return t.bid})),z.h.compact),bn=function(t){return Object(V.pipe)(t.system,hn,z.i.map(Object(V.flow)(z.h.traverse(z.e.Applicative)((function(t){return t.bid})),z.e.chain(z.e.fromEitherK(z.h.sequence(z.b.Applicative))),z.e.chain(z.i.fromReadonlyArray))),z.h.compact)},jn=Object(V.flow)((function(t){return Object(V.pipe)(t.system,pn,z.h.map((function(t){return t.bid})),z.h.compact)}),z.h.separate,z.n.left),On=mn.reducer,gn=e(39),Sn=e(5),yn=e.n(Sn),kn=e(93),xn=Object(V.flow)(z.k.toReadonlyArray(mt),z.h.foldMap(z.d.MonoidSum)((function(t){return Math.max(0,t.rank-10)}))),Cn=Object(V.flow)((function(t){return z.f.between(z.d.Ord)(t.min,t.max)}),z.g.contramap(xn)),_n=function(t){return function(n,e){return Object(V.flow)(_t,(function(r){return function(t){return"<"===t?z.f.lt(z.d.Ord):"<="===t?z.f.leq(z.d.Ord):"="===t?z.d.Eq.equals:">="===t?z.f.geq(z.d.Ord):">"===t?z.f.gt(z.d.Ord):V.constFalse}(t)(r[n],r[e])}))}},An=function(t){return function(n){return xt.equals(t,function(t){return Object(V.pipe)(t,_t,z.j.toReadonlyArray,z.h.map(z.l.snd),(function(t){return z.h.mapWithIndex((function(n,e){return Object(V.pipe)(t,z.h.lookup(n),z.e.getOrElse((function(){return 0})))}))(St)}))}(n))}},wn=Object(V.pipe)(z.g.getMonoidAny(),z.h.foldMap),Rn=Object(V.pipe)(z.g.getMonoidAll(),z.h.foldMap),Bn=Object(V.pipe)([kt(4,3,3,3),kt(5,3,3,2),kt(4,4,3,2),kt(5,5,3,2)],wn(An)),Mn=Object(V.pipe)([kt(5,4,2,2),kt(6,3,2,2)],wn(An)),Dn=function t(n){return"Constant"===n.type?Object(V.constant)(n.value):"Conjunction"===n.type?Object(V.pipe)(n.constraints,Rn(t)):"Disjunction"===n.type?Object(V.pipe)(n.constraints,wn(t)):"Negation"===n.type?Object(V.pipe)(n.constraint,t,z.g.not):"PointRange"===n.type?Cn(n):"SuitRange"===n.type?function(t){var n="Major"===t.suit?["S","H"]:"Minor"===t.suit?["D","C"]:[t.suit];return Object(V.flow)(_t,(function(e){return Object(V.pipe)(n,z.h.exists((function(n){return z.f.between(z.d.Ord)(t.min,t.max)(e[n])})))}))}(n):"Balanced"===n.type?Bn:"SemiBalanced"===n.type?z.g.or(Bn)(Mn):"Unbalanced"===n.type?z.g.not(z.g.or(Bn)(Mn)):"AnyShape"===n.type?An(n.counts):"SpecificShape"===n.type?(e=n.suits,Object(V.flow)(_t,(function(t){return z.m.getEq(kn.eqStrict).equals(t,e)}))):"SuitComparison"===n.type?_n(n.op)(n.left,n.right):V.constFalse;var e},Fn=e(82),Nn=Fn.a(z.k.toReadonlyArray(mt),z.k.fromReadonlyArray(pt)),En=(Fn.a(z.j.map(Nn.get),z.j.map(Nn.reverseGet)),Vt=Nn,Fn.a(z.b.map(Vt.get),z.b.map(Vt.reverseGet))),Pn={selectedBlockKey:z.e.none},$n=function(t){return function(n){return Object(V.pipe)(n[t],z.b.right,En.get,X.a)}},qn=Object(U.c)({name:"selection",initialState:Pn,reducers:{setSelectedBlockKey:function(t,n){t.selectedBlockKey=n.payload},setHand:{reducer:function(t,n){t[n.meta]=Object(V.pipe)(n.payload,cn,En.get,X.a)},prepare:function(t,n){return{payload:t,meta:n}}},genHands:function(t){var n,e=(n=it(dt),Object(V.pipe)(Ot,z.i.zip(z.i.chunksOf(13)(n)),z.i.groupBy(z.l.fst),z.j.map((function(t){return Object(V.pipe)(t,z.i.head,z.l.snd,z.k.fromReadonlyArray(pt))})),(function(t){return t})));t.opener=$n("N")(e),t.responder=$n("S")(e)}}}),Hn=qn.actions,In=Hn.setSelectedBlockKey,Qn=Hn.setHand,Kn=Hn.genHands,Tn=qn.reducer,Gn=function(t,n){return Object(V.pipe)(t[n],z.e.fromNullable,z.e.chain(Object(V.flow)(En.reverseGet,z.e.fromEither)))},Ln=e(64),Wn=function(){return Object(Ln.b)()},Jn=Ln.c,Un=e(4),zn=function(){var t=Object(Sn.useState)((function(){return gn.EditorState.createEmpty()})),n=Object(J.a)(t,2),e=n[0],r=n[1],i=Wn(),a=Object(Sn.useCallback)((function(t){r(t),localStorage.setItem("editor",JSON.stringify(Object(gn.convertToRaw)(t.getCurrentContent()))),i(dn(function(t){return t.getCurrentContent().getBlockMap().toArray().map((function(t){return{key:t.getKey(),text:t.getText(),depth:t.getDepth()}}))}(t))),i(In(z.e.some(t.getSelection().getFocusKey())))}),[i]);return Object(Sn.useEffect)((function(){var t=localStorage.getItem("editor");r(t?function(){return gn.EditorState.createWithContent(Object(gn.convertFromRaw)(JSON.parse(t)))}:function(){return gn.RichUtils.toggleBlockType(e,"unordered-list-item")})}),[]),Object(Un.jsx)(gn.Editor,{editorState:e,onChange:a,keyBindingFn:function(t){if(9===t.keyCode){var n=gn.RichUtils.onTab(t,e,10);return n!==e&&a(n),null}return Object(gn.getDefaultKeyBinding)(t)}})},Vn=e(55),Xn=e.n(Vn),Yn=e(140),Zn=e(141),te=e.n(Zn),ne=function(t){return function(){return(new te.a).genDeals(t)}},ee="generator",re=window.navigator.hardwareConcurrency,ie=Object(U.b)("".concat(ee,"/genDeals"),function(){var t=Object(Yn.a)(Xn.a.mark((function t(n){var e,r;return Xn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Math.floor(n/re),r=Math.floor(n%re),t.abrupt("return",Object(V.pipe)(z.h.makeBy(re-1,Object(V.constant)(ne(e))),z.h.prepend(ne(e+r)),z.p.sequenceArray,z.p.map(z.h.flatten),(function(t){return t()})));case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),ae=Object(U.c)({name:ee,initialState:{deals:[],generating:!1},reducers:{},extraReducers:function(t){return t.addCase(ie.pending,(function(t){t.generating=!0})).addCase(ie.fulfilled,(function(t,n){t.deals=Object(V.pipe)(n.payload,z.h.map((function(t){return Object(V.pipe)(["N","S"],z.l.bimap((function(n){return t[n]}),(function(n){return t[n]})))})),X.a),t.generating=!1})).addCase(ie.rejected,(function(t){t.generating=!1}))}}).reducer,ue=Xn.a.mark(oe),ce={system:On,selection:Tn,generator:ae};function oe(t,n){return Xn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t;case 3:return e.next=5,n;case 5:e.next=0;break;case 7:case"end":return e.stop()}}),ue)}var se,le,he,fe,pe,me,de=function t(n){return function(e){var r=e.next();return r.done||0===n?[]:[r.value].concat(Object(nt.a)(t(n-1)(e)))}},ve=function(t,n){return function(e){return Object(V.pipe)(oe(t,n),de(e.length),z.h.zip(e),z.h.every((function(t){var n=Object(J.a)(t,2),e=n[0],r=n[1];return Dn(r.constraint)(e)})))}},be=function(t){return Object(V.pipe)(z.e.Do,z.e.apS("blockKey",t.selection.selectedBlockKey),z.e.apS("opener",Gn(t.selection,"opener")),z.e.apS("responder",Gn(t.selection,"responder")),z.e.chain((function(n){return Object(V.pipe)(z.b.Do,z.b.apS("bids",function(t,n){return Object(V.pipe)(fn(n)(t.system),z.e.getOrElse((function(){return[]})),vn,z.h.sequence(z.b.Applicative))}(t.system,n.blockKey)),z.b.map((function(t){return ve(n.opener,n.responder)(t.bids)})),z.e.fromEither)})),z.e.toNullable)},je=function(t){return Object(V.pipe)(z.e.Do,z.e.apS("opener",Gn(t.selection,"opener")),z.e.apS("responder",Gn(t.selection,"responder")),z.e.map((function(n){return Object(V.pipe)(bn(t.system),z.h.map((function(t){return{path:t,result:ve(n.opener,n.responder)(t)}})))})),z.e.toNullable)},Oe=Object(V.pipe)(z.d.Ord,z.f.reverse,z.f.contramap((function(t){return t.count}))),ge=function(t){return Object(V.pipe)(z.h.Do,z.h.apS("deal",function(t){return Object(V.pipe)(t.deals,z.h.map(z.l.bimap(Nn.reverseGet,Nn.reverseGet)))}(t.generator)),z.h.apS("path",bn(t.system)),z.h.map((function(t){return{path:t.path,result:ve(t.deal[0],t.deal[1])(t.path)}})),z.i.fromReadonlyArray,z.e.map(Object(V.flow)(z.i.groupBy((function(t){return Object(V.pipe)(t.path,z.h.map((function(t){return t.bid})),z.h.foldMap(z.o.Monoid)((function(t){return"".concat(t.level).concat(t.strain)})))})),z.j.map((function(t){return{path:t[0].path,count:Object(V.pipe)(t,z.h.filter((function(t){return t.result}))).length}})),z.j.toReadonlyArray,z.h.map(z.l.snd),z.h.sort(Oe))),z.e.toNullable)},Se=function(){var t=Jn((function(t){return t.selection.selectedBlockKey})),n=Jn((function(n){return Object(V.pipe)(t,z.e.map((function(t){return function(t,n){return Object(V.pipe)(t.system,fn(n),z.e.toNullable)}(n.system,t)})),z.e.toNullable)})),e=Jn((function(n){return Object(V.pipe)(t,z.e.chain((function(t){return Object(V.pipe)(function(t,n){return Object(V.pipe)(t.system,fn(n),z.e.chain(z.h.last),z.e.toNullable)}(n.system,t),z.e.fromNullable)})),z.e.chain((function(t){return t.bid})),z.e.chain(z.e.fromEither),z.e.toNullable)})),r=Jn(be);return Object(Un.jsxs)("section",{children:[Object(Un.jsx)("h3",{children:"Selection"}),n&&Object(Un.jsxs)("div",{children:[Object(Un.jsx)("h4",{children:"Selected Path"}),n.map((function(t){return t.text})).join(" > ")]}),e&&Object(Un.jsxs)("div",{children:[Object(Un.jsx)("h4",{children:"Selected Bid"}),Object(V.pipe)(e,z.e.fromNullable,z.e.map(JSON.stringify),z.e.toNullable),null!==r&&Object(Un.jsxs)("div",{children:[Object(Un.jsx)("h4",{children:"Satisfies"}),r.toString()]})]})]})},ye=e(44),ke=ye.a.span(se||(se=Object(wt.a)(['\n  &.S::after { content: "\u2660"; color: #0000FF; }\n  &.H::after { content: "\u2665"; color: #FF0000; }\n  &.D::after { content: "\u2666"; color: #FFA500; }\n  &.C::after { content: "\u2663"; color: #32CD32; }\n  &.N::after { content: "NT" }\n']))),xe=function(t){var n=t.path;return Object(Un.jsx)(Un.Fragment,{children:n.map((function(t){return t.bid})).map((function(t){return Object(Un.jsxs)(Un.Fragment,{children:["\xa0",Object(Un.jsx)("span",{children:t.level}),Object(Un.jsx)(ke,{className:t.strain})]})}))})},Ce=e(80),_e=function(){var t=Jn((function(t){return t.generator.generating})),n=Wn(),e=Jn((function(t){return bn(t.system)})),r=Jn((function(t){return jn(t.system)})),i=null!==e&&e.length>0&&0===r.length,a=Jn(ge),u=Object(Sn.useState)(1e4),c=Object(J.a)(u,2),o=c[0],s=c[1];return Object(Un.jsxs)("section",{children:[Object(Un.jsx)("h3",{children:"Stats"}),!i&&Object(Un.jsxs)("div",{children:[Object(Un.jsx)("p",{children:"Select the system and/or fix errors"}),r.length>0&&Object(Un.jsxs)("div",{children:[Object(Un.jsx)("h4",{children:"Errors"}),Object(Un.jsx)("ul",{children:r.map((function(t,n){return Object(Un.jsx)("li",{children:Object(Ce.draw)(t)},n)}))})]})]}),i&&Object(Un.jsxs)("div",{children:[Object(Un.jsx)("button",{type:"button",onClick:function(){return n(ie(o))},children:"Generate deals"}),Object(Un.jsx)("input",{type:"number",value:o,onChange:function(t){return s(parseInt(t.target.value))}}),t&&Object(Un.jsx)("span",{children:"Generating..."}),null!==a&&Object(Un.jsxs)("div",{children:[Object(Un.jsx)("h3",{children:"Results"}),Object(Un.jsx)("ul",{children:a.map((function(t,n){return Object(Un.jsxs)("li",{children:[Object(Un.jsx)(xe,{path:t.path}),": \xa0",Object(Un.jsx)("span",{children:t.count.toString()})]},n)}))})]})]})]})},Ae=function(t){var n=t.value,e=t.children,r=t.onNone;return Object(V.pipe)(n,z.e.fold((function(){return r?r():Object(Un.jsx)(Un.Fragment,{})}),e))},we=function(t){var n=t.type,e=Wn(),r=Object(Sn.useState)(""),i=Object(J.a)(r,2),a=i[0],u=i[1],c="hand.".concat(n),o=Jn((function(t){return Object(V.pipe)(Gn(t.selection,n),z.e.map(tn.encode),z.e.toNullable)})),s=Object(Sn.useCallback)((function(t){u(t),e(Qn(t,n))}),[e,n]);return Object(Sn.useEffect)((function(){var t=localStorage.getItem(c);t&&s(t)}),[s,c,n]),Object(Un.jsx)("input",{type:"text",placeholder:"AKQJ.T987.654.32",value:null!==o&&void 0!==o?o:a,onChange:function(t){return s(t.target.value)},onBlur:function(){return localStorage.setItem(c,a)}})},Re=ye.a.ol(le||(le=Object(wt.a)(["\n  padding-left: 0;\n"]))),Be=ye.a.li(he||(he=Object(wt.a)(["\n  list-style-type: none;\n  display: inline;\n  float: left;\n"]))),Me=function(t){var n=t.rank;return Object(Un.jsx)(Be,{children:ot[n-2]})},De=ye.a.th(fe||(fe=Object(wt.a)(["\n  width: 15em;\n"]))),Fe=ye.a.ol(pe||(pe=Object(wt.a)(["\n  white-space: nowrap;\n  padding-left: 0;\n  list-style: decimal url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7) inside;\n"]))),Ne=ye.a.li(me||(me=Object(wt.a)(['\n  display: inline;\n  &::before {\n    display: inline;\n    float: left;\n    margin-left: 5px;\n  }\n  &.S::before { content: "\u2660"; color: #0000FF; }\n  &.H::before { content: "\u2665"; color: #FF0000; }\n  &.D::before { content: "\u2666"; color: #FFA500; }\n  &.C::before { content: "\u2663"; color: #32CD32; }\n']))),Ee=function(t){var n=t.suit,e=t.ranks;return Object(Un.jsx)(Ne,{className:n,children:Object(Un.jsxs)(Re,{children:[e.map((function(t,n){return Object(Un.jsx)(Me,{rank:t},n)})),0===e.length&&Object(Un.jsx)(Be,{children:"-"})]})})},Pe=function(t){var n=t.type,e=Jn((function(t){return Gn(t.selection,n)}));return Object(Un.jsx)(Un.Fragment,{children:e&&Object(Un.jsx)(Ae,{value:e,children:function(t){var n=jt(t);return Object(Un.jsx)(Fe,{children:Object(V.pipe)(n,z.j.mapWithIndex((function(t,n){return Object(Un.jsx)(Ee,{suit:t,ranks:n},t)})),z.j.toReadonlyArray,z.h.sort(vt()),z.h.map(z.l.snd))})}})})},$e=function(){var t=Wn();return Object(Un.jsxs)("table",{children:[Object(Un.jsx)("thead",{children:Object(Un.jsxs)("tr",{children:[Object(Un.jsx)(De,{children:"Opener"}),Object(Un.jsx)(De,{children:"Responder"})]})}),Object(Un.jsxs)("tbody",{children:[Object(Un.jsxs)("tr",{children:[Object(Un.jsx)("td",{children:Object(Un.jsx)(we,{type:"opener"})}),Object(Un.jsx)("td",{children:Object(Un.jsx)(we,{type:"responder"})})]}),Object(Un.jsxs)("tr",{children:[Object(Un.jsx)("td",{children:Object(Un.jsx)(Pe,{type:"opener"})}),Object(Un.jsx)("td",{children:Object(Un.jsx)(Pe,{type:"responder"})})]}),Object(Un.jsx)("tr",{children:Object(Un.jsxs)("td",{children:[Object(Un.jsx)("button",{type:"button",onClick:function(){return t(Kn())},children:"Generate"})," ",Object(Un.jsx)("br",{})]})})]})]})},qe=function(){var t=Jn(je);return Object(Un.jsxs)("section",{children:[Object(Un.jsx)("h3",{children:"Test Hands"}),Object(Un.jsx)($e,{}),null!==t&&Object(Un.jsxs)("div",{children:[Object(Un.jsx)("h4",{children:"Results"}),Object(Un.jsx)("ul",{children:t.map((function(t,n){return Object(Un.jsxs)("li",{children:[Object(Un.jsx)(xe,{path:t.path}),": \xa0",Object(Un.jsx)("span",{children:t.result.toString()})]},n)}))})]})]})},He=function(){return Object(Un.jsxs)("div",{className:"App",children:[Object(Un.jsxs)("div",{style:{display:"inline-block",width:"50%"},children:[Object(Un.jsx)(zn,{}),"---",Object(Un.jsx)(_e,{})]}),Object(Un.jsxs)("div",{style:{display:"inline-block",width:"50%",float:"right"},children:[Object(Un.jsxs)("div",{style:{display:"inline-block",float:"right"},children:[Object(Un.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge#documentation",children:"Documentation"}),"\xa0|\xa0",Object(Un.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge/discussions",children:"Share ideas"}),"\xa0|\xa0",Object(Un.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge/issues/new",children:"Report issue"})]}),Object(Un.jsx)(qe,{}),Object(Un.jsx)(Se,{})]})]})},Ie=e(61),Qe=e.n(Ie),Ke=Object(U.a)({reducer:ce});Qe.a.render(Object(Un.jsx)(yn.a.StrictMode,{children:Object(Un.jsx)(Ln.a,{store:Ke,children:Object(Un.jsx)(He,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[348,1,2]]]);
//# sourceMappingURL=main.b664e494.chunk.js.map