(this.webpackJsonpbridge=this.webpackJsonpbridge||[]).push([[0],{141:function(t,e,n){var r,i=n(349).wrap,a=n(340);t.exports=function t(){return this instanceof t?i(a()):r||(r=i(a()))}},232:function(t,e,n){},340:function(t,e,n){t.exports=function(){return new Worker(n.p+"2cc92eaa2f9a957eaa6e.worker.js")}},348:function(t,e,n){"use strict";n.r(e);n(232),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r,i,a,u,c,o,s,l,h,f,p,m,d,v,b,j,O,S,g,y,k,x,_,C,A,w,R,B,M,D,F,N,P,E,$,q,H,I,Q,K,T,G,L,W,J,U,z=n(24),V=(n(233),n(38)),X=n(1),Y=n(3),Z=n(20),tt=n(79),et=n(52),nt=n(56),rt=n(23),it=n(139),at=n(81),ut=(r=Math.random,function(t){for(var e=Object(rt.a)(t),n=0;n<e.length;n++){var i=n+Math.floor(r()*(e.length-n)),a=[e[i],e[n]];e[n]=a[0],e[i]=a[1]}return e}),ct=["C","D","H","S"],ot=X.c.eqStrict,st=Object(Y.pipe)(X.d.Ord,X.f.reverse,X.f.contramap((function(t){return ct.indexOf(t)}))),lt=["2","3","4","5","6","7","8","9","T","J","Q","K","A"],ht=at.b(at.c,(function(t){return t>=2&&t<=14}),"Rank"),ft=new at.a("Rank",ht.is,ht.validate,(function(t){return lt[t-2]})),pt=X.c.eqStrict,mt=Object(Y.pipe)(X.d.Ord,X.f.reverse),dt=X.c.struct({suit:ot,rank:pt}),vt=X.f.getMonoid().concat(Object(Y.pipe)(st,X.f.contramap((function(t){return t.suit}))),Object(Y.pipe)(mt,X.f.contramap((function(t){return t.rank})))),bt=Object(Y.pipe)(52,X.i.makeBy((function(t){return{suit:ct[Math.floor(t/13)],rank:ft.decode(t%13+2).right}}))),jt=function(){return X.f.contramap((function(t){var e=Object(z.a)(t,2),n=e[0];e[1];return n}))(st)},Ot={S:[],H:[],D:[],C:[]},St=function(t){return Object(Y.pipe)(t,X.k.toReadonlyArray(vt),X.i.fromReadonlyArray,X.e.fold((function(){return Ot}),Object(Y.flow)(X.i.groupBy((function(t){return t.suit})),X.j.map(X.i.map((function(t){return t.rank}))),X.j.union(X.h.getUnionMonoid(pt))(Ot))))},gt=["N","E","S","W"],yt=(Object(Y.pipe)(X.d.Ord,X.f.contramap((function(t){return gt.indexOf(t)}))),[].concat(Object(rt.a)(ct),["N"])),kt=(X.a.sequenceS(X.h.Apply)({level:X.h.makeBy(7,(function(t){return t+1})),strain:yt}),[0,0,0,0]),xt=function(t){return Object(Y.pipe)(t,X.h.sort(X.f.reverse(X.d.Ord)))},_t=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(Y.pipe)(e,xt)},Ct=X.c.contramap(xt)(X.h.getEq(X.d.Eq)),At={S:0,H:0,D:0,C:0},wt=function(t){return Object(Y.pipe)(t,X.k.toReadonlyArray(vt),X.i.fromReadonlyArray,X.e.fold((function(){return At}),Object(Y.flow)(X.i.groupBy((function(t){return t.suit})),X.j.map((function(t){return t.length})),X.j.union(Object(it.first)())(At),(function(t){return t}))))},Rt=n(51),Bt=n(8),Mt=n(43),Dt=n(33);!function(t){t.Start="Start",t.Bid="Bid",t.BidSpecifier_1="BidSpecifier_1",t.BidSpecifier_2="BidSpecifier_2",t.Wildcard="Wildcard",t.SuitSpecifier_1="SuitSpecifier_1",t.SuitSpecifier_2="SuitSpecifier_2",t.SuitSpecifier_3="SuitSpecifier_3",t.Major="Major",t.Minor="Minor",t.Strain_1="Strain_1",t.Strain_2="Strain_2",t.Suit_1="Suit_1",t.Suit_2="Suit_2",t.Suit_3="Suit_3",t.Suit_4="Suit_4",t.Club="Club",t.Diamond="Diamond",t.Heart="Heart",t.Spade="Spade",t.Notrump="Notrump",t.ConstraintList="ConstraintList",t.ConstraintListItem="ConstraintListItem",t.Constraint_1="Constraint_1",t.Constraint_2="Constraint_2",t.Constraint_3="Constraint_3",t.Constraint_4="Constraint_4",t.Constraint_5="Constraint_5",t.Constraint_6="Constraint_6",t.Constraint_7="Constraint_7",t.Constraint_8="Constraint_8",t.Constraint_9="Constraint_9",t.Constraint_10="Constraint_10",t.Constraint_11="Constraint_11",t.Constraint_12="Constraint_12",t.Const_1="Const_1",t.Const_2="Const_2",t.True="True",t.False="False",t.Or="Or",t.And="And",t.Not="Not",t.Not_$0_1="Not_$0_1",t.Not_$0_2="Not_$0_2",t.PointRange="PointRange",t.PointBound="PointBound",t.SuitRange="SuitRange",t.SuitBound="SuitBound",t.SuitRangeSpecifier_1="SuitRangeSpecifier_1",t.SuitRangeSpecifier_2="SuitRangeSpecifier_2",t.SuitRangeSpecifier_3="SuitRangeSpecifier_3",t.OtherMajor="OtherMajor",t.OtherMinor="OtherMinor",t.SuitComparison="SuitComparison",t.SuitComparisonOperator_1="SuitComparisonOperator_1",t.SuitComparisonOperator_2="SuitComparisonOperator_2",t.SuitComparisonOperator_3="SuitComparisonOperator_3",t.SuitComparisonOperator_4="SuitComparisonOperator_4",t.SuitComparisonOperator_5="SuitComparisonOperator_5",t.BoundQualifier_1="BoundQualifier_1",t.BoundQualifier_2="BoundQualifier_2",t.BoundQualifier_3="BoundQualifier_3",t.Plus="Plus",t.Minus="Minus",t.Equals="Equals",t.Distribution_1="Distribution_1",t.Distribution_2="Distribution_2",t.Distribution_3="Distribution_3",t.Distribution_4="Distribution_4",t.Distribution_5="Distribution_5",t.Balanced="Balanced",t.SemiBalanced="SemiBalanced",t.Unbalanced="Unbalanced",t.AnyShape="AnyShape",t.SpecificShape="SpecificShape",t.SuitRank_1="SuitRank_1",t.SuitRank_2="SuitRank_2",t.Primary="Primary",t.Secondary="Secondary",t.Response_1="Response_1",t.Response_2="Response_2",t.Response_3="Response_3",t.Response_4="Response_4",t.ForceOneRound="ForceOneRound",t.ForceGame="ForceGame",t.ForceSlam="ForceSlam",t.Relay="Relay",t.Digit="Digit",t.Number="Number",t.$EOF="$EOF"}(U||(U={}));var Ft=function t(e){Object(Dt.a)(this,t),this.kind=U.Digit,this.literal=void 0,this.value=void 0,this.literal=e,this.value=parseInt(e)},Nt=function t(e){Object(Dt.a)(this,t),this.kind=U.Number,this.literal=void 0,this.value=void 0,this.literal=e,this.value=parseInt(e)},Pt=function(){function t(e){Object(Dt.a)(this,t),this.input=void 0,this.pos=void 0,this.negating=!1,this.memoSafe=!0,this.$scope$Constraint$memo=new Map,this.pos={overallPos:0,line:1,offset:0},this.input=e}return Object(Mt.a)(t,[{key:"reset",value:function(t){this.pos=t}},{key:"finished",value:function(){return this.pos.overallPos===this.input.length}},{key:"clearMemos",value:function(){this.$scope$Constraint$memo.clear()}},{key:"matchStart",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.matchBid(t+1,e))&&null!==n.match$EOF(e)&&(i={kind:U.Start,bid:r}),i}))}},{key:"matchBid",value:function(t,e){var n=this;return this.run(t,(function(){var r,a,u,c=null;return null!==(r=n.matchDigit(t+1,e))&&null!==(a=n.matchBidSpecifier(t+1,e))&&null!==n.regexAccept(String.raw(i||(i=Object(Bt.a)(["(?:: )"]))),t+1,e)&&null!==(u=n.matchConstraintList(t+1,e))&&(c={kind:U.Bid,level:r,bid:a,constraints:u}),c}))}},{key:"matchBidSpecifier",value:function(t,e){var n=this;return this.choice([function(){return n.matchBidSpecifier_1(t+1,e)},function(){return n.matchBidSpecifier_2(t+1,e)}])}},{key:"matchBidSpecifier_1",value:function(t,e){return this.matchWildcard(t+1,e)}},{key:"matchBidSpecifier_2",value:function(t,e){return this.matchSuitSpecifier(t+1,e)}},{key:"matchWildcard",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(a||(a=Object(Bt.a)(["(?:x)"]))),t+1,e))&&(i={kind:U.Wildcard,v:r}),i}))}},{key:"matchSuitSpecifier",value:function(t,e){var n=this;return this.choice([function(){return n.matchSuitSpecifier_1(t+1,e)},function(){return n.matchSuitSpecifier_2(t+1,e)},function(){return n.matchSuitSpecifier_3(t+1,e)}])}},{key:"matchSuitSpecifier_1",value:function(t,e){return this.matchMajor(t+1,e)}},{key:"matchSuitSpecifier_2",value:function(t,e){return this.matchMinor(t+1,e)}},{key:"matchSuitSpecifier_3",value:function(t,e){return this.matchStrain(t+1,e)}},{key:"matchMajor",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(u||(u=Object(Bt.a)(["(?:M)"]))),t+1,e))&&(i={kind:U.Major,v:r}),i}))}},{key:"matchMinor",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(c||(c=Object(Bt.a)(["(?:m)"]))),t+1,e))&&(i={kind:U.Minor,v:r}),i}))}},{key:"matchStrain",value:function(t,e){var n=this;return this.choice([function(){return n.matchStrain_1(t+1,e)},function(){return n.matchStrain_2(t+1,e)}])}},{key:"matchStrain_1",value:function(t,e){return this.matchSuit(t+1,e)}},{key:"matchStrain_2",value:function(t,e){return this.matchNotrump(t+1,e)}},{key:"matchSuit",value:function(t,e){var n=this;return this.choice([function(){return n.matchSuit_1(t+1,e)},function(){return n.matchSuit_2(t+1,e)},function(){return n.matchSuit_3(t+1,e)},function(){return n.matchSuit_4(t+1,e)}])}},{key:"matchSuit_1",value:function(t,e){return this.matchClub(t+1,e)}},{key:"matchSuit_2",value:function(t,e){return this.matchDiamond(t+1,e)}},{key:"matchSuit_3",value:function(t,e){return this.matchHeart(t+1,e)}},{key:"matchSuit_4",value:function(t,e){return this.matchSpade(t+1,e)}},{key:"matchClub",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(o||(o=Object(Bt.a)(["(?:[Cc\u2663\u2667])"]))),t+1,e))&&(i={kind:U.Club,v:r}),i}))}},{key:"matchDiamond",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(s||(s=Object(Bt.a)(["(?:[Dd\u2666\u2662])"]))),t+1,e))&&(i={kind:U.Diamond,v:r}),i}))}},{key:"matchHeart",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(l||(l=Object(Bt.a)(["(?:[Hh\u2665\u2661])"]))),t+1,e))&&(i={kind:U.Heart,v:r}),i}))}},{key:"matchSpade",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(h||(h=Object(Bt.a)(["(?:[Ss\u2660\u2664])"]))),t+1,e))&&(i={kind:U.Spade,v:r}),i}))}},{key:"matchNotrump",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(f||(f=Object(Bt.a)(["(?:[Nn])"]))),t+1,e))&&(n.regexAccept(String.raw(p||(p=Object(Bt.a)(["(?:[Tt])"]))),t+1,e),1)&&(i={kind:U.Notrump,v:r}),i}))}},{key:"matchConstraintList",value:function(t,e){var n=this;return this.loop((function(){return n.matchConstraintListItem(t+1,e)}),!1)}},{key:"matchConstraintListItem",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.matchConstraint(t+1,e))&&(n.regexAccept(String.raw(m||(m=Object(Bt.a)(["(?: )"]))),t+1,e),1)&&(i={kind:U.ConstraintListItem,constraint:r}),i}))}},{key:"matchConstraint",value:function(t,e){var n=this,r=this.mark(),i=this.$scope$Constraint$memo.get(r.overallPos);if(void 0!==i)return this.reset(i[1]),i[0];var a=this.memoSafe;this.memoSafe=!1,this.$scope$Constraint$memo.set(r.overallPos,[null,r]);for(var u=null,c=r;;){this.reset(r);var o=n.choice([function(){return n.matchConstraint_1(t+1,e)},function(){return n.matchConstraint_2(t+1,e)},function(){return n.matchConstraint_3(t+1,e)},function(){return n.matchConstraint_4(t+1,e)},function(){return n.matchConstraint_5(t+1,e)},function(){return n.matchConstraint_6(t+1,e)},function(){return n.matchConstraint_7(t+1,e)},function(){return n.matchConstraint_8(t+1,e)},function(){return n.matchConstraint_9(t+1,e)},function(){return n.matchConstraint_10(t+1,e)},function(){return n.matchConstraint_11(t+1,e)},function(){return n.matchConstraint_12(t+1,e)}]),s=this.mark();if(s.overallPos<=c.overallPos)break;u=o,c=s,this.$scope$Constraint$memo.set(r.overallPos,[u,c])}return this.reset(c),this.memoSafe=a,u}},{key:"matchConstraint_1",value:function(t,e){return this.matchConst(t+1,e)}},{key:"matchConstraint_2",value:function(t,e){return this.matchOr(t+1,e)}},{key:"matchConstraint_3",value:function(t,e){return this.matchAnd(t+1,e)}},{key:"matchConstraint_4",value:function(t,e){return this.matchNot(t+1,e)}},{key:"matchConstraint_5",value:function(t,e){return this.matchDistribution(t+1,e)}},{key:"matchConstraint_6",value:function(t,e){return this.matchResponse(t+1,e)}},{key:"matchConstraint_7",value:function(t,e){return this.matchSuitRange(t+1,e)}},{key:"matchConstraint_8",value:function(t,e){return this.matchSuitComparison(t+1,e)}},{key:"matchConstraint_9",value:function(t,e){return this.matchSuitBound(t+1,e)}},{key:"matchConstraint_10",value:function(t,e){return this.matchSuitRank(t+1,e)}},{key:"matchConstraint_11",value:function(t,e){return this.matchPointRange(t+1,e)}},{key:"matchConstraint_12",value:function(t,e){return this.matchPointBound(t+1,e)}},{key:"matchConst",value:function(t,e){var n=this;return this.choice([function(){return n.matchConst_1(t+1,e)},function(){return n.matchConst_2(t+1,e)}])}},{key:"matchConst_1",value:function(t,e){return this.matchTrue(t+1,e)}},{key:"matchConst_2",value:function(t,e){return this.matchFalse(t+1,e)}},{key:"matchTrue",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(d||(d=Object(Bt.a)(["(?:true)"]))),t+1,e))&&(i={kind:U.True,v:r}),i}))}},{key:"matchFalse",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(v||(v=Object(Bt.a)(["(?:false)"]))),t+1,e))&&(i={kind:U.False,v:r}),i}))}},{key:"matchOr",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a=null;return null!==(r=n.matchConstraint(t+1,e))&&null!==n.regexAccept(String.raw(b||(b=Object(Bt.a)(["(?: or )"]))),t+1,e)&&null!==(i=n.matchConstraint(t+1,e))&&(a={kind:U.Or,left:r,right:i}),a}))}},{key:"matchAnd",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==n.regexAccept(String.raw(j||(j=Object(Bt.a)(["(?:()"],["(?:\\()"]))),t+1,e)&&null!==(r=n.matchConstraintList(t+1,e))&&null!==n.regexAccept(String.raw(O||(O=Object(Bt.a)(["(?:))"],["(?:\\))"]))),t+1,e)&&(i={kind:U.And,constraints:r}),i}))}},{key:"matchNot",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==n.matchNot_$0(t+1,e)&&(n.regexAccept(String.raw(S||(S=Object(Bt.a)(["(?: )"]))),t+1,e),1)&&null!==(r=n.matchConstraint(t+1,e))&&(i={kind:U.Not,constraint:r}),i}))}},{key:"matchNot_$0",value:function(t,e){var n=this;return this.choice([function(){return n.matchNot_$0_1(t+1,e)},function(){return n.matchNot_$0_2(t+1,e)}])}},{key:"matchNot_$0_1",value:function(t,e){return this.regexAccept(String.raw(g||(g=Object(Bt.a)(["(?:not)"]))),t+1,e)}},{key:"matchNot_$0_2",value:function(t,e){return this.regexAccept(String.raw(y||(y=Object(Bt.a)(["(?:!)"]))),t+1,e)}},{key:"matchPointRange",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a=null;return null!==(r=n.matchNumber(t+1,e))&&null!==n.regexAccept(String.raw(k||(k=Object(Bt.a)(["(?:-)"]))),t+1,e)&&null!==(i=n.matchNumber(t+1,e))&&(a={kind:U.PointRange,lower:r,upper:i}),a}))}},{key:"matchPointBound",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a=null;return null!==(r=n.matchNumber(t+1,e))&&null!==(i=n.matchBoundQualifier(t+1,e))&&(a={kind:U.PointBound,value:r,qualifier:i}),a}))}},{key:"matchSuitRange",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a,u=null;return null!==(r=n.matchDigit(t+1,e))&&null!==n.regexAccept(String.raw(x||(x=Object(Bt.a)(["(?:-)"]))),t+1,e)&&null!==(i=n.matchDigit(t+1,e))&&null!==(a=n.matchSuitRangeSpecifier(t+1,e))&&(u={kind:U.SuitRange,lower:r,upper:i,suit:a}),u}))}},{key:"matchSuitBound",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a,u=null;return null!==(r=n.matchNumber(t+1,e))&&null!==(i=n.matchBoundQualifier(t+1,e))&&null!==(a=n.matchSuitRangeSpecifier(t+1,e))&&(u={kind:U.SuitBound,value:r,qualifier:i,suit:a}),u}))}},{key:"matchSuitRangeSpecifier",value:function(t,e){var n=this;return this.choice([function(){return n.matchSuitRangeSpecifier_1(t+1,e)},function(){return n.matchSuitRangeSpecifier_2(t+1,e)},function(){return n.matchSuitRangeSpecifier_3(t+1,e)}])}},{key:"matchSuitRangeSpecifier_1",value:function(t,e){return this.matchMajor(t+1,e)}},{key:"matchSuitRangeSpecifier_2",value:function(t,e){return this.matchMinor(t+1,e)}},{key:"matchSuitRangeSpecifier_3",value:function(t,e){return this.matchSuit(t+1,e)}},{key:"matchOtherMajor",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(_||(_=Object(Bt.a)(["(?:oM)"]))),t+1,e))&&(i={kind:U.OtherMajor,v:r}),i}))}},{key:"matchOtherMinor",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(C||(C=Object(Bt.a)(["(?:om)"]))),t+1,e))&&(i={kind:U.OtherMinor,v:r}),i}))}},{key:"matchSuitComparison",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a,u=null;return null!==(r=n.matchSuit(t+1,e))&&null!==(i=n.matchSuitComparisonOperator(t+1,e))&&null!==(a=n.matchSuit(t+1,e))&&(u={kind:U.SuitComparison,left:r,op:i,right:a}),u}))}},{key:"matchSuitComparisonOperator",value:function(t,e){var n=this;return this.choice([function(){return n.matchSuitComparisonOperator_1(t+1,e)},function(){return n.matchSuitComparisonOperator_2(t+1,e)},function(){return n.matchSuitComparisonOperator_3(t+1,e)},function(){return n.matchSuitComparisonOperator_4(t+1,e)},function(){return n.matchSuitComparisonOperator_5(t+1,e)}])}},{key:"matchSuitComparisonOperator_1",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(A||(A=Object(Bt.a)(["(?:<)"]))),t+1,e))&&(i={kind:U.SuitComparisonOperator_1,v:r}),i}))}},{key:"matchSuitComparisonOperator_2",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(w||(w=Object(Bt.a)(["(?:<=)"]))),t+1,e))&&(i={kind:U.SuitComparisonOperator_2,v:r}),i}))}},{key:"matchSuitComparisonOperator_3",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(R||(R=Object(Bt.a)(["(?:=)"]))),t+1,e))&&(i={kind:U.SuitComparisonOperator_3,v:r}),i}))}},{key:"matchSuitComparisonOperator_4",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(B||(B=Object(Bt.a)(["(?:>=)"]))),t+1,e))&&(i={kind:U.SuitComparisonOperator_4,v:r}),i}))}},{key:"matchSuitComparisonOperator_5",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(M||(M=Object(Bt.a)(["(?:>)"]))),t+1,e))&&(i={kind:U.SuitComparisonOperator_5,v:r}),i}))}},{key:"matchBoundQualifier",value:function(t,e){var n=this;return this.choice([function(){return n.matchBoundQualifier_1(t+1,e)},function(){return n.matchBoundQualifier_2(t+1,e)},function(){return n.matchBoundQualifier_3(t+1,e)}])}},{key:"matchBoundQualifier_1",value:function(t,e){return this.matchPlus(t+1,e)}},{key:"matchBoundQualifier_2",value:function(t,e){return this.matchMinus(t+1,e)}},{key:"matchBoundQualifier_3",value:function(t,e){return this.matchEquals(t+1,e)}},{key:"matchPlus",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(D||(D=Object(Bt.a)(["(?:+)"],["(?:\\+)"]))),t+1,e))&&(i={kind:U.Plus,v:r}),i}))}},{key:"matchMinus",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(F||(F=Object(Bt.a)(["(?:-)"],["(?:\\-)"]))),t+1,e))&&(i={kind:U.Minus,v:r}),i}))}},{key:"matchEquals",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(N||(N=Object(Bt.a)(["(?:=)"]))),t+1,e))&&(i={kind:U.Equals,v:r}),i}))}},{key:"matchDistribution",value:function(t,e){var n=this;return this.choice([function(){return n.matchDistribution_1(t+1,e)},function(){return n.matchDistribution_2(t+1,e)},function(){return n.matchDistribution_3(t+1,e)},function(){return n.matchDistribution_4(t+1,e)},function(){return n.matchDistribution_5(t+1,e)}])}},{key:"matchDistribution_1",value:function(t,e){return this.matchBalanced(t+1,e)}},{key:"matchDistribution_2",value:function(t,e){return this.matchSemiBalanced(t+1,e)}},{key:"matchDistribution_3",value:function(t,e){return this.matchUnbalanced(t+1,e)}},{key:"matchDistribution_4",value:function(t,e){return this.matchAnyShape(t+1,e)}},{key:"matchDistribution_5",value:function(t,e){return this.matchSpecificShape(t+1,e)}},{key:"matchBalanced",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(P||(P=Object(Bt.a)(["(?:BAL)"]))),t+1,e))&&(i={kind:U.Balanced,v:r}),i}))}},{key:"matchSemiBalanced",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(E||(E=Object(Bt.a)(["(?:semiBAL)"]))),t+1,e))&&(i={kind:U.SemiBalanced,v:r}),i}))}},{key:"matchUnbalanced",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw($||($=Object(Bt.a)(["(?:unBAL)"]))),t+1,e))&&(i={kind:U.Unbalanced,v:r}),i}))}},{key:"matchAnyShape",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(q||(q=Object(Bt.a)(["(?:[0-9]{4})"]))),t+1,e))&&null!==n.regexAccept(String.raw(H||(H=Object(Bt.a)(["(?:*)"],["(?:\\*)"]))),t+1,e)&&(i={kind:U.AnyShape,v:r}),i}))}},{key:"matchSpecificShape",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a,u,c=null;return null!==(r=n.matchDigit(t+1,e))&&null!==(i=n.matchDigit(t+1,e))&&null!==(a=n.matchDigit(t+1,e))&&null!==(u=n.matchDigit(t+1,e))&&(c={kind:U.SpecificShape,S:r,H:i,D:a,C:u}),c}))}},{key:"matchSuitRank",value:function(t,e){var n=this;return this.choice([function(){return n.matchSuitRank_1(t+1,e)},function(){return n.matchSuitRank_2(t+1,e)}])}},{key:"matchSuitRank_1",value:function(t,e){return this.matchPrimary(t+1,e)}},{key:"matchSuitRank_2",value:function(t,e){return this.matchSecondary(t+1,e)}},{key:"matchPrimary",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.matchSuit(t+1,e))&&null!==n.regexAccept(String.raw(I||(I=Object(Bt.a)(["(?:1)"]))),t+1,e)&&(i={kind:U.Primary,suit:r}),i}))}},{key:"matchSecondary",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.matchSuit(t+1,e))&&null!==n.regexAccept(String.raw(Q||(Q=Object(Bt.a)(["(?:2)"]))),t+1,e)&&(i={kind:U.Secondary,suit:r}),i}))}},{key:"matchResponse",value:function(t,e){var n=this;return this.choice([function(){return n.matchResponse_1(t+1,e)},function(){return n.matchResponse_2(t+1,e)},function(){return n.matchResponse_3(t+1,e)},function(){return n.matchResponse_4(t+1,e)}])}},{key:"matchResponse_1",value:function(t,e){return this.matchForceOneRound(t+1,e)}},{key:"matchResponse_2",value:function(t,e){return this.matchForceGame(t+1,e)}},{key:"matchResponse_3",value:function(t,e){return this.matchForceSlam(t+1,e)}},{key:"matchResponse_4",value:function(t,e){return this.matchRelay(t+1,e)}},{key:"matchForceOneRound",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(K||(K=Object(Bt.a)(["(?:F1)"]))),t+1,e))&&(i={kind:U.ForceOneRound,v:r}),i}))}},{key:"matchForceGame",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(T||(T=Object(Bt.a)(["(?:FG)"]))),t+1,e))&&(i={kind:U.ForceGame,v:r}),i}))}},{key:"matchForceSlam",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(G||(G=Object(Bt.a)(["(?:FS)"]))),t+1,e))&&(i={kind:U.ForceSlam,v:r}),i}))}},{key:"matchRelay",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a=null;return null!==n.regexAccept(String.raw(L||(L=Object(Bt.a)(["(?:->)"]))),t+1,e)&&null!==(r=n.matchNumber(t+1,e))&&null!==(i=n.matchStrain(t+1,e))&&(a={kind:U.Relay,level:r,strain:i}),a}))}},{key:"matchDigit",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(W||(W=Object(Bt.a)(["(?:[0-9])"]))),t+1,e))&&(i=new Ft(r)),i}))}},{key:"matchNumber",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(J||(J=Object(Bt.a)(["(?:[0-9]+)"]))),t+1,e))&&(i=new Nt(r)),i}))}},{key:"test",value:function(){var t=this.mark(),e=null!==this.matchStart(0);return this.reset(t),e}},{key:"parse",value:function(){var t=this.mark(),e=this.matchStart(0);if(e)return{ast:e,errs:[]};this.reset(t);var n=new Kt;this.clearMemos(),this.matchStart(0,n);var r=n.getErr();return{ast:e,errs:null!==r?[r]:[]}}},{key:"mark",value:function(){return this.pos}},{key:"loop",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.mark(),r=[];;){var i=t();if(null===i)break;r.push(i)}return e||r.length>0?r:(this.reset(n),null)}},{key:"run",value:function(t,e){var n=this.mark(),r=e();return null!==r?r:(this.reset(n),null)}},{key:"choice",value:function(t){var e,n=Object(Rt.a)(t);try{for(n.s();!(e=n.n()).done;){var r=(0,e.value)();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"regexAccept",value:function(t,e,n){var r=this;return this.run(e,(function(){var e=new RegExp(t,"y"),i=r.mark();e.lastIndex=i.overallPos;var a=r.tryConsume(e);return n&&n.record(i,a,{kind:"RegexMatch",literal:t.substring(3,t.length-1),negated:r.negating}),a}))}},{key:"tryConsume",value:function(t){var e=t.exec(this.input);if(e){for(var n=0,r=-1,i=0;i<e[0].length;++i)"\n"===e[0][i]&&(++n,r=i);return this.pos={overallPos:t.lastIndex,line:this.pos.line+n,offset:-1===r?this.pos.offset+e[0].length:e[0].length-r-1},e[0]}return null}},{key:"noConsume",value:function(t){var e=this.mark(),n=t();return this.reset(e),n}},{key:"negate",value:function(t){var e=this.mark(),n=this.negating;this.negating=!n;var r=t();return this.negating=n,this.reset(e),null===r||null}},{key:"memoise",value:function(t,e){var n=this.mark(),r=e.get(n.overallPos);if(this.memoSafe&&void 0!==r)return this.reset(r[1]),r[0];var i=t();return this.memoSafe&&e.set(n.overallPos,[i,this.mark()]),i}},{key:"match$EOF",value:function(t){var e=this.finished()?{kind:U.$EOF}:null;return t&&t.record(this.mark(),e,{kind:"EOF",negated:this.negating}),e}}]),t}();var Et,$t,qt,Ht,It,Qt=function(){function t(e,n){Object(Dt.a)(this,t),this.pos=void 0,this.expmatches=void 0,this.pos=e,this.expmatches=Object(rt.a)(n)}return Object(Mt.a)(t,[{key:"toString",value:function(){return"Syntax Error at line ".concat(this.pos.line,":").concat(this.pos.offset,". Expected one of ").concat(this.expmatches.map((function(t){return"EOF"===t.kind?" EOF":" ".concat(t.negated?"not ":"","'").concat(t.literal,"'")})))}}]),t}(),Kt=function(){function t(){Object(Dt.a)(this,t),this.mxpos={overallPos:-1,line:-1,offset:-1},this.regexset=new Set,this.pmatches=[]}return Object(Mt.a)(t,[{key:"record",value:function(t,e,n){null===e!==n.negated&&(t.overallPos>this.mxpos.overallPos&&(this.mxpos=t,this.pmatches=[],this.regexset.clear()),this.mxpos.overallPos===t.overallPos&&("RegexMatch"===n.kind?(this.regexset.has(n.literal)||this.pmatches.push(n),this.regexset.add(n.literal)):this.pmatches.push(n)))}},{key:"getErr",value:function(){return-1!==this.mxpos.overallPos?new Qt(this.mxpos,this.pmatches):null}}]),t}(),Tt=function(t){return Object(Y.pipe)(t,X.h.map((function(t){return Ut(t.constraint)})))},Gt=function(t){return t.kind===U.Club?"C":t.kind===U.Diamond?"D":t.kind===U.Heart?"H":"S"},Lt=function(t){return t.kind===U.Notrump?"N":Gt(t)},Wt=function(t){return t.kind===U.Major?"Major":t.kind===U.Minor?"Minor":Gt(t)},Jt=function(t,e){return function(n){return Object(Y.pipe)(e,X.e.of,X.e.filter((function(e){return t.kind===U.Equals||"min"===n&&t.kind===U.Plus||"max"===n&&t.kind===U.Minus})))}},Ut=function t(e){if(e.kind===U.True)return{type:"Constant",value:!0};if(e.kind===U.False)return{type:"Constant",value:!1};if(e.kind===U.And){var n=Tt(e.constraints);return 1===n.length?n[0]:{type:"Conjunction",constraints:Tt(e.constraints)}}if(e.kind===U.Or){var r=[t(e.left),t(e.right)],i=r[0],a=r[1],u=function(t){return"Disjunction"===t.type?t.constraints:[t]};return{type:"Disjunction",constraints:[].concat(Object(rt.a)(u(i)),Object(rt.a)(u(a)))}}return e.kind===U.Not?{type:"Negation",constraint:t(e.constraint)}:e.kind===U.PointRange?{type:"PointRange",min:e.lower.value,max:e.upper.value}:e.kind===U.PointBound?{type:"PointRange",min:Object(Y.pipe)(Jt(e.qualifier,e.value.value)("min"),X.e.getOrElse(Object(Y.constant)(0))),max:Object(Y.pipe)(Jt(e.qualifier,e.value.value)("max"),X.e.getOrElse(Object(Y.constant)(37)))}:e.kind===U.SuitRange?{type:"SuitRange",min:e.lower.value,max:e.upper.value,suit:Wt(e.suit)}:e.kind===U.SuitComparison?{type:"SuitComparison",op:e.op.v,left:Gt(e.left),right:Gt(e.right)}:e.kind===U.Primary||e.kind===U.Secondary?{type:"Suit".concat(e.kind),suit:Gt(e.suit)}:e.kind===U.SuitBound?{type:"SuitRange",min:Object(Y.pipe)(Jt(e.qualifier,e.value.value)("min"),X.e.getOrElse(Object(Y.constant)(0))),max:Object(Y.pipe)(Jt(e.qualifier,e.value.value)("max"),X.e.getOrElse(Object(Y.constant)(13))),suit:Wt(e.suit)}:e.kind===U.AnyShape?{type:"AnyShape",counts:Object(Y.pipe)(e.v,X.o.split(""),X.h.map(parseInt))}:e.kind===U.SpecificShape?{type:"SpecificShape",suits:Object(Y.pipe)(At,X.j.mapWithIndex((function(t,n){return e[t].value})))}:e.kind===U.Relay?{type:"Relay",bid:{level:e.level.value,strain:Lt(e.strain)}}:{type:e.kind}},zt=function(t){return new Pt(t).parse()};!function(t){t.Start="Start",t.Hand="Hand",t.Suit="Suit",t.Card="Card",t.$EOF="$EOF"}(It||(It={}));var Vt=function t(e){Object(Dt.a)(this,t),this.kind=It.Card,this.c=void 0,this.rank=void 0,this.c=e,this.rank=["2","3","4","5","6","7","8","9","T","J","Q","K","A"].indexOf(e)+2},Xt=function(){function t(e){Object(Dt.a)(this,t),this.input=void 0,this.pos=void 0,this.negating=!1,this.memoSafe=!0,this.pos={overallPos:0,line:1,offset:0},this.input=e}return Object(Mt.a)(t,[{key:"reset",value:function(t){this.pos=t}},{key:"finished",value:function(){return this.pos.overallPos===this.input.length}},{key:"clearMemos",value:function(){}},{key:"matchStart",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.matchHand(t+1,e))&&null!==n.match$EOF(e)&&(i={kind:It.Start,hand:r}),i}))}},{key:"matchHand",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,a,u,c=null;return null!==(r=n.matchSuit(t+1,e))&&null!==n.regexAccept(String.raw(Et||(Et=Object(Bt.a)(["(?:.)"],["(?:\\.)"]))),t+1,e)&&null!==(i=n.matchSuit(t+1,e))&&null!==n.regexAccept(String.raw($t||($t=Object(Bt.a)(["(?:.)"],["(?:\\.)"]))),t+1,e)&&null!==(a=n.matchSuit(t+1,e))&&null!==n.regexAccept(String.raw(qt||(qt=Object(Bt.a)(["(?:.)"],["(?:\\.)"]))),t+1,e)&&null!==(u=n.matchSuit(t+1,e))&&(c={kind:It.Hand,S:r,H:i,D:a,C:u}),c}))}},{key:"matchSuit",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.loop((function(){return n.matchCard(t+1,e)}),!0))&&(i={kind:It.Suit,cards:r}),i}))}},{key:"matchCard",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Ht||(Ht=Object(Bt.a)(["(?:[AKQJT2-9])"]))),t+1,e))&&(i=new Vt(r)),i}))}},{key:"test",value:function(){var t=this.mark(),e=null!==this.matchStart(0);return this.reset(t),e}},{key:"parse",value:function(){var t=this.mark(),e=this.matchStart(0);if(e)return{ast:e,errs:[]};this.reset(t);var n=new te;this.clearMemos(),this.matchStart(0,n);var r=n.getErr();return{ast:e,errs:null!==r?[r]:[]}}},{key:"mark",value:function(){return this.pos}},{key:"loop",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.mark(),r=[];;){var i=t();if(null===i)break;r.push(i)}return e||r.length>0?r:(this.reset(n),null)}},{key:"run",value:function(t,e){var n=this.mark(),r=e();return null!==r?r:(this.reset(n),null)}},{key:"choice",value:function(t){var e,n=Object(Rt.a)(t);try{for(n.s();!(e=n.n()).done;){var r=(0,e.value)();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"regexAccept",value:function(t,e,n){var r=this;return this.run(e,(function(){var e=new RegExp(t,"y"),i=r.mark();e.lastIndex=i.overallPos;var a=r.tryConsume(e);return n&&n.record(i,a,{kind:"RegexMatch",literal:t.substring(3,t.length-1),negated:r.negating}),a}))}},{key:"tryConsume",value:function(t){var e=t.exec(this.input);if(e){for(var n=0,r=-1,i=0;i<e[0].length;++i)"\n"===e[0][i]&&(++n,r=i);return this.pos={overallPos:t.lastIndex,line:this.pos.line+n,offset:-1===r?this.pos.offset+e[0].length:e[0].length-r-1},e[0]}return null}},{key:"noConsume",value:function(t){var e=this.mark(),n=t();return this.reset(e),n}},{key:"negate",value:function(t){var e=this.mark(),n=this.negating;this.negating=!n;var r=t();return this.negating=n,this.reset(e),null===r||null}},{key:"memoise",value:function(t,e){var n=this.mark(),r=e.get(n.overallPos);if(this.memoSafe&&void 0!==r)return this.reset(r[1]),r[0];var i=t();return this.memoSafe&&e.set(n.overallPos,[i,this.mark()]),i}},{key:"match$EOF",value:function(t){var e=this.finished()?{kind:It.$EOF}:null;return t&&t.record(this.mark(),e,{kind:"EOF",negated:this.negating}),e}}]),t}();var Yt,Zt=function(){function t(e,n){Object(Dt.a)(this,t),this.pos=void 0,this.expmatches=void 0,this.pos=e,this.expmatches=Object(rt.a)(n)}return Object(Mt.a)(t,[{key:"toString",value:function(){return"Syntax Error at line ".concat(this.pos.line,":").concat(this.pos.offset,". Expected one of ").concat(this.expmatches.map((function(t){return"EOF"===t.kind?" EOF":" ".concat(t.negated?"not ":"","'").concat(t.literal,"'")})))}}]),t}(),te=function(){function t(){Object(Dt.a)(this,t),this.mxpos={overallPos:-1,line:-1,offset:-1},this.regexset=new Set,this.pmatches=[]}return Object(Mt.a)(t,[{key:"record",value:function(t,e,n){null===e!==n.negated&&(t.overallPos>this.mxpos.overallPos&&(this.mxpos=t,this.pmatches=[],this.regexset.clear()),this.mxpos.overallPos===t.overallPos&&("RegexMatch"===n.kind?(this.regexset.has(n.literal)||this.pmatches.push(n),this.regexset.add(n.literal)):this.pmatches.push(n)))}},{key:"getErr",value:function(){return-1!==this.mxpos.overallPos?new Zt(this.mxpos,this.pmatches):null}}]),t}(),ee=function(t){return Object(Y.pipe)(ct,X.h.map(function(t){return function(e){return Object(Y.pipe)(t[e].cards,X.h.map((function(t){return{suit:e,rank:ft.decode(t.rank).right}})))}}(t)),X.h.flatten,X.k.fromReadonlyArray(dt))},ne={encode:Object(Y.flow)(St,X.j.toReadonlyArray,X.h.sort(jt()),X.h.map(Object(Y.flow)(X.l.snd,X.h.sort(mt),X.h.reduce("",(function(t,e){return t+lt[e-2]})))),X.h.intersperse("."),X.h.foldMap(X.o.Monoid)(Y.identity))},re=function(t){return new Xt(t).parse()},ie=function(t){return Object(Y.pipe)(t,X.i.fromReadonlyArray,X.e.fold(Object(Y.constant)(nt.a(null,"No syntax errors reported")),X.i.foldMapWithIndex(et.getSemigroup())((function(t,e){return et.of(tt.index(t,"required",et.of(tt.leaf({pos:e.pos,expmatches:e.expmatches},e.toString()))))}))))},ae=function(t){return X.b.fromNullable(t.errs)(t.ast)},ue=function(t){return Object(Y.pipe)(nt.c,nt.b(Object(Y.flow)(t,ae,X.b.mapLeft(ie))))},ce=Object(Y.flow)(ue(zt).decode,X.b.map((function(t){return{bid:{level:(e=t.bid).level.value,strain:Lt(e.bid)},constraint:Object(Y.pipe)(e.constraints,X.h.map((function(t){return Ut(t.constraint)})),(function(t){return 1===t.length?t[0]:{type:"Conjunction",constraints:t}}))};var e}))),oe=Object(Y.flow)(ue(re).decode,X.b.map((function(t){return ee(t.hand)}))),se=function(){return X.q.make({blockKey:"root",text:"root",bid:X.e.none})},le={system:se()},he=function(t){return function(e){return Object(Y.flow)(X.q.fold(e),(function(e){return t.map(e,X.i.tail)}))}},fe=he(X.i.Functor)((function(t,e){return Object(Y.pipe)(e,X.i.fromReadonlyArray,X.e.fold((function(){return[[t]]}),X.i.foldMap(X.i.getSemigroup())(X.i.map(X.h.prepend(t)))))})),pe=function(t){return he(X.e.Functor)((function(e,n){return e.blockKey===t?X.e.some([e]):Object(Y.pipe)(n,X.h.findFirstMap(X.e.map(X.h.prepend(e))))}))},me=X.q.reduce([],(function(t,e){return Object(Y.pipe)(t,X.h.append(e))})),de=Object(V.c)({name:"system",initialState:le,reducers:{setSystem:function(t,e){t.system=Object(Y.pipe)(function(t){var e=se(),n=[e];return t.forEach((function(t){var e=n[t.depth+1]={forest:[],value:{blockKey:t.key,text:t.text,bid:X.e.some(ce(t.text))}};n[t.depth].forest.push(e)})),e}(e.payload),Z.a)}}}),ve=de.actions.setSystem,be=Object(Y.flow)(X.h.map((function(t){return t.bid})),X.h.compact),je=function(t){return Object(Y.pipe)(t.system,fe,X.i.map(Object(Y.flow)(X.h.traverse(X.e.Applicative)((function(t){return t.bid})),X.e.chain(X.e.fromEitherK(X.h.sequence(X.b.Applicative))),X.e.chain(X.i.fromReadonlyArray))),X.h.compact)},Oe=Object(Y.flow)((function(t){return Object(Y.pipe)(t.system,me,X.h.map((function(t){return t.bid})),X.h.compact)}),X.h.separate,X.n.left),Se=de.reducer,ge=n(39),ye=n(5),ke=n.n(ye),xe=n(93),_e=Object(Y.pipe)(X.g.getMonoidAny(),X.h.foldMap),Ce=Object(Y.pipe)(X.g.getMonoidAll(),X.h.foldMap),Ae=Object(Y.flow)(X.k.toReadonlyArray(vt),X.h.foldMap(X.d.MonoidSum)((function(t){return Math.max(0,t.rank-10)}))),we=Object(Y.flow)((function(t){return X.f.between(X.d.Ord)(t.min,t.max)}),X.g.contramap(Ae)),Re=function(t){var e="Major"===t.suit?["S","H"]:"Minor"===t.suit?["D","C"]:[t.suit];return Object(Y.flow)(wt,(function(n){return Object(Y.pipe)(e,X.h.exists((function(e){return X.f.between(X.d.Ord)(t.min,t.max)(n[e])})))}))},Be=function(t){return function(e,n){return Object(Y.flow)(wt,(function(r){return function(t){return"<"===t?X.f.lt(X.d.Ord):"<="===t?X.f.leq(X.d.Ord):"="===t?X.d.Eq.equals:">="===t?X.f.geq(X.d.Ord):">"===t?X.f.gt(X.d.Ord):Y.constFalse}(t)(r[e],r[n])}))}},Me=function(t){return function(e){return Ct.equals(t,function(t){return Object(Y.pipe)(t,wt,X.j.toReadonlyArray,X.h.map(X.l.snd),(function(t){return X.h.mapWithIndex((function(e,n){return Object(Y.pipe)(t,X.h.lookup(e),X.e.getOrElse((function(){return 0})))}))(kt)}))}(e))}},De=Object(Y.pipe)([_t(4,3,3,3),_t(5,3,3,2),_t(4,4,3,2),_t(5,5,3,2)],_e(Me)),Fe=Object(Y.pipe)([_t(5,4,2,2),_t(6,3,2,2)],_e(Me)),Ne=function t(e){return"Constant"===e.type?Object(Y.constant)(e.value):"Conjunction"===e.type?Object(Y.pipe)(e.constraints,Ce(t)):"Disjunction"===e.type?Object(Y.pipe)(e.constraints,_e(t)):"Negation"===e.type?Object(Y.pipe)(e.constraint,t,X.g.not):"PointRange"===e.type?we(e):"SuitRange"===e.type?Re(e):"SuitComparison"===e.type?Be(e.op)(e.left,e.right):"SuitPrimary"===e.type?(r=e.suit,Object(Y.pipe)(ct,X.h.splitAt(ct.indexOf(r)),X.l.bimap(Object(Y.flow)(X.h.tail,X.e.fold((function(){return[]}),X.h.map((function(t){return Be("<")(t,r)})))),X.h.map((function(t){return Be("<=")(t,r)}))),X.h.flatten,X.h.prepend(Re({type:"SuitRange",suit:r,min:5,max:13})),Ce(Y.identity))):"Balanced"===e.type?De:"SemiBalanced"===e.type?X.g.or(De)(Fe):"Unbalanced"===e.type?X.g.not(X.g.or(De)(Fe)):"AnyShape"===e.type?Me(e.counts):"SpecificShape"===e.type?(n=e.suits,Object(Y.flow)(wt,(function(t){return X.m.getEq(xe.eqStrict).equals(t,n)}))):Y.constFalse;var n,r},Pe=n(82),Ee=Pe.a(X.k.toReadonlyArray(vt),X.k.fromReadonlyArray(dt)),$e=(Pe.a(X.j.map(Ee.get),X.j.map(Ee.reverseGet)),Yt=Ee,Pe.a(X.b.map(Yt.get),X.b.map(Yt.reverseGet))),qe={selectedBlockKey:X.e.none},He=function(t){return function(e){return Object(Y.pipe)(e[t],X.b.right,$e.get,Z.a)}},Ie=Object(V.c)({name:"selection",initialState:qe,reducers:{setSelectedBlockKey:function(t,e){t.selectedBlockKey=e.payload},setHand:{reducer:function(t,e){t[e.meta]=Object(Y.pipe)(e.payload,oe,$e.get,Z.a)},prepare:function(t,e){return{payload:t,meta:e}}},genHands:function(t){var e,n=(e=ut(bt),Object(Y.pipe)(gt,X.i.zip(X.i.chunksOf(13)(e)),X.i.groupBy(X.l.fst),X.j.map(Object(Y.flow)(X.i.head,X.l.snd,X.k.fromReadonlyArray(dt))),(function(t){return t})));t.opener=He("N")(n),t.responder=He("S")(n)}}}),Qe=Ie.actions,Ke=Qe.setSelectedBlockKey,Te=Qe.setHand,Ge=Qe.genHands,Le=Ie.reducer,We=function(t,e){return Object(Y.pipe)(t[e],X.e.fromNullable,X.e.chain(Object(Y.flow)($e.reverseGet,X.e.fromEither)))},Je=n(64),Ue=function(){return Object(Je.b)()},ze=Je.c,Ve=n(4),Xe=function(){var t=Object(ye.useState)((function(){return ge.EditorState.createEmpty()})),e=Object(z.a)(t,2),n=e[0],r=e[1],i=Ue(),a=Object(ye.useCallback)((function(t){r(t),localStorage.setItem("editor",JSON.stringify(Object(ge.convertToRaw)(t.getCurrentContent()))),i(ve(function(t){return t.getCurrentContent().getBlockMap().toArray().map((function(t){return{key:t.getKey(),text:t.getText(),depth:t.getDepth()}}))}(t))),i(Ke(X.e.some(t.getSelection().getFocusKey())))}),[i]);return Object(ye.useEffect)((function(){var t=localStorage.getItem("editor");r(t?function(){return ge.EditorState.createWithContent(Object(ge.convertFromRaw)(JSON.parse(t)))}:function(){return ge.RichUtils.toggleBlockType(n,"unordered-list-item")})}),[]),Object(Ve.jsx)(ge.Editor,{editorState:n,onChange:a,keyBindingFn:function(t){if(9===t.keyCode){var e=ge.RichUtils.onTab(t,n,10);return e!==n&&a(e),null}return Object(ge.getDefaultKeyBinding)(t)}})},Ye=n(55),Ze=n.n(Ye),tn=n(140),en=n(141),nn=n.n(en),rn=function(t){return function(){return(new nn.a).genDeals(t)}},an="generator",un=window.navigator.hardwareConcurrency,cn=Object(V.b)("".concat(an,"/genDeals"),function(){var t=Object(tn.a)(Ze.a.mark((function t(e){var n,r;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Math.floor(e/un),r=Math.floor(e%un),t.abrupt("return",Object(Y.pipe)(X.h.makeBy(un-1,Object(Y.constant)(rn(n))),X.h.prepend(rn(n+r)),X.p.sequenceArray,X.p.map(X.h.flatten),(function(t){return t()})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),on=Object(V.c)({name:an,initialState:{deals:[],generating:!1},reducers:{},extraReducers:function(t){return t.addCase(cn.pending,(function(t){t.generating=!0})).addCase(cn.fulfilled,(function(t,e){t.deals=Object(Y.pipe)(e.payload,X.h.map((function(t){return Object(Y.pipe)(["N","S"],X.l.bimap((function(e){return t[e]}),(function(e){return t[e]})))})),Z.a),t.generating=!1})).addCase(cn.rejected,(function(t){t.generating=!1}))}}).reducer,sn=Ze.a.mark(hn),ln={system:Se,selection:Le,generator:on};function hn(t,e){return Ze.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,t;case 3:return n.next=5,e;case 5:n.next=0;break;case 7:case"end":return n.stop()}}),sn)}var fn,pn,mn,dn,vn,bn,jn=function t(e){return function(n){var r=n.next();return r.done||0===e?[]:[r.value].concat(Object(rt.a)(t(e-1)(n)))}},On=function(t,e){return function(n){return Object(Y.pipe)(hn(t,e),jn(n.length),X.h.zip(n),X.h.every((function(t){var e=Object(z.a)(t,2),n=e[0],r=e[1];return Ne(r.constraint)(n)})))}},Sn=function(t){return Object(Y.pipe)(X.e.Do,X.e.apS("blockKey",t.selection.selectedBlockKey),X.e.apS("opener",We(t.selection,"opener")),X.e.apS("responder",We(t.selection,"responder")),X.e.chain((function(e){return Object(Y.pipe)(X.b.Do,X.b.apS("bids",function(t,e){return Object(Y.pipe)(pe(e)(t.system),X.e.getOrElse((function(){return[]})),be,X.h.sequence(X.b.Applicative))}(t.system,e.blockKey)),X.b.map((function(t){return On(e.opener,e.responder)(t.bids)})),X.e.fromEither)})),X.e.toNullable)},gn=function(t){return Object(Y.pipe)(X.e.Do,X.e.apS("opener",We(t.selection,"opener")),X.e.apS("responder",We(t.selection,"responder")),X.e.map((function(e){return Object(Y.pipe)(je(t.system),X.h.map((function(t){return{path:t,result:On(e.opener,e.responder)(t)}})))})),X.e.toNullable)},yn=Object(Y.pipe)(X.d.Ord,X.f.reverse,X.f.contramap((function(t){return t.count}))),kn=function(t){return Object(Y.pipe)(X.h.Do,X.h.apS("deal",function(t){return Object(Y.pipe)(t.deals,X.h.map(X.l.bimap(Ee.reverseGet,Ee.reverseGet)))}(t.generator)),X.h.apS("path",je(t.system)),X.h.map((function(t){return{path:t.path,result:On(t.deal[0],t.deal[1])(t.path)}})),X.i.fromReadonlyArray,X.e.map(Object(Y.flow)(X.i.groupBy((function(t){return Object(Y.pipe)(t.path,X.h.map((function(t){return t.bid})),X.h.foldMap(X.o.Monoid)((function(t){return"".concat(t.level).concat(t.strain)})))})),X.j.map((function(t){return{path:t[0].path,count:Object(Y.pipe)(t,X.h.filter((function(t){return t.result}))).length}})),X.j.toReadonlyArray,X.h.map(X.l.snd),X.h.sort(yn))),X.e.toNullable)},xn=function(){var t=ze((function(t){return t.selection.selectedBlockKey})),e=ze((function(e){return Object(Y.pipe)(t,X.e.map((function(t){return function(t,e){return Object(Y.pipe)(t.system,pe(e),X.e.toNullable)}(e.system,t)})),X.e.toNullable)})),n=ze((function(e){return Object(Y.pipe)(t,X.e.chain((function(t){return Object(Y.pipe)(function(t,e){return Object(Y.pipe)(t.system,pe(e),X.e.chain(X.h.last),X.e.toNullable)}(e.system,t),X.e.fromNullable)})),X.e.chain((function(t){return t.bid})),X.e.chain(X.e.fromEither),X.e.toNullable)})),r=ze(Sn);return Object(Ve.jsxs)("section",{children:[Object(Ve.jsx)("h3",{children:"Selection"}),e&&Object(Ve.jsxs)("div",{children:[Object(Ve.jsx)("h4",{children:"Selected Path"}),e.map((function(t){return t.text})).join(" > ")]}),n&&Object(Ve.jsxs)("div",{children:[Object(Ve.jsx)("h4",{children:"Selected Bid"}),Object(Y.pipe)(n,X.e.fromNullable,X.e.map(JSON.stringify),X.e.toNullable),null!==r&&Object(Ve.jsxs)("div",{children:[Object(Ve.jsx)("h4",{children:"Satisfies"}),r.toString()]})]})]})},_n=n(44),Cn=_n.a.span(fn||(fn=Object(Bt.a)(['\n  &.S::after { content: "\u2660"; color: #0000FF; }\n  &.H::after { content: "\u2665"; color: #FF0000; }\n  &.D::after { content: "\u2666"; color: #FFA500; }\n  &.C::after { content: "\u2663"; color: #32CD32; }\n  &.N::after { content: "NT" }\n']))),An=function(t){var e=t.path;return Object(Ve.jsx)(Ve.Fragment,{children:e.map((function(t){return t.bid})).map((function(t){return Object(Ve.jsxs)(Ve.Fragment,{children:["\xa0",Object(Ve.jsx)("span",{children:t.level}),Object(Ve.jsx)(Cn,{className:t.strain})]})}))})},wn=n(80),Rn=function(){var t=ze((function(t){return t.generator.generating})),e=Ue(),n=ze((function(t){return je(t.system)})),r=ze((function(t){return Oe(t.system)})),i=null!==n&&n.length>0&&0===r.length,a=ze(kn),u=Object(ye.useState)(1e4),c=Object(z.a)(u,2),o=c[0],s=c[1];return Object(Ve.jsxs)("section",{children:[Object(Ve.jsx)("h3",{children:"Stats"}),!i&&Object(Ve.jsxs)("div",{children:[Object(Ve.jsx)("p",{children:"Select the system and/or fix errors"}),r.length>0&&Object(Ve.jsxs)("div",{children:[Object(Ve.jsx)("h4",{children:"Errors"}),Object(Ve.jsx)("ul",{children:r.map((function(t,e){return Object(Ve.jsx)("li",{children:Object(wn.draw)(t)},e)}))})]})]}),i&&Object(Ve.jsxs)("div",{children:[Object(Ve.jsx)("button",{type:"button",onClick:function(){return e(cn(o))},children:"Generate deals"}),Object(Ve.jsx)("input",{type:"number",value:o,onChange:function(t){return s(parseInt(t.target.value))}}),t&&Object(Ve.jsx)("span",{children:"Generating..."}),null!==a&&Object(Ve.jsxs)("div",{children:[Object(Ve.jsx)("h3",{children:"Results"}),Object(Ve.jsx)("ul",{children:a.map((function(t,e){return Object(Ve.jsxs)("li",{children:[Object(Ve.jsx)(An,{path:t.path}),": \xa0",Object(Ve.jsx)("span",{children:t.count.toString()})]},e)}))})]})]})]})},Bn=function(t){var e=t.value,n=t.children,r=t.onNone;return Object(Y.pipe)(e,X.e.fold((function(){return r?r():Object(Ve.jsx)(Ve.Fragment,{})}),n))},Mn=function(t){var e=t.type,n=Ue(),r=Object(ye.useState)(""),i=Object(z.a)(r,2),a=i[0],u=i[1],c="hand.".concat(e),o=ze((function(t){return Object(Y.pipe)(We(t.selection,e),X.e.map(ne.encode),X.e.toNullable)})),s=Object(ye.useCallback)((function(t){u(t),n(Te(t,e))}),[n,e]);return Object(ye.useEffect)((function(){var t=localStorage.getItem(c);t&&s(t)}),[s,c,e]),Object(Ve.jsx)("input",{type:"text",placeholder:"AKQJ.T987.654.32",value:null!==o&&void 0!==o?o:a,onChange:function(t){return s(t.target.value)},onBlur:function(){return localStorage.setItem(c,a)}})},Dn=_n.a.ol(pn||(pn=Object(Bt.a)(["\n  padding-left: 0;\n"]))),Fn=_n.a.li(mn||(mn=Object(Bt.a)(["\n  list-style-type: none;\n  display: inline;\n  float: left;\n"]))),Nn=function(t){var e=t.rank;return Object(Ve.jsx)(Fn,{children:lt[e-2]})},Pn=_n.a.th(dn||(dn=Object(Bt.a)(["\n  width: 15em;\n"]))),En=_n.a.ol(vn||(vn=Object(Bt.a)(["\n  white-space: nowrap;\n  padding-left: 0;\n  list-style: decimal url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7) inside;\n"]))),$n=_n.a.li(bn||(bn=Object(Bt.a)(['\n  display: inline;\n  &::before {\n    display: inline;\n    float: left;\n    margin-left: 5px;\n  }\n  &.S::before { content: "\u2660"; color: #0000FF; }\n  &.H::before { content: "\u2665"; color: #FF0000; }\n  &.D::before { content: "\u2666"; color: #FFA500; }\n  &.C::before { content: "\u2663"; color: #32CD32; }\n']))),qn=function(t){var e=t.suit,n=t.ranks;return Object(Ve.jsx)($n,{className:e,children:Object(Ve.jsxs)(Dn,{children:[n.map((function(t,e){return Object(Ve.jsx)(Nn,{rank:t},e)})),0===n.length&&Object(Ve.jsx)(Fn,{children:"-"})]})})},Hn=function(t){var e=t.type,n=ze((function(t){return We(t.selection,e)}));return Object(Ve.jsx)(Ve.Fragment,{children:n&&Object(Ve.jsx)(Bn,{value:n,children:function(t){var e=St(t);return Object(Ve.jsx)(En,{children:Object(Y.pipe)(e,X.j.mapWithIndex((function(t,e){return Object(Ve.jsx)(qn,{suit:t,ranks:e},t)})),X.j.toReadonlyArray,X.h.sort(jt()),X.h.map(X.l.snd))})}})})},In=function(){var t=Ue();return Object(Ve.jsxs)("table",{children:[Object(Ve.jsx)("thead",{children:Object(Ve.jsxs)("tr",{children:[Object(Ve.jsx)(Pn,{children:"Opener"}),Object(Ve.jsx)(Pn,{children:"Responder"})]})}),Object(Ve.jsxs)("tbody",{children:[Object(Ve.jsxs)("tr",{children:[Object(Ve.jsx)("td",{children:Object(Ve.jsx)(Mn,{type:"opener"})}),Object(Ve.jsx)("td",{children:Object(Ve.jsx)(Mn,{type:"responder"})})]}),Object(Ve.jsxs)("tr",{children:[Object(Ve.jsx)("td",{children:Object(Ve.jsx)(Hn,{type:"opener"})}),Object(Ve.jsx)("td",{children:Object(Ve.jsx)(Hn,{type:"responder"})})]}),Object(Ve.jsx)("tr",{children:Object(Ve.jsxs)("td",{children:[Object(Ve.jsx)("button",{type:"button",onClick:function(){return t(Ge())},children:"Generate"})," ",Object(Ve.jsx)("br",{})]})})]})]})},Qn=function(){var t=ze(gn);return Object(Ve.jsxs)("section",{children:[Object(Ve.jsx)("h3",{children:"Test Hands"}),Object(Ve.jsx)(In,{}),null!==t&&Object(Ve.jsxs)("div",{children:[Object(Ve.jsx)("h4",{children:"Results"}),Object(Ve.jsx)("ul",{children:t.map((function(t,e){return Object(Ve.jsxs)("li",{children:[Object(Ve.jsx)(An,{path:t.path}),": \xa0",Object(Ve.jsx)("span",{children:t.result.toString()})]},e)}))})]})]})},Kn=function(){return Object(Ve.jsxs)("div",{className:"App",children:[Object(Ve.jsxs)("div",{style:{display:"inline-block",width:"50%"},children:[Object(Ve.jsx)(Xe,{}),"---",Object(Ve.jsx)(Rn,{})]}),Object(Ve.jsxs)("div",{style:{display:"inline-block",width:"50%",float:"right"},children:[Object(Ve.jsxs)("div",{style:{display:"inline-block",float:"right"},children:[Object(Ve.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge#documentation",children:"Documentation"}),"\xa0|\xa0",Object(Ve.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge/discussions",children:"Share ideas"}),"\xa0|\xa0",Object(Ve.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge/issues/new",children:"Report issue"})]}),Object(Ve.jsx)(Qn,{}),Object(Ve.jsx)(xn,{})]})]})},Tn=n(61),Gn=n.n(Tn),Ln=Object(V.a)({reducer:ln});Gn.a.render(Object(Ve.jsx)(ke.a.StrictMode,{children:Object(Ve.jsx)(Je.a,{store:Ln,children:Object(Ve.jsx)(Kn,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[348,1,2]]]);
//# sourceMappingURL=main.3622b477.chunk.js.map