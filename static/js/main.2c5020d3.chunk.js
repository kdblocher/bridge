(this.webpackJsonpbridge=this.webpackJsonpbridge||[]).push([[0],{301:function(t,e,n){var r,i=n(293).wrap,c=n(582);t.exports=function t(){return this instanceof t?i(c()):r||(r=i(c()))}},302:function(t,e,n){var r,i=n(293).wrap,c=n(583);t.exports=function t(){return this instanceof t?i(c()):r||(r=i(c()))}},388:function(t,e,n){},394:function(t,e){},396:function(t,e){},406:function(t,e){},408:function(t,e){},434:function(t,e){},435:function(t,e){},440:function(t,e){},442:function(t,e){},449:function(t,e){},468:function(t,e){},582:function(t,e,n){t.exports=function(){return new Worker(n.p+"a38611fc77beb72bce00.worker.js")}},583:function(t,e,n){t.exports=function(){return new Worker(n.p+"044157630f2fba7c9ee6.worker.js")}},595:function(t,e,n){"use strict";n.r(e);n(388),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r,i=n(12),c=(n(389),n(299)),u=n(9),a=n(0),o=n(3),l=n(34),s=n(64),f=n(10),p=function(t){throw new Error("shouldn't get here with ".concat(JSON.stringify(t)))},h=function(t){return Object(o.pipe)(a.g.Ord,a.j.contramap((function(e){return t.indexOf(e)})))},d=Object(o.flow)(h,a.j.reverse),b=n(56),m=n(199),j=["C","D","H","S"],O=a.f.eqStrict,v=d(j),y=(h(j),["2","3","4","5","6","7","8","9","T","J","Q","K","A"]),g=b.b(b.c,(function(t){return t>=2&&t<=14}),"Rank"),S=new b.a("Rank",g.is,g.validate,(function(t){return y[t-2]})),k=a.f.eqStrict,x=a.g.Ord,C=Object(o.pipe)(x,a.j.reverse),_=Object(o.pipe)(y,a.l.mapWithIndex((function(t,e){return Object(o.pipe)(t+2,S.decode,(function(t){return t.right}))}))),w=Object(o.pipe)(_,a.l.takeRight(5)),A=function(t){return Object(o.pipe)(y,a.l.findIndex((function(e){return a.v.Eq.equals(t,e)})),a.h.chain((function(t){return Object(o.pipe)(_,a.l.lookup(t))})))},R=a.f.struct({suit:O,rank:k}),B=a.j.getMonoid().concat(Object(o.pipe)(v,a.j.contramap((function(t){return t.suit}))),Object(o.pipe)(C,a.j.contramap((function(t){return t.rank})))),P=Object(o.pipe)(52,a.n.makeBy((function(t){return{suit:j[Math.floor(t/13)],rank:S.decode(t%13+2).right}}))),F=function(){return a.j.contramap((function(t){var e=Object(i.a)(t,2),n=e[0];e[1];return n}))(v)},N={S:[],H:[],D:[],C:[]},E=function(t){return Object(o.pipe)(t,a.p.toReadonlyArray(B),a.n.fromReadonlyArray,a.h.fold((function(){return N}),Object(o.flow)(a.n.groupBy((function(t){return t.suit})),a.o.map(a.n.map((function(t){return t.rank}))),a.o.union(a.l.getUnionMonoid(k))(N))))},M=function(){return Object(m.b)(m.a,Object(u.a)(P))},D=["N","E","S","W"],q=a.v.Eq,T=(h(D),a.v.Eq,h(["NorthSouth","EastWest"]),a.p.getEq(R)),H=a.o.getEq(T),I=[].concat(Object(u.a)(j),["N"]),$=a.f.eqStrict,W=h(I),G=["C","D"],K=(a.f.struct({dealer:q,deal:H}),function(t){switch(t%16+1){case 1:case 8:case 11:case 14:return"Neither";case 2:case 5:case 12:case 15:return"NorthSouth";case 3:case 6:case 9:case 16:return"EastWest";case 4:case 7:case 10:case 13:return"Both";default:throw Error("Not possible")}}),L=["Pass","Double","Redouble"],U=a.v.Eq,Q=function(t){return"string"===typeof t&&Object(o.pipe)(L,a.l.elem(a.v.Eq)(t))},J=a.f.struct({level:a.g.Eq,strain:a.v.Eq}),z=a.j.getMonoid().concat(Object(o.pipe)(a.g.Ord,a.j.contramap((function(t){return t.level}))),Object(o.pipe)(W,a.j.contramap((function(t){return t.strain})))),V=Object(o.pipe)(a.a.sequenceS(a.l.Apply)({level:a.l.makeBy(7,(function(t){return t+1})),strain:I}),a.l.sort(z)),Z=function(t){return!Q(t)},X=a.f.fromEquals((function(t,e){return Q(t)&&Q(e)&&U.equals(t,e)||!Q(t)&&!Q(e)&&J.equals(t,e)})),Y=(a.f.struct({level:a.g.Eq,strain:a.v.Eq,modifier:a.v.Eq}),a.n.getEq(X),Object(o.flow)(a.p.toReadonlyArray(B),a.l.foldMap(a.g.MonoidSum)((function(t){return Math.max(0,t.rank-10)})))),tt=[0,0,0,0],et=function(t){return Object(o.pipe)(t,a.l.sort(a.j.reverse(a.g.Ord)))},nt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(o.pipe)(e,et)},rt=a.f.contramap(et)(a.l.getEq(a.g.Eq)),it={S:0,H:0,D:0,C:0},ct=function(t){return Object(o.pipe)(t,a.p.toReadonlyArray(B),a.n.fromReadonlyArray,a.h.fold((function(){return a.o.empty}),Object(o.flow)(a.n.groupBy((function(t){return t.suit})),a.o.mapWithIndex((function(t,e){return e})))))},ut=function(t){return Object(o.pipe)(t,ct,a.o.map((function(t){return t.length})),a.o.union(a.s.first())(it),(function(t){return t}))},at=function(t){return Object(o.pipe)(t,ut,a.o.toReadonlyArray,a.l.map(a.q.snd),(function(t){return a.l.mapWithIndex((function(e,n){return Object(o.pipe)(t,a.l.lookup(e),a.h.getOrElse((function(){return 0})))}))(tt)}))},ot=n(5),lt=n.n(ot),st=n(300),ft=n(122),pt=function(t){return function(e){return Object(o.flow)(a.y.fold(e),(function(e){return t.map(e,a.n.tail)}))}},ht=function(t){return Object(o.pipe)(t,pt(a.n.Functor)((function(t,e){return Object(o.pipe)(e,a.n.fromReadonlyArray,a.h.fold((function(){return[[t]]}),a.n.foldMap(a.n.getSemigroup())(a.n.map(a.l.prepend(t)))))})),a.l.filterMap(a.n.fromReadonlyArray))},dt=function t(e){return function(n){return function(r){return a.y.make(Object(f.a)(Object(f.a)({},r.value),{},{siblings:n}),Object(o.pipe)(r.forest,a.l.map(Object(o.pipe)(r.forest,a.l.map((function(t){return t.value})),(function(t){return null===r.value?t:a.l.difference(e)([r.value])(t)}),t(e))),a.l.toArray))}}},bt=function(t){return dt(t)([])},mt=Object(o.constant)({type:"Constant",value:!0}),jt=Object(o.constant)({type:"Constant",value:!1}),Ot=["Conjunction","Disjunction","Negation","Otherwise","OtherBid","ForceOneRound","ForceGame","ForceSlam","Relay","SuitPrimary","SuitSecondary"],vt=function(t){return a.l.elem(a.v.Eq)(t.type)(Ot)},yt=function(t){return vt(t)?a.d.left(t):a.d.right(t)},gt=a.k.getMonoidAny(),St=a.k.getMonoidAll(),kt=o.constFalse,xt=(o.constTrue,Object(o.pipe)(gt,a.l.foldMap)),Ct=Object(o.pipe)(St,a.l.foldMap),_t=Object(o.flow)((function(t){return a.j.between(a.g.Ord)(t.min,t.max)}),a.k.contramap(Y)),wt=function(t){var e="Major"===t.suit?["S","H"]:"Minor"===t.suit?["D","C"]:[t.suit];return Object(o.flow)(ut,(function(n){return Object(o.pipe)(e,a.l.exists((function(e){return a.j.between(a.g.Ord)(t.min,t.max)(n[e])})))}))},At=function(t){return function(e,n){return Object(o.flow)(ut,(function(r){return function(t){switch(t){case"<":return a.j.lt(a.g.Ord);case"<=":return a.j.leq(a.g.Ord);case"=":return a.g.Eq.equals;case">=":return a.j.geq(a.g.Ord);case">":return a.j.gt(a.g.Ord);default:return p(t)}}(t)(r[e],r[n])}))}},Rt=a.p.fromReadonlyArray(k),Bt=function(t){return Object(o.flow)(at,(function(e){return rt.equals(t,e)}))},Pt=Object(o.pipe)([nt(4,3,3,3),nt(5,3,3,2),nt(4,4,3,2),nt(5,5,3,2)],xt(Bt)),Ft=Object(o.pipe)([nt(5,4,2,2),nt(6,3,2,2)],xt(Bt)),Nt={bid:{},path:[],force:a.h.none,primarySuit:a.h.none,secondarySuit:a.h.none,peers:[]},Et=ft.a.fromProp(),Mt=Et("bid"),Dt=Et("path"),qt=Et("force"),Tt=Et("primarySuit"),Ht=Et("secondarySuit"),It=Et("peers"),$t=(Object(o.pipe)(It,ft.d.composeTraversal(Object(ft.c)(a.l.Traversable)())),ft.b.fromOptionProp()),Wt=$t("force"),Gt=($t("primarySuit"),$t("secondarySuit"),function(t){return function(e){return Object(o.flow)(a.u.traverseArray(e),a.u.map(t))}}),Kt=Gt(xt(o.identity)),Lt=Gt(Ct(o.identity)),Ut=function(t){switch(t.type){case"Constant":return Object(o.constant)(t.value);case"PointRange":return _t(t);case"SuitRange":return wt(t);case"SuitComparison":return At(t.op)(t.left,t.right);case"SuitHonors":return r=t,Object(o.flow)(ct,a.o.lookup(r.suit),a.h.fold(o.constFalse,(function(t){var e=Object(o.pipe)(t,a.l.map((function(t){return t.rank})),Rt,a.p.intersection(k)(Rt(w))),n=Object(o.pipe)(r.honors,Rt);return Object(o.pipe)(n,a.p.isSubset(k)(e))})));case"SuitTop":return n=t,Object(o.flow)(ct,a.o.lookup(n.suit),a.h.fold(o.constFalse,Object(o.flow)(a.l.map((function(t){return t.rank})),a.l.filter((function(t){return x.compare(t,n.minRank)>=0})),(function(t){return t.length>=n.count}))));case"Balanced":return Pt;case"SemiBalanced":return a.k.or(Pt)(Ft);case"Unbalanced":return a.k.not(a.k.or(Pt)(Ft));case"AnyShape":return Bt(t.counts);case"SpecificShape":return e=t.suits,Object(o.flow)(ut,(function(t){return a.r.getEq(st.eqStrict).equals(t,e)}));default:return p(t)}var e,n,r},Qt=function(t){return a.u.of(t)},Jt=function(t){return a.u.chain((function(e){switch(e.type){case"Conjunction":return Object(o.pipe)(e.constraints,a.n.map(Qt),Lt(t));case"Disjunction":return Object(o.pipe)(e.constraints,a.n.map(Qt),Kt(t));case"Negation":return Object(o.pipe)(e.constraint,Qt,t,a.u.map(a.k.not));case"Otherwise":return Object(o.pipe)(a.u.gets((function(t){return Object(o.pipe)(t,It.get,a.l.takeLeftWhile((function(e){return!X.equals(e.bid,t.bid)})))})),a.u.chain(Object(o.flow)(a.l.map((function(t){return Object(o.pipe)(a.u.modify(Mt.set(t.bid)),a.u.map((function(){return t.constraint})))})),Lt(Object(o.flow)(t,a.u.map(a.k.not))))));case"OtherBid":return Object(o.pipe)(a.u.gets(Object(o.flow)(It.get,a.l.findFirst((function(t){return X.equals(t.bid,e.bid)})))),a.u.chain(a.h.fold(Object(o.constant)(Qt(kt)),(function(e){return Object(o.pipe)(a.u.gets(Mt.get),a.u.chain((function(n){return X.equals(n,e.bid)?a.u.of(o.constFalse):t(a.u.of(e.constraint))})))}))));case"ForceOneRound":case"ForceGame":case"ForceSlam":case"Relay":return Object(o.pipe)(a.u.modify(qt.set(a.h.some(e))),a.u.map(Object(o.constant)(o.constTrue)));case"SuitPrimary":return Object(o.pipe)(a.u.modify(Tt.set(a.h.some(e.suit))),a.u.map(Object(o.constant)((r=e.suit,Object(o.pipe)(j,a.l.splitAt(j.indexOf(r)),a.q.bimap(Object(o.flow)(a.l.tail,a.h.fold((function(){return[]}),a.l.map((function(t){return At("<")(t,r)})))),a.l.map((function(t){return At("<=")(t,r)}))),a.l.flatten,a.l.prepend(wt({type:"SuitRange",suit:r,min:5,max:13})),Ct(o.identity))))));case"SuitSecondary":return Object(o.pipe)(a.u.modify(Ht.set(a.h.some(e.suit))),a.u.chain(Object(o.constant)(a.u.gets((function(t){return t.primarySuit})))),a.i.map(a.u.Functor)((n=e.suit,function(t){return Object(o.pipe)(a.l.Do,a.l.apS("suit",[n,t]),a.l.apS("otherSuit",Object(o.pipe)(j,a.l.difference(O)([n,t]))),a.l.filter((function(t){var e=t.suit,n=t.otherSuit;return!O.equals(e,n)})),a.l.map((function(t){var e=t.suit,n=t.otherSuit;return At(">")(e,n)})),a.l.concat([wt({type:"SuitRange",suit:n,min:4,max:13}),At(">=")(t,n)]),Ct(o.identity))})),a.u.map(a.h.getOrElseW(Object(o.constant)(kt))));default:return p(e)}var n,r}))},zt=function t(e){return Object(o.pipe)(e,a.u.map(yt),a.u.chain(a.d.fold(Object(o.flow)(a.u.of,Jt(t)),(function(t){return Object(o.pipe)(a.u.of(Ut),a.u.ap(a.u.of(t)))}))))};Object(o.flow)((function(t){return Object(o.pipe)(t,a.u.of,zt)}),a.u.evaluate(Nt));!function(t){var e=lt.a.mark(n);function n(t,n){return lt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t;case 3:return e.next=5,n;case 5:e.next=0;break;case 7:case"end":return e.stop()}}),e)}t.alternate=n;var r=t.unfold=function(t){return function(e){var n=e.next();return n.done||0===t?[]:[n.value].concat(Object(u.a)(r(t-1)(e)))}}}(r||(r={}));var Vt,Zt,Xt,Yt,te,ee,ne,re,ie,ce,ue,ae,oe,le,se,fe,pe,he,de,be,me,je,Oe,ve,ye,ge,Se,ke,xe,Ce,_e,we,Ae,Re,Be,Pe,Fe,Ne,Ee,Me,De,qe,Te,He,Ie,$e,We,Ge,Ke,Le=function(t){return Object(o.pipe)(a.u.modify(It.set(t.siblings)),a.u.chain((function(){return a.u.modify(Mt.set(t.bid))})),a.u.map((function(){return t.constraint})))},Ue=function(t){return a.u.chain((function(e){return Object(o.pipe)(a.u.modify(Dt.modify(a.l.prepend(t.bid))),a.u.map((function(){return e})))}))},Qe=function(t,e){return function(n){return Object(o.pipe)(r.alternate(t,e),r.unfold(n.length),a.l.zip(n),a.u.traverseArray((function(t){var e,n=Object(i.a)(t,2),r=n[0],c=n[1];return Object(o.pipe)(Le(c),Object(o.flow)((e=c.bid,function(t){return Object(o.pipe)(t,a.u.bindTo("constraint"),a.u.bind("relay",(function(t){var n=t.constraint;return a.u.gets(Object(o.flow)(qt.get,a.h.fold(o.constFalse,(function(t){return"Constant"===n.type&&!n.value&&"Relay"===t.type&&X.equals(t.bid,e)}))))})),a.u.map((function(t){return t.relay?mt():t.constraint})))}),zt),a.u.ap(a.u.of(r)),Ue(c))})),a.u.map(a.l.foldMap(a.c.MonoidAll)(o.identity)),a.u.evaluate(Nt))}},Je=a.j.fromCompare((function(t,e){return Z(t)&&!Z(e)?-1:Z(e)&&!Z(t)?1:Z(t)&&Z(e)?z.compare(t,e):0})),ze=a.j.contramap((function(t){return t.bid}))(Je),Ve=Object(o.flow)(ht,a.l.foldMap(a.c.MonoidAll)((function(t){return Object(o.pipe)(t,a.l.zip(a.n.tail(t)),a.l.foldMap(a.c.MonoidAll)((function(t){return a.j.lt(ze).apply(void 0,Object(u.a)(t))})))}))),Ze=function t(e){return Object(o.pipe)(e,a.u.chain((function(e){if(!vt(e))return a.u.of(!0);switch(e.type){case"Conjunction":case"Disjunction":return Object(o.pipe)(e.constraints,a.n.map(Qt),a.u.traverseArray(t),a.u.map(a.l.foldMap(a.c.MonoidAll)(o.identity)));case"Negation":return Object(o.pipe)(e.constraint,Qt,t);case"OtherBid":return a.u.gets(Object(o.flow)(It.get,a.l.map((function(t){return t.bid})),a.l.elem(X)(e.bid)));case"ForceOneRound":case"ForceGame":case"ForceSlam":case"Relay":return Object(o.pipe)(a.u.modify(qt.set(a.h.some(e))),a.u.map(o.constTrue));case"SuitPrimary":return Object(o.pipe)(a.u.modify(Tt.set(a.h.some(e.suit))),a.u.map(o.constTrue));case"SuitSecondary":return Object(o.pipe)(a.u.modify(Ht.set(a.h.some(e.suit))),a.u.chain(Object(o.constant)(a.u.gets((function(t){return t.primarySuit})))),a.u.map(a.h.isSome));case"Otherwise":return a.u.of(!0);default:return p(e)}})))},Xe=a.u.modify(qt.set(a.h.none)),Ye=a.u.of(Object(o.constVoid)()),tn=function(t){return function(e){switch(e.type){case"ForceOneRound":case"Relay":return Xe;case"ForceGame":return function(t){return Z(t)&&a.j.geq(z)(t,{level:3,strain:"N"})}(t)?Xe:Ye;case"ForceSlam":return function(t){return Z(t)&&a.j.gt(z)(t,{level:5,strain:"N"})}(t)?Xe:Ye;default:return p(e)}}},en=Object(o.flow)(a.u.bindTo("constraint"),a.u.apS("bid",a.u.gets(Mt.get)),a.u.apS("force",a.u.gets(Wt.getOption)),a.u.chain((function(t){var e=t.bid,n=t.force,r=t.constraint;return Object(o.pipe)(n,a.h.traverse(a.u.Applicative)(tn(e)),a.u.map(Object(o.constant)(r)))}))),nn=Object(o.flow)(a.u.apS("bid",a.u.gets(Mt.get)),a.u.apS("force",a.u.gets(qt.get)),a.u.map((function(t){var e=t.bid,n=t.force;return function(t){return function(e){return!("Pass"===t&&a.h.isSome(e))}}(e)(n)}))),rn=Object(o.pipe)(a.u.gets(Wt.getOption),a.u.map(a.h.isNone)),cn=Object(o.flow)(a.u.traverseArray((function(t){return Object(o.pipe)(Le(t),a.u.bindTo("constraint"),a.u.bind("forceCheck",(function(t){var e=t.constraint;return nn(a.u.of(e))})),a.u.chain((function(e){var n=e.constraint;return e.forceCheck?Object(o.pipe)(a.u.of(n),en,Ze,Ue(t)):a.u.of(!1)})))})),a.u.bindTo("result"),a.u.apS("finalCheck",rn),a.u.map((function(t){var e=t.result;return t.finalCheck&&Object(o.pipe)(e,a.l.foldMap(a.c.MonoidAll)(o.identity))})),a.u.evaluate(Nt)),un=Object(o.flow)(ht,a.l.foldMap(a.c.MonoidAll)(cn)),an=a.k.and(Ve)(un),on=n(83),ln=n(145),sn=n(102),fn=n(24),pn=n(18),hn=n(4),dn=n(2);!function(t){t.Start="Start",t.BidSpec="BidSpec",t.BidSpecConstraintList="BidSpecConstraintList",t.Bid_1="Bid_1",t.Bid_2="Bid_2",t.ContractBid="ContractBid",t.BidSpecifier_1="BidSpecifier_1",t.BidSpecifier_2="BidSpecifier_2",t.Wildcard="Wildcard",t.SuitSpecifier_1="SuitSpecifier_1",t.SuitSpecifier_2="SuitSpecifier_2",t.SuitSpecifier_3="SuitSpecifier_3",t.Major="Major",t.Minor="Minor",t.NonContractBid="NonContractBid",t.Pass="Pass",t.Strain_1="Strain_1",t.Strain_2="Strain_2",t.Suit_1="Suit_1",t.Suit_2="Suit_2",t.Suit_3="Suit_3",t.Suit_4="Suit_4",t.Club="Club",t.Diamond="Diamond",t.Heart="Heart",t.Spade="Spade",t.Notrump="Notrump",t.Honor="Honor",t.ConstraintList="ConstraintList",t.ConstraintListItem="ConstraintListItem",t.Constraint_1="Constraint_1",t.Constraint_2="Constraint_2",t.Constraint_3="Constraint_3",t.Constraint_4="Constraint_4",t.Constraint_5="Constraint_5",t.Constraint_6="Constraint_6",t.Constraint_7="Constraint_7",t.Constraint_8="Constraint_8",t.Constraint_9="Constraint_9",t.Constraint_10="Constraint_10",t.Constraint_11="Constraint_11",t.Constraint_12="Constraint_12",t.Constraint_13="Constraint_13",t.Constraint_14="Constraint_14",t.Constraint_15="Constraint_15",t.Constraint_16="Constraint_16",t.Const_1="Const_1",t.Const_2="Const_2",t.True="True",t.False="False",t.Or="Or",t.And="And",t.Not="Not",t.Not_$0_1="Not_$0_1",t.Not_$0_2="Not_$0_2",t.Otherwise="Otherwise",t.PointRange="PointRange",t.PointBound="PointBound",t.SuitRange="SuitRange",t.SuitBound="SuitBound",t.SuitRangeSpecifier="SuitRangeSpecifier",t.SuitComparison="SuitComparison",t.SuitComparisonOperator_1="SuitComparisonOperator_1",t.SuitComparisonOperator_2="SuitComparisonOperator_2",t.SuitComparisonOperator_3="SuitComparisonOperator_3",t.SuitComparisonOperator_4="SuitComparisonOperator_4",t.SuitComparisonOperator_5="SuitComparisonOperator_5",t.SuitHonors="SuitHonors",t.SuitTop="SuitTop",t.BoundQualifier_1="BoundQualifier_1",t.BoundQualifier_2="BoundQualifier_2",t.BoundQualifier_3="BoundQualifier_3",t.Plus="Plus",t.Minus="Minus",t.Equals="Equals",t.OtherBid="OtherBid",t.Distribution_1="Distribution_1",t.Distribution_2="Distribution_2",t.Distribution_3="Distribution_3",t.Distribution_4="Distribution_4",t.Distribution_5="Distribution_5",t.Balanced="Balanced",t.SemiBalanced="SemiBalanced",t.Unbalanced="Unbalanced",t.AnyShape="AnyShape",t.SpecificShape="SpecificShape",t.SuitRank_1="SuitRank_1",t.SuitRank_2="SuitRank_2",t.Primary="Primary",t.Secondary="Secondary",t.Response_1="Response_1",t.Response_2="Response_2",t.Response_3="Response_3",t.Response_4="Response_4",t.ForceOneRound="ForceOneRound",t.ForceGame="ForceGame",t.ForceSlam="ForceSlam",t.Relay="Relay",t.Digit="Digit",t.Number="Number",t.$EOF="$EOF"}(Ke||(Ke={}));var bn=function t(e){Object(dn.a)(this,t),this.kind=Ke.Digit,this.literal=void 0,this.value=void 0,this.literal=e,this.value=parseInt(e)},mn=function t(e){Object(dn.a)(this,t),this.kind=Ke.Number,this.literal=void 0,this.value=void 0,this.literal=e,this.value=parseInt(e)},jn=function(){function t(e){Object(dn.a)(this,t),this.input=void 0,this.pos=void 0,this.negating=!1,this.memoSafe=!0,this.$scope$Constraint$memo=new Map,this.pos={overallPos:0,line:1,offset:0},this.input=e}return Object(hn.a)(t,[{key:"reset",value:function(t){this.pos=t}},{key:"finished",value:function(){return this.pos.overallPos===this.input.length}},{key:"clearMemos",value:function(){this.$scope$Constraint$memo.clear()}},{key:"matchStart",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.matchBidSpec(t+1,e))&&null!==n.match$EOF(e)&&(i={kind:Ke.Start,spec:r}),i}))}},{key:"matchBidSpec",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,c=null;return null!==(r=n.matchBid(t+1,e))&&(i=n.matchBidSpecConstraintList(t+1,e),1)&&(c={kind:Ke.BidSpec,bid:r,constraints:i}),c}))}},{key:"matchBidSpecConstraintList",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==n.regexAccept(String.raw(Vt||(Vt=Object(pn.a)(["(?:: )"]))),t+1,e)&&null!==(r=n.matchConstraintList(t+1,e))&&(i={kind:Ke.BidSpecConstraintList,constraints:r}),i}))}},{key:"matchBid",value:function(t,e){var n=this;return this.choice([function(){return n.matchBid_1(t+1,e)},function(){return n.matchBid_2(t+1,e)}])}},{key:"matchBid_1",value:function(t,e){return this.matchContractBid(t+1,e)}},{key:"matchBid_2",value:function(t,e){return this.matchNonContractBid(t+1,e)}},{key:"matchContractBid",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,c=null;return null!==(r=n.matchDigit(t+1,e))&&null!==(i=n.matchBidSpecifier(t+1,e))&&(c={kind:Ke.ContractBid,level:r,specifier:i}),c}))}},{key:"matchBidSpecifier",value:function(t,e){var n=this;return this.choice([function(){return n.matchBidSpecifier_1(t+1,e)},function(){return n.matchBidSpecifier_2(t+1,e)}])}},{key:"matchBidSpecifier_1",value:function(t,e){return this.matchWildcard(t+1,e)}},{key:"matchBidSpecifier_2",value:function(t,e){return this.matchSuitSpecifier(t+1,e)}},{key:"matchWildcard",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Zt||(Zt=Object(pn.a)(["(?:x)"]))),t+1,e))&&(i={kind:Ke.Wildcard,v:r}),i}))}},{key:"matchSuitSpecifier",value:function(t,e){var n=this;return this.choice([function(){return n.matchSuitSpecifier_1(t+1,e)},function(){return n.matchSuitSpecifier_2(t+1,e)},function(){return n.matchSuitSpecifier_3(t+1,e)}])}},{key:"matchSuitSpecifier_1",value:function(t,e){return this.matchMajor(t+1,e)}},{key:"matchSuitSpecifier_2",value:function(t,e){return this.matchMinor(t+1,e)}},{key:"matchSuitSpecifier_3",value:function(t,e){return this.matchStrain(t+1,e)}},{key:"matchMajor",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Xt||(Xt=Object(pn.a)(["(?:M)"]))),t+1,e))&&(i={kind:Ke.Major,v:r}),i}))}},{key:"matchMinor",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Yt||(Yt=Object(pn.a)(["(?:m)"]))),t+1,e))&&(i={kind:Ke.Minor,v:r}),i}))}},{key:"matchNonContractBid",value:function(t,e){return this.matchPass(t+1,e)}},{key:"matchPass",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(te||(te=Object(pn.a)(["(?:P)"]))),t+1,e))&&(i={kind:Ke.Pass,v:r}),i}))}},{key:"matchStrain",value:function(t,e){var n=this;return this.choice([function(){return n.matchStrain_1(t+1,e)},function(){return n.matchStrain_2(t+1,e)}])}},{key:"matchStrain_1",value:function(t,e){return this.matchSuit(t+1,e)}},{key:"matchStrain_2",value:function(t,e){return this.matchNotrump(t+1,e)}},{key:"matchSuit",value:function(t,e){var n=this;return this.choice([function(){return n.matchSuit_1(t+1,e)},function(){return n.matchSuit_2(t+1,e)},function(){return n.matchSuit_3(t+1,e)},function(){return n.matchSuit_4(t+1,e)}])}},{key:"matchSuit_1",value:function(t,e){return this.matchClub(t+1,e)}},{key:"matchSuit_2",value:function(t,e){return this.matchDiamond(t+1,e)}},{key:"matchSuit_3",value:function(t,e){return this.matchHeart(t+1,e)}},{key:"matchSuit_4",value:function(t,e){return this.matchSpade(t+1,e)}},{key:"matchClub",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(ee||(ee=Object(pn.a)(["(?:[Cc\u2663\u2667])"]))),t+1,e))&&(i={kind:Ke.Club,v:r}),i}))}},{key:"matchDiamond",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(ne||(ne=Object(pn.a)(["(?:[Dd\u2666\u2662])"]))),t+1,e))&&(i={kind:Ke.Diamond,v:r}),i}))}},{key:"matchHeart",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(re||(re=Object(pn.a)(["(?:[Hh\u2665\u2661])"]))),t+1,e))&&(i={kind:Ke.Heart,v:r}),i}))}},{key:"matchSpade",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(ie||(ie=Object(pn.a)(["(?:[Ss\u2660\u2664])"]))),t+1,e))&&(i={kind:Ke.Spade,v:r}),i}))}},{key:"matchNotrump",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(ce||(ce=Object(pn.a)(["(?:[Nn])"]))),t+1,e))&&(n.regexAccept(String.raw(ue||(ue=Object(pn.a)(["(?:[Tt])"]))),t+1,e),1)&&(i={kind:Ke.Notrump,v:r}),i}))}},{key:"matchHonor",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(ae||(ae=Object(pn.a)(["(?:[AKQJT])"]))),t+1,e))&&(i={kind:Ke.Honor,v:r}),i}))}},{key:"matchConstraintList",value:function(t,e){var n=this;return this.loop((function(){return n.matchConstraintListItem(t+1,e)}),!1)}},{key:"matchConstraintListItem",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.matchConstraint(t+1,e))&&(n.regexAccept(String.raw(oe||(oe=Object(pn.a)(["(?: )"]))),t+1,e),1)&&(i={kind:Ke.ConstraintListItem,constraint:r}),i}))}},{key:"matchConstraint",value:function(t,e){var n=this,r=this.mark(),i=this.$scope$Constraint$memo.get(r.overallPos);if(void 0!==i)return this.reset(i[1]),i[0];var c=this.memoSafe;this.memoSafe=!1,this.$scope$Constraint$memo.set(r.overallPos,[null,r]);for(var u=null,a=r;;){this.reset(r);var o=n.choice([function(){return n.matchConstraint_1(t+1,e)},function(){return n.matchConstraint_2(t+1,e)},function(){return n.matchConstraint_3(t+1,e)},function(){return n.matchConstraint_4(t+1,e)},function(){return n.matchConstraint_5(t+1,e)},function(){return n.matchConstraint_6(t+1,e)},function(){return n.matchConstraint_7(t+1,e)},function(){return n.matchConstraint_8(t+1,e)},function(){return n.matchConstraint_9(t+1,e)},function(){return n.matchConstraint_10(t+1,e)},function(){return n.matchConstraint_11(t+1,e)},function(){return n.matchConstraint_12(t+1,e)},function(){return n.matchConstraint_13(t+1,e)},function(){return n.matchConstraint_14(t+1,e)},function(){return n.matchConstraint_15(t+1,e)},function(){return n.matchConstraint_16(t+1,e)}]),l=this.mark();if(l.overallPos<=a.overallPos)break;u=o,a=l,this.$scope$Constraint$memo.set(r.overallPos,[u,a])}return this.reset(a),this.memoSafe=c,u}},{key:"matchConstraint_1",value:function(t,e){return this.matchConst(t+1,e)}},{key:"matchConstraint_2",value:function(t,e){return this.matchOr(t+1,e)}},{key:"matchConstraint_3",value:function(t,e){return this.matchAnd(t+1,e)}},{key:"matchConstraint_4",value:function(t,e){return this.matchNot(t+1,e)}},{key:"matchConstraint_5",value:function(t,e){return this.matchOtherwise(t+1,e)}},{key:"matchConstraint_6",value:function(t,e){return this.matchDistribution(t+1,e)}},{key:"matchConstraint_7",value:function(t,e){return this.matchResponse(t+1,e)}},{key:"matchConstraint_8",value:function(t,e){return this.matchSuitRange(t+1,e)}},{key:"matchConstraint_9",value:function(t,e){return this.matchSuitBound(t+1,e)}},{key:"matchConstraint_10",value:function(t,e){return this.matchSuitComparison(t+1,e)}},{key:"matchConstraint_11",value:function(t,e){return this.matchSuitHonors(t+1,e)}},{key:"matchConstraint_12",value:function(t,e){return this.matchSuitTop(t+1,e)}},{key:"matchConstraint_13",value:function(t,e){return this.matchSuitRank(t+1,e)}},{key:"matchConstraint_14",value:function(t,e){return this.matchPointRange(t+1,e)}},{key:"matchConstraint_15",value:function(t,e){return this.matchPointBound(t+1,e)}},{key:"matchConstraint_16",value:function(t,e){return this.matchOtherBid(t+1,e)}},{key:"matchConst",value:function(t,e){var n=this;return this.choice([function(){return n.matchConst_1(t+1,e)},function(){return n.matchConst_2(t+1,e)}])}},{key:"matchConst_1",value:function(t,e){return this.matchTrue(t+1,e)}},{key:"matchConst_2",value:function(t,e){return this.matchFalse(t+1,e)}},{key:"matchTrue",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(le||(le=Object(pn.a)(["(?:true)"]))),t+1,e))&&(i={kind:Ke.True,v:r}),i}))}},{key:"matchFalse",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(se||(se=Object(pn.a)(["(?:false)"]))),t+1,e))&&(i={kind:Ke.False,v:r}),i}))}},{key:"matchOr",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,c=null;return null!==(r=n.matchConstraint(t+1,e))&&null!==n.regexAccept(String.raw(fe||(fe=Object(pn.a)(["(?: or )"]))),t+1,e)&&null!==(i=n.matchConstraint(t+1,e))&&(c={kind:Ke.Or,left:r,right:i}),c}))}},{key:"matchAnd",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==n.regexAccept(String.raw(pe||(pe=Object(pn.a)(["(?:()"],["(?:\\()"]))),t+1,e)&&null!==(r=n.matchConstraintList(t+1,e))&&null!==n.regexAccept(String.raw(he||(he=Object(pn.a)(["(?:))"],["(?:\\))"]))),t+1,e)&&(i={kind:Ke.And,constraints:r}),i}))}},{key:"matchNot",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==n.matchNot_$0(t+1,e)&&(n.regexAccept(String.raw(de||(de=Object(pn.a)(["(?: )"]))),t+1,e),1)&&null!==(r=n.matchConstraint(t+1,e))&&(i={kind:Ke.Not,constraint:r}),i}))}},{key:"matchNot_$0",value:function(t,e){var n=this;return this.choice([function(){return n.matchNot_$0_1(t+1,e)},function(){return n.matchNot_$0_2(t+1,e)}])}},{key:"matchNot_$0_1",value:function(t,e){return this.regexAccept(String.raw(be||(be=Object(pn.a)(["(?:not)"]))),t+1,e)}},{key:"matchNot_$0_2",value:function(t,e){return this.regexAccept(String.raw(me||(me=Object(pn.a)(["(?:!)"]))),t+1,e)}},{key:"matchOtherwise",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(je||(je=Object(pn.a)(["(?:else)"]))),t+1,e))&&(i={kind:Ke.Otherwise,v:r}),i}))}},{key:"matchPointRange",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,c=null;return null!==(r=n.matchNumber(t+1,e))&&null!==n.regexAccept(String.raw(Oe||(Oe=Object(pn.a)(["(?:-)"]))),t+1,e)&&null!==(i=n.matchNumber(t+1,e))&&(c={kind:Ke.PointRange,lower:r,upper:i}),c}))}},{key:"matchPointBound",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,c=null;return null!==(r=n.matchNumber(t+1,e))&&null!==(i=n.matchBoundQualifier(t+1,e))&&(c={kind:Ke.PointBound,value:r,qualifier:i}),c}))}},{key:"matchSuitRange",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,c,u=null;return null!==(r=n.matchDigit(t+1,e))&&null!==n.regexAccept(String.raw(ve||(ve=Object(pn.a)(["(?:-)"]))),t+1,e)&&null!==(i=n.matchDigit(t+1,e))&&null!==(c=n.matchSuitRangeSpecifier(t+1,e))&&(u={kind:Ke.SuitRange,lower:r,upper:i,suit:c}),u}))}},{key:"matchSuitBound",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,c,u=null;return null!==(r=n.matchNumber(t+1,e))&&null!==(i=n.matchBoundQualifier(t+1,e))&&null!==(c=n.matchSuitRangeSpecifier(t+1,e))&&(u={kind:Ke.SuitBound,value:r,qualifier:i,suit:c}),u}))}},{key:"matchSuitRangeSpecifier",value:function(t,e){return this.matchSuit(t+1,e)}},{key:"matchSuitComparison",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,c,u=null;return null!==(r=n.matchSuit(t+1,e))&&null!==(i=n.matchSuitComparisonOperator(t+1,e))&&null!==(c=n.matchSuit(t+1,e))&&(u={kind:Ke.SuitComparison,left:r,op:i,right:c}),u}))}},{key:"matchSuitComparisonOperator",value:function(t,e){var n=this;return this.choice([function(){return n.matchSuitComparisonOperator_1(t+1,e)},function(){return n.matchSuitComparisonOperator_2(t+1,e)},function(){return n.matchSuitComparisonOperator_3(t+1,e)},function(){return n.matchSuitComparisonOperator_4(t+1,e)},function(){return n.matchSuitComparisonOperator_5(t+1,e)}])}},{key:"matchSuitComparisonOperator_1",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(ye||(ye=Object(pn.a)(["(?:<)"]))),t+1,e))&&(i={kind:Ke.SuitComparisonOperator_1,v:r}),i}))}},{key:"matchSuitComparisonOperator_2",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(ge||(ge=Object(pn.a)(["(?:<=)"]))),t+1,e))&&(i={kind:Ke.SuitComparisonOperator_2,v:r}),i}))}},{key:"matchSuitComparisonOperator_3",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Se||(Se=Object(pn.a)(["(?:=)"]))),t+1,e))&&(i={kind:Ke.SuitComparisonOperator_3,v:r}),i}))}},{key:"matchSuitComparisonOperator_4",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(ke||(ke=Object(pn.a)(["(?:>=)"]))),t+1,e))&&(i={kind:Ke.SuitComparisonOperator_4,v:r}),i}))}},{key:"matchSuitComparisonOperator_5",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(xe||(xe=Object(pn.a)(["(?:>)"]))),t+1,e))&&(i={kind:Ke.SuitComparisonOperator_5,v:r}),i}))}},{key:"matchSuitHonors",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,c=null;return null!==(r=n.matchSuit(t+1,e))&&null!==(i=n.loop((function(){return n.matchHonor(t+1,e)}),!1))&&(c={kind:Ke.SuitHonors,suit:r,honors:i}),c}))}},{key:"matchSuitTop",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,c,u=null;return null!==(r=n.matchSuit(t+1,e))&&null!==(i=n.regexAccept(String.raw(Ce||(Ce=Object(pn.a)(["(?:[0-5])"]))),t+1,e))&&null!==n.regexAccept(String.raw(_e||(_e=Object(pn.a)(["(?:/)"]))),t+1,e)&&null!==(c=n.regexAccept(String.raw(we||(we=Object(pn.a)(["(?:[1-5])"]))),t+1,e))&&(u={kind:Ke.SuitTop,suit:r,x:i,y:c}),u}))}},{key:"matchBoundQualifier",value:function(t,e){var n=this;return this.choice([function(){return n.matchBoundQualifier_1(t+1,e)},function(){return n.matchBoundQualifier_2(t+1,e)},function(){return n.matchBoundQualifier_3(t+1,e)}])}},{key:"matchBoundQualifier_1",value:function(t,e){return this.matchPlus(t+1,e)}},{key:"matchBoundQualifier_2",value:function(t,e){return this.matchMinus(t+1,e)}},{key:"matchBoundQualifier_3",value:function(t,e){return this.matchEquals(t+1,e)}},{key:"matchPlus",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Ae||(Ae=Object(pn.a)(["(?:+)"],["(?:\\+)"]))),t+1,e))&&(i={kind:Ke.Plus,v:r}),i}))}},{key:"matchMinus",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Re||(Re=Object(pn.a)(["(?:-)"],["(?:\\-)"]))),t+1,e))&&(i={kind:Ke.Minus,v:r}),i}))}},{key:"matchEquals",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Be||(Be=Object(pn.a)(["(?:=)"]))),t+1,e))&&(i={kind:Ke.Equals,v:r}),i}))}},{key:"matchOtherBid",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,c=null;return null!==(r=n.matchNumber(t+1,e))&&null!==(i=n.matchStrain(t+1,e))&&(c={kind:Ke.OtherBid,level:r,strain:i}),c}))}},{key:"matchDistribution",value:function(t,e){var n=this;return this.choice([function(){return n.matchDistribution_1(t+1,e)},function(){return n.matchDistribution_2(t+1,e)},function(){return n.matchDistribution_3(t+1,e)},function(){return n.matchDistribution_4(t+1,e)},function(){return n.matchDistribution_5(t+1,e)}])}},{key:"matchDistribution_1",value:function(t,e){return this.matchBalanced(t+1,e)}},{key:"matchDistribution_2",value:function(t,e){return this.matchSemiBalanced(t+1,e)}},{key:"matchDistribution_3",value:function(t,e){return this.matchUnbalanced(t+1,e)}},{key:"matchDistribution_4",value:function(t,e){return this.matchAnyShape(t+1,e)}},{key:"matchDistribution_5",value:function(t,e){return this.matchSpecificShape(t+1,e)}},{key:"matchBalanced",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Pe||(Pe=Object(pn.a)(["(?:BAL)"]))),t+1,e))&&(i={kind:Ke.Balanced,v:r}),i}))}},{key:"matchSemiBalanced",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Fe||(Fe=Object(pn.a)(["(?:semiBAL)"]))),t+1,e))&&(i={kind:Ke.SemiBalanced,v:r}),i}))}},{key:"matchUnbalanced",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Ne||(Ne=Object(pn.a)(["(?:unBAL)"]))),t+1,e))&&(i={kind:Ke.Unbalanced,v:r}),i}))}},{key:"matchAnyShape",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Ee||(Ee=Object(pn.a)(["(?:[0-9]{4})"]))),t+1,e))&&null!==n.regexAccept(String.raw(Me||(Me=Object(pn.a)(["(?:*)"],["(?:\\*)"]))),t+1,e)&&(i={kind:Ke.AnyShape,v:r}),i}))}},{key:"matchSpecificShape",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,c,u,a=null;return null!==(r=n.matchDigit(t+1,e))&&null!==(i=n.matchDigit(t+1,e))&&null!==(c=n.matchDigit(t+1,e))&&null!==(u=n.matchDigit(t+1,e))&&(a={kind:Ke.SpecificShape,S:r,H:i,D:c,C:u}),a}))}},{key:"matchSuitRank",value:function(t,e){var n=this;return this.choice([function(){return n.matchSuitRank_1(t+1,e)},function(){return n.matchSuitRank_2(t+1,e)}])}},{key:"matchSuitRank_1",value:function(t,e){return this.matchPrimary(t+1,e)}},{key:"matchSuitRank_2",value:function(t,e){return this.matchSecondary(t+1,e)}},{key:"matchPrimary",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.matchSuit(t+1,e))&&null!==n.regexAccept(String.raw(De||(De=Object(pn.a)(["(?:1)"]))),t+1,e)&&(i={kind:Ke.Primary,suit:r}),i}))}},{key:"matchSecondary",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.matchSuit(t+1,e))&&null!==n.regexAccept(String.raw(qe||(qe=Object(pn.a)(["(?:2)"]))),t+1,e)&&(i={kind:Ke.Secondary,suit:r}),i}))}},{key:"matchResponse",value:function(t,e){var n=this;return this.choice([function(){return n.matchResponse_1(t+1,e)},function(){return n.matchResponse_2(t+1,e)},function(){return n.matchResponse_3(t+1,e)},function(){return n.matchResponse_4(t+1,e)}])}},{key:"matchResponse_1",value:function(t,e){return this.matchForceOneRound(t+1,e)}},{key:"matchResponse_2",value:function(t,e){return this.matchForceGame(t+1,e)}},{key:"matchResponse_3",value:function(t,e){return this.matchForceSlam(t+1,e)}},{key:"matchResponse_4",value:function(t,e){return this.matchRelay(t+1,e)}},{key:"matchForceOneRound",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Te||(Te=Object(pn.a)(["(?:F1)"]))),t+1,e))&&(i={kind:Ke.ForceOneRound,v:r}),i}))}},{key:"matchForceGame",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(He||(He=Object(pn.a)(["(?:FG)"]))),t+1,e))&&(i={kind:Ke.ForceGame,v:r}),i}))}},{key:"matchForceSlam",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Ie||(Ie=Object(pn.a)(["(?:FS)"]))),t+1,e))&&(i={kind:Ke.ForceSlam,v:r}),i}))}},{key:"matchRelay",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==n.regexAccept(String.raw($e||($e=Object(pn.a)(["(?:->)"]))),t+1,e)&&null!==(r=n.matchOtherBid(t+1,e))&&(i={kind:Ke.Relay,bid:r}),i}))}},{key:"matchDigit",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(We||(We=Object(pn.a)(["(?:[0-9])"]))),t+1,e))&&(i=new bn(r)),i}))}},{key:"matchNumber",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(Ge||(Ge=Object(pn.a)(["(?:[0-9]+)"]))),t+1,e))&&(i=new mn(r)),i}))}},{key:"test",value:function(){var t=this.mark(),e=null!==this.matchStart(0);return this.reset(t),e}},{key:"parse",value:function(){var t=this.mark(),e=this.matchStart(0);if(e)return{ast:e,errs:[]};this.reset(t);var n=new xn;this.clearMemos(),this.matchStart(0,n);var r=n.getErr();return{ast:e,errs:null!==r?[r]:[]}}},{key:"mark",value:function(){return this.pos}},{key:"loop",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.mark(),r=[];;){var i=t();if(null===i)break;r.push(i)}return e||r.length>0?r:(this.reset(n),null)}},{key:"run",value:function(t,e){var n=this.mark(),r=e();return null!==r?r:(this.reset(n),null)}},{key:"choice",value:function(t){var e,n=Object(fn.a)(t);try{for(n.s();!(e=n.n()).done;){var r=(0,e.value)();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"regexAccept",value:function(t,e,n){var r=this;return this.run(e,(function(){var e=new RegExp(t,"y"),i=r.mark();e.lastIndex=i.overallPos;var c=r.tryConsume(e);return n&&n.record(i,c,{kind:"RegexMatch",literal:t.substring(3,t.length-1),negated:r.negating}),c}))}},{key:"tryConsume",value:function(t){var e=t.exec(this.input);if(e){for(var n=0,r=-1,i=0;i<e[0].length;++i)"\n"===e[0][i]&&(++n,r=i);return this.pos={overallPos:t.lastIndex,line:this.pos.line+n,offset:-1===r?this.pos.offset+e[0].length:e[0].length-r-1},e[0]}return null}},{key:"noConsume",value:function(t){var e=this.mark(),n=t();return this.reset(e),n}},{key:"negate",value:function(t){var e=this.mark(),n=this.negating;this.negating=!n;var r=t();return this.negating=n,this.reset(e),null===r||null}},{key:"memoise",value:function(t,e){var n=this.mark(),r=e.get(n.overallPos);if(this.memoSafe&&void 0!==r)return this.reset(r[1]),r[0];var i=t();return this.memoSafe&&e.set(n.overallPos,[i,this.mark()]),i}},{key:"match$EOF",value:function(t){var e=this.finished()?{kind:Ke.$EOF}:null;return t&&t.record(this.mark(),e,{kind:"EOF",negated:this.negating}),e}}]),t}();var On,vn,yn,gn,Sn,kn=function(){function t(e,n){Object(dn.a)(this,t),this.pos=void 0,this.expmatches=void 0,this.pos=e,this.expmatches=Object(u.a)(n)}return Object(hn.a)(t,[{key:"toString",value:function(){return"Syntax Error at line ".concat(this.pos.line,":").concat(this.pos.offset,". Expected one of ").concat(this.expmatches.map((function(t){return"EOF"===t.kind?" EOF":" ".concat(t.negated?"not ":"","'").concat(t.literal,"'")})))}}]),t}(),xn=function(){function t(){Object(dn.a)(this,t),this.mxpos={overallPos:-1,line:-1,offset:-1},this.regexset=new Set,this.pmatches=[]}return Object(hn.a)(t,[{key:"record",value:function(t,e,n){null===e!==n.negated&&(t.overallPos>this.mxpos.overallPos&&(this.mxpos=t,this.pmatches=[],this.regexset.clear()),this.mxpos.overallPos===t.overallPos&&("RegexMatch"===n.kind?(this.regexset.has(n.literal)||this.pmatches.push(n),this.regexset.add(n.literal)):this.pmatches.push(n)))}},{key:"getErr",value:function(){return-1!==this.mxpos.overallPos?new kn(this.mxpos,this.pmatches):null}}]),t}(),Cn=function(t){return Object(o.pipe)(t,a.n.fromReadonlyArray,a.h.map(Object(o.flow)(a.n.map(Pn),a.d.fromPredicate((function(t){return t.length>1}),(function(t){return t[0]})))))},_n=function(t,e){return Object(o.flow)(Cn,a.e.match(a.h.Functor)(o.identity,(function(e){return{type:t,constraints:e}})),a.h.getOrElse(e))},wn=function(t){return t.kind===Ke.Club?"C":t.kind===Ke.Diamond?"D":t.kind===Ke.Heart?"H":"S"},An=function(t){return t.kind===Ke.Notrump?"N":wn(t)},Rn=function(t){return wn(t)},Bn=function(t,e){return function(n){return Object(o.pipe)(e,a.h.of,a.h.filter((function(e){return t.kind===Ke.Equals||"min"===n&&t.kind===Ke.Plus||"max"===n&&t.kind===Ke.Minus})))}},Pn=function t(e){switch(e.kind){case Ke.True:return mt();case Ke.False:return jt();case Ke.And:return Object(o.pipe)(e.constraints,a.l.map((function(t){return t.constraint})),_n("Conjunction",mt));case Ke.Otherwise:return{type:"Otherwise"};case Ke.Or:return Object(o.pipe)(function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.kind===Ke.Or?t.apply(void 0,[e.left,e.right].concat(r)):Object(o.pipe)(r,a.n.fromReadonlyArray,a.h.fold((function(){return[e]}),(function(n){return[e].concat(Object(u.a)(t.apply(void 0,[n[0]].concat(Object(u.a)(n.slice(1))))))})))}(e.left,e.right),_n("Disjunction",jt));case Ke.Not:return{type:"Negation",constraint:t(e.constraint)};case Ke.OtherBid:return{type:"OtherBid",bid:{level:e.level.value,strain:An(e.strain)}};case Ke.PointRange:return{type:"PointRange",min:e.lower.value,max:e.upper.value};case Ke.PointBound:return{type:"PointRange",min:Object(o.pipe)(Bn(e.qualifier,e.value.value)("min"),a.h.getOrElse(Object(o.constant)(0))),max:Object(o.pipe)(Bn(e.qualifier,e.value.value)("max"),a.h.getOrElse(Object(o.constant)(37)))};case Ke.SuitRange:return{type:"SuitRange",min:e.lower.value,max:e.upper.value,suit:Rn(e.suit)};case Ke.SuitComparison:return{type:"SuitComparison",op:e.op.v,left:wn(e.left),right:wn(e.right)};case Ke.Primary:case Ke.Secondary:return{type:"Suit".concat(e.kind),suit:wn(e.suit)};case Ke.SuitBound:return{type:"SuitRange",min:Object(o.pipe)(Bn(e.qualifier,e.value.value)("min"),a.h.getOrElse(Object(o.constant)(0))),max:Object(o.pipe)(Bn(e.qualifier,e.value.value)("max"),a.h.getOrElse(Object(o.constant)(13))),suit:Rn(e.suit)};case Ke.SuitHonors:return{type:"SuitHonors",suit:wn(e.suit),honors:Object(o.pipe)(e.honors,a.l.fromArray,a.l.traverse(a.h.Applicative)(Object(o.flow)((function(t){return t.v}),A)),a.h.getOrElseW((function(){return[]})))};case Ke.SuitTop:return{type:"SuitTop",suit:wn(e.suit),count:parseInt(e.x),minRank:_[_.length-parseInt(e.y)]};case Ke.AnyShape:return{type:"AnyShape",counts:Object(o.pipe)(e.v,a.v.split(""),a.l.map(parseInt))};case Ke.SpecificShape:return{type:"SpecificShape",suits:Object(o.pipe)(it,a.o.mapWithIndex((function(t,n){return e[t].value})))};case Ke.Relay:return{type:"Relay",bid:{level:e.bid.level.value,strain:An(e.bid.strain)}};default:return{type:e.kind}}},Fn=function(t){switch(t.kind){case Ke.ContractBid:return{level:t.level.value,strain:An(t.specifier)};case Ke.Pass:return"Pass";default:return p(t)}},Nn=function(t){return new jn(t).parse()};!function(t){t.Start="Start",t.Hand="Hand",t.Suit="Suit",t.Card="Card",t.$EOF="$EOF"}(Sn||(Sn={}));var En=function t(e){Object(dn.a)(this,t),this.kind=Sn.Card,this.c=void 0,this.rank=void 0,this.c=e,this.rank=["2","3","4","5","6","7","8","9","T","J","Q","K","A"].indexOf(e)+2},Mn=function(){function t(e){Object(dn.a)(this,t),this.input=void 0,this.pos=void 0,this.negating=!1,this.memoSafe=!0,this.pos={overallPos:0,line:1,offset:0},this.input=e}return Object(hn.a)(t,[{key:"reset",value:function(t){this.pos=t}},{key:"finished",value:function(){return this.pos.overallPos===this.input.length}},{key:"clearMemos",value:function(){}},{key:"matchStart",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.matchHand(t+1,e))&&null!==n.match$EOF(e)&&(i={kind:Sn.Start,hand:r}),i}))}},{key:"matchHand",value:function(t,e){var n=this;return this.run(t,(function(){var r,i,c,u,a=null;return null!==(r=n.matchSuit(t+1,e))&&null!==n.regexAccept(String.raw(On||(On=Object(pn.a)(["(?:.)"],["(?:\\.)"]))),t+1,e)&&null!==(i=n.matchSuit(t+1,e))&&null!==n.regexAccept(String.raw(vn||(vn=Object(pn.a)(["(?:.)"],["(?:\\.)"]))),t+1,e)&&null!==(c=n.matchSuit(t+1,e))&&null!==n.regexAccept(String.raw(yn||(yn=Object(pn.a)(["(?:.)"],["(?:\\.)"]))),t+1,e)&&null!==(u=n.matchSuit(t+1,e))&&(a={kind:Sn.Hand,S:r,H:i,D:c,C:u}),a}))}},{key:"matchSuit",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.loop((function(){return n.matchCard(t+1,e)}),!0))&&(i={kind:Sn.Suit,cards:r}),i}))}},{key:"matchCard",value:function(t,e){var n=this;return this.run(t,(function(){var r,i=null;return null!==(r=n.regexAccept(String.raw(gn||(gn=Object(pn.a)(["(?:[AKQJT2-9])"]))),t+1,e))&&(i=new En(r)),i}))}},{key:"test",value:function(){var t=this.mark(),e=null!==this.matchStart(0);return this.reset(t),e}},{key:"parse",value:function(){var t=this.mark(),e=this.matchStart(0);if(e)return{ast:e,errs:[]};this.reset(t);var n=new Ln;this.clearMemos(),this.matchStart(0,n);var r=n.getErr();return{ast:e,errs:null!==r?[r]:[]}}},{key:"mark",value:function(){return this.pos}},{key:"loop",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.mark(),r=[];;){var i=t();if(null===i)break;r.push(i)}return e||r.length>0?r:(this.reset(n),null)}},{key:"run",value:function(t,e){var n=this.mark(),r=e();return null!==r?r:(this.reset(n),null)}},{key:"choice",value:function(t){var e,n=Object(fn.a)(t);try{for(n.s();!(e=n.n()).done;){var r=(0,e.value)();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"regexAccept",value:function(t,e,n){var r=this;return this.run(e,(function(){var e=new RegExp(t,"y"),i=r.mark();e.lastIndex=i.overallPos;var c=r.tryConsume(e);return n&&n.record(i,c,{kind:"RegexMatch",literal:t.substring(3,t.length-1),negated:r.negating}),c}))}},{key:"tryConsume",value:function(t){var e=t.exec(this.input);if(e){for(var n=0,r=-1,i=0;i<e[0].length;++i)"\n"===e[0][i]&&(++n,r=i);return this.pos={overallPos:t.lastIndex,line:this.pos.line+n,offset:-1===r?this.pos.offset+e[0].length:e[0].length-r-1},e[0]}return null}},{key:"noConsume",value:function(t){var e=this.mark(),n=t();return this.reset(e),n}},{key:"negate",value:function(t){var e=this.mark(),n=this.negating;this.negating=!n;var r=t();return this.negating=n,this.reset(e),null===r||null}},{key:"memoise",value:function(t,e){var n=this.mark(),r=e.get(n.overallPos);if(this.memoSafe&&void 0!==r)return this.reset(r[1]),r[0];var i=t();return this.memoSafe&&e.set(n.overallPos,[i,this.mark()]),i}},{key:"match$EOF",value:function(t){var e=this.finished()?{kind:Sn.$EOF}:null;return t&&t.record(this.mark(),e,{kind:"EOF",negated:this.negating}),e}}]),t}();var Dn,qn,Tn,Hn,In,$n,Wn,Gn,Kn=function(){function t(e,n){Object(dn.a)(this,t),this.pos=void 0,this.expmatches=void 0,this.pos=e,this.expmatches=Object(u.a)(n)}return Object(hn.a)(t,[{key:"toString",value:function(){return"Syntax Error at line ".concat(this.pos.line,":").concat(this.pos.offset,". Expected one of ").concat(this.expmatches.map((function(t){return"EOF"===t.kind?" EOF":" ".concat(t.negated?"not ":"","'").concat(t.literal,"'")})))}}]),t}(),Ln=function(){function t(){Object(dn.a)(this,t),this.mxpos={overallPos:-1,line:-1,offset:-1},this.regexset=new Set,this.pmatches=[]}return Object(hn.a)(t,[{key:"record",value:function(t,e,n){null===e!==n.negated&&(t.overallPos>this.mxpos.overallPos&&(this.mxpos=t,this.pmatches=[],this.regexset.clear()),this.mxpos.overallPos===t.overallPos&&("RegexMatch"===n.kind?(this.regexset.has(n.literal)||this.pmatches.push(n),this.regexset.add(n.literal)):this.pmatches.push(n)))}},{key:"getErr",value:function(){return-1!==this.mxpos.overallPos?new Kn(this.mxpos,this.pmatches):null}}]),t}(),Un=function(t){return Object(o.pipe)(j,a.l.map(function(t){return function(e){return Object(o.pipe)(t[e].cards,a.l.map((function(t){return{suit:e,rank:S.decode(t.rank).right}})))}}(t)),a.l.flatten,a.p.fromReadonlyArray(R))},Qn=function(t){return new Mn(t).parse()},Jn={encode:Object(o.flow)(E,a.o.toReadonlyArray,a.l.sort(F()),a.l.map(Object(o.flow)(a.q.snd,a.l.sort(C),a.l.reduce("",(function(t,e){return t+S.encode(e)})))),a.l.intersperse("."),a.l.foldMap(a.v.Monoid)(o.identity))},zn=function(t){return Object(o.pipe)(t,a.n.fromReadonlyArray,a.h.fold(Object(o.constant)(on.a(null,"No syntax errors reported")),a.n.foldMapWithIndex(sn.getSemigroup())((function(t,e){return sn.of(ln.index(t,"required",sn.of(ln.leaf({pos:e.pos,expmatches:e.expmatches},e.toString()))))}))))},Vn=function(t){return a.d.fromNullable(t.errs)(t.ast)},Zn=function(t){return Object(o.pipe)(on.c,on.b(Object(o.flow)(t,Vn,a.d.mapLeft(zn))))},Xn=Object(o.flow)(Zn(Nn).decode,a.d.map((function(t){return function(t){var e;return{bid:Fn(t.bid),constraint:Object(o.pipe)(null===(e=t.constraints)||void 0===e?void 0:e.constraints,a.h.fromNullable,a.h.fold((function(){return[]}),a.l.map((function(t){return t.constraint}))),_n("Conjunction",jt))}}(t.spec)}))),Yn=Object(o.flow)(Zn(Qn).decode,a.d.map((function(t){return Un(t.hand)}))),tr=function(){return a.y.make({blockKey:"root",text:"root",bid:a.h.none})},er={system:tr()},nr=function(t){return pt(a.h.Functor)((function(e,n){return e.blockKey===t?a.h.some([e]):Object(o.pipe)(n,a.l.findFirstMap(a.h.map(a.l.prepend(e))))}))},rr=a.y.reduce([],(function(t,e){return Object(o.pipe)(t,a.l.append(e))})),ir=Object(s.c)({name:"system",initialState:er,reducers:{setSystem:function(t,e){t.system=Object(o.pipe)(function(t){var e=tr(),n=[e];return t.forEach((function(t){var e=n[t.depth+1]={forest:[],value:{blockKey:t.key,text:t.text,bid:a.h.some(Xn(t.text))}};n[t.depth].forest.push(e)})),e}(e.payload),l.a)}}}),cr=ir.actions.setSystem,ur=function(t,e){return Object(o.pipe)(t.system,nr(e),a.h.toNullable)},ar=Object(o.flow)((function(t){return Object(o.pipe)(t.system,rr,a.l.map((function(t){return t.bid})),a.l.compact)}),a.l.separate,a.t.left),or=Object(o.flow)(a.y.map((function(t){return t.bid})),(function(t){return Object(o.pipe)(t.forest,a.l.map(a.y.traverse(a.h.Applicative)(a.h.chain(a.h.fromEither))),(function(t){return a.y.make(null,Object(o.pipe)(t,a.l.compact,a.l.toArray))}))})),lr=function(t){return or(t.system)},sr=a.y.fold((function(t,e){return 0===e.length||Object(o.pipe)(e,a.l.exists((function(t){return"Pass"===t.value.bid})))?a.y.make(t,e):a.y.make(t,Object(o.pipe)(e,a.l.append(a.y.make({bid:"Pass",constraint:{type:"Otherwise"}})),a.l.toArray))})),fr=function(t,e){return Object(o.pipe)(t,lr,(null===e||void 0===e?void 0:e.implicitPass)?sr:o.identity,bt(a.f.contramap((function(t){return t.bid}))(X)))},pr=Object(o.flow)(fr,ht),hr=Object(o.flow)(fr,an),dr=ir.reducer,br=n(76),mr=n(14),jr=n.n(mr),Or=n(36),vr=n(198),yr=n(37),gr=n(93),Sr=yr.f(a.p.toReadonlyArray(B),a.p.fromReadonlyArray(R)),kr=(Dn=Sr,yr.f(a.d.map(Dn.get),a.d.map(Dn.reverseGet))),xr=(Object(o.flow)(a.d.fromPredicate(gr.UuidTool.isUuid,(function(t){return on.a(t,"Invalid uuid string")})),a.d.map((function(t){return new gr.Uuid(t)}))),function(t){return Object(o.pipe)(new gr.Uuid(t.id).toBytes(),a.l.takeLeft(13),a.l.chain(Object(o.flow)((function(t){return a.l.unfold([t,4],(function(t){var e=Object(i.a)(t,2),n=e[0],r=e[1];return 0===r?a.h.none:a.h.some([3&n,[n>>2,r-1]])}))}),a.l.reverse)))}),Cr=b.b(b.e({id:b.d}),(function(t){return Object(o.pipe)(t,xr,a.l.reduce(a.b.replicate(4,0),(function(t,e){return t[e]+=1,t})),a.l.every((function(t){return 13===t})))}),"Deal"),_r={encode:Object(o.flow)(xr,a.n.zip(Object(o.pipe)(P,a.n.sort(B))),a.n.map((function(t){var e=Object(i.a)(t,2),n=e[0],r=e[1];return[D[n],r]})),a.n.groupBy(a.q.fst),a.o.map(Object(o.flow)(a.n.map(a.q.snd),a.p.fromReadonlyArray(R))))},wr={encode:Object(o.flow)(a.o.foldMapWithIndex(a.j.trivial)(a.l.getMonoid())((function(t,e){return Object(o.pipe)(e,a.p.toReadonlyArray(a.j.trivial),a.l.map((function(e){return[e,D.indexOf(t)]})))})),a.l.sort(a.j.contramap((function(t){return t[0]}))(B)),a.l.map(a.q.snd),a.l.chunksOf(4),a.l.map(a.l.reduce(0,(function(t,e){return(t<<2)+e}))),a.l.concat(a.l.replicate(3,0)),a.l.toArray,(function(t){return Cr.decode(new gr.Uuid(t)).right}))},Ar=yr.f(wr.encode,_r.encode),Rr=yr.f((function(t){return Object(f.a)(Object(f.a)({},t),{},{deal:Ar.get(t.deal)})}),(function(t){return Object(f.a)(Object(f.a)({},t),{},{deal:Ar.reverseGet(t.deal)})})),Br=yr.f((function(t){return"".concat(t.level).concat(t.strain)}),(function(t){return{level:parseInt(t.charAt(0)),strain:t.charAt(1)}})),Pr=yr.f((function(t){return Q(t)?t:Br.get(t)}),(function(t){return Q(t)?t:Br.reverseGet(t)})),Fr=b.b(b.d,(function(t){return Object(o.pipe)(t,a.v.split("."),a.l.every((function(t){return 2===t.length||Q(t)})))}),"BidPath"),Nr=yr.f(Object(o.flow)(a.l.map(Pr.get),a.l.intersperse("."),a.l.foldMap(a.v.Monoid)(o.identity),(function(t){return Fr.decode(t).right})),Object(o.flow)(a.v.split("."),a.n.map(Pr.reverseGet))),Er=n(301),Mr=n.n(Er),Dr=n(302),qr=n.n(Dr),Tr=n(598),Hr=n(63),Ir=n(599),$r=Math.max(window.navigator.hardwareConcurrency-2,1),Wr=function(t){return Object(o.pipe)($r,t,(function(t){return a.l.makeBy($r,t)}),(function(t){return Object(Hr.a)(t)}))},Gr=function(t){return Object(o.pipe)(function(t){var e=new qr.a;return Object(o.pipe)((function(){return e.genDeals(t)}),Or.a.fromTask).pipe(Object(Tr.a)())}(Math.ceil(Math.log(t))),Or.a.chain((function(t){return Object(Hr.a)(t)}))).pipe(Object(Ir.a)(t))},Kr=function(t){var e=new Mr.a;return Object(o.pipe)(Object(Hr.a)(t),Or.a.chain((function(t){return Object(Hr.a)(e.getResult(t))})))},Lr=function(t){return Wr((function(e){var n=Math.floor(t.length/e),r=Math.floor(t.length%e);return function(i){return Kr(i===e-1?Object(o.pipe)(t,a.l.takeRight(n+r)):Object(o.pipe)(t.slice(i*n,(i+1)*n)))}}))},Ur={selectedBlockKey:a.h.none},Qr=function(t){return function(e){var n=Object(i.a)(e,2),r=n[0],c=n[1];t.opener=Object(o.pipe)(r,a.d.right,kr.get,l.a),t.responder=Object(o.pipe)(c,a.d.right,kr.get,l.a)}},Jr=Object(s.b)("abc",(function(t){var e=t.opener,n=t.responder;return Object(o.pipe)(function(t,e){return Object(o.pipe)(M(),a.l.difference(R)(Object(o.pipe)(t,a.p.toReadonlyArray(B))),a.l.difference(R)(Object(o.pipe)(e,a.p.toReadonlyArray(B))),a.l.chunksOf(13),a.l.map(a.p.fromReadonlyArray(R)),(function(n){var r=Object(i.a)(n,2),c=r[0],u=r[1];return{dealer:"N",deal:{N:t,S:e,E:c,W:u}}}))}(Sr.reverseGet(e),Sr.reverseGet(n)),Rr.get,a.n.of,Kr,Or.a.toTask,(function(t){return t()}))})),zr=function(t){return function(e){return Object(vr.tailRec)(t,(function(t){if(Object(o.pipe)(t,a.h.fold(o.constFalse,(function(t){return 0===t}))))return a.d.right(a.h.none);var n,r=(n=M(),Object(o.pipe)(D,a.n.zip(a.n.chunksOf(13)(n)),a.n.groupBy(a.q.fst),a.o.map(Object(o.flow)(a.n.head,a.q.snd,a.p.fromReadonlyArray(R))),(function(t){return t}))),i=[r.N,r.S];return e(i)?a.d.right(a.h.some(i)):a.d.left(Object(o.pipe)(t,a.h.map((function(t){return t-1}))))}))}},Vr=function(t){return function(e){return zr(a.h.some(1e4))((function(n){return Object(o.pipe)(e,a.l.partition(Qe.apply(void 0,Object(u.a)(n))),a.t.right,(function(e){return t(e.length)}))}))}},Zr=Object(s.c)({name:"selection",initialState:Ur,reducers:{setSelectedBlockKey:function(t,e){t.selectedBlockKey=e.payload},setHand:{reducer:function(t,e){t[e.meta]=Object(o.pipe)(e.payload,Yn,kr.get,l.a)},prepare:function(t,e){return{payload:t,meta:e}}},genOnce:function(t){Object(o.pipe)(zr(a.h.none)(o.constTrue),a.h.map(Qr(t)))},getHandsMatchingPath:function(t,e){Object(o.pipe)(zr(a.h.some(1e4))((function(t){return Qe.apply(void 0,Object(u.a)(t))(e.payload)})),a.h.map(Qr(t)))},genHandsNotMatchingAnyOf:{reducer:function(t,e){Object(o.pipe)(zr(a.h.some(1e4))((function(t){return Y(t[0])>=e.meta&&Object(o.pipe)(e.payload,a.l.every(a.k.not(Qe.apply(void 0,Object(u.a)(t)))))})),a.h.map(Qr(t)))},prepare:function(t,e){return{payload:t,meta:e}}},genHandsMatchingExactlyOneOf:function(t,e){Object(o.pipe)(Vr((function(t){return 1===t}))(e.payload),a.h.map(Qr(t)))},genHandsMatchingMoreThanOneOf:function(t,e){Object(o.pipe)(Vr((function(t){return t>1}))(e.payload),a.h.map(Qr(t)))}},extraReducers:function(t){return t.addCase(Jr.fulfilled,(function(t,e){t.result=Object(o.pipe)(e.payload,l.a)}))}}),Xr=Zr.actions,Yr=Xr.setSelectedBlockKey,ti=Xr.setHand,ei=Xr.genOnce,ni=Xr.getHandsMatchingPath,ri=Xr.genHandsNotMatchingAnyOf,ii=Xr.genHandsMatchingExactlyOneOf,ci=Xr.genHandsMatchingMoreThanOneOf,ui=Zr.reducer,ai=function(t,e){return Object(o.pipe)(t[e],a.h.fromNullable,a.h.chain(Object(o.flow)(kr.reverseGet,a.h.fromEither)))},oi=n(120),li=function(){return Object(oi.b)()},si=oi.c,fi=n(7),pi=function(){var t=Object(mr.useState)((function(){return br.EditorState.createEmpty()})),e=Object(i.a)(t,2),n=e[0],r=e[1],c=li(),u=Object(mr.useCallback)((function(t){r(t),localStorage.setItem("editor",JSON.stringify(Object(br.convertToRaw)(t.getCurrentContent()))),c(cr(function(t){return t.getCurrentContent().getBlockMap().toArray().map((function(t){return{key:t.getKey(),text:t.getText(),depth:t.getDepth()}}))}(t))),c(Yr(a.h.some(t.getSelection().getFocusKey())))}),[c]);return Object(mr.useEffect)((function(){var t=localStorage.getItem("editor");r(t?function(){return br.EditorState.createWithContent(Object(br.convertFromRaw)(JSON.parse(t)))}:function(){return br.RichUtils.toggleBlockType(n,"unordered-list-item")})}),[]),Object(fi.jsx)(br.Editor,{editorState:n,onChange:u,keyBindingFn:function(t){if(9===t.keyCode){var e=br.RichUtils.onTab(t,n,10);return e!==n&&u(e),null}return Object(br.getDefaultKeyBinding)(t)}})},hi=n(602),di=n(19),bi=n(600),mi=n(601),ji=n(604),Oi=n(104),vi=function(t){return Object(o.pipe)(G,a.l.elem($)(t))?20:30},yi=function(t){switch(t){case"Undoubled":return 1;case"Doubled":return 2;case"Redoubled":return 4;default:return p(t)}},gi=function(t){return t-6},Si=function(t,e){return Object(o.pipe)(e,gi,a.d.fromPredicate((function(e){return e>=t.level}),(function(e){return t.level-e})))},ki=Object(o.flow)(Si,a.h.fromEither),xi=function(t){return function(e){return Object(o.pipe)(ki(e.contract,e.tricks),a.h.fold(Object(o.constant)(0),t))}},Ci=function(t){return Object(o.pipe)(t,xi((function(){return yi(t.contract.modifier)*(t.contract.level*vi(t.contract.strain)+("N"===t.contract.strain?10:0))})))},_i=function(t){return 50*(t?2:1)},wi=function(t){return"Undoubled"===t?a.h.none:a.h.some(t)},Ai=[100,200,200].concat(Object(u.a)(a.l.replicate(10,300))),Ri=Object(o.flow)(Ci,(function(t){return t>0&&t<=100?50:0})),Bi={contractPoints:Ci,overtrickPoints:function(t){return Object(o.pipe)((e=t.contract,n=t.tricks,Object(o.pipe)(Si(e,n),a.h.fromEither,a.h.map((function(t){return t-e.level})))),a.h.fold(Object(o.constant)(0),(function(e){return Object(o.pipe)((n=t.isVulnerable,r=t.contract.modifier,Object(o.pipe)(r,wi,a.h.map(yi),a.h.map((function(t){return t*_i(n)})))),a.h.getOrElseW((function(){return vi(t.contract.strain)})),(function(t){return e*t}));var n,r})));var e,n},slamPoints:function(t){return Object(o.pipe)(t,xi((function(e){return(t.isVulnerable?1.5:1)*(6===t.contract.level&&e>=6?500:7===t.contract.level&&e>=7?1e3:0)})))},modifierPoints:function(t){return Object(o.pipe)(t,xi((function(){switch(t.contract.modifier){case"Undoubled":return 0;case"Doubled":return 50;case"Redoubled":return 100;default:return p(t.contract.modifier)}})))},penaltyPoints:function(t){return Object(o.pipe)((e=t.contract,n=t.tricks,Object(o.pipe)(Si(e,n),a.d.swap,a.h.fromEither)),a.h.fold(Object(o.constant)(0),(function(e){return Object(o.pipe)(t.contract.modifier,wi,a.h.fold((function(){return e*_i(t.isVulnerable)}),Object(o.flow)(yi,(function(n){return n/2*Object(o.pipe)(Ai,a.l.takeLeft(e+(t.isVulnerable?1:0)),a.l.foldMap(a.g.MonoidSum)(o.identity))}))),(function(t){return-t}))})));var e,n},partScorePoints:Ri,gamePoints:function(t){return Object(o.pipe)(t,Ci,(function(e){return e>=100?t.isVulnerable?500:300:0}))}},Pi=b.b(b.c,(function(t){return"number"===typeof t}),"Score"),Fi=(Pi.decode(0).right,a.g.Eq,Object(o.pipe)(a.g.Ord,a.j.reverse),Object(o.flow)((function(t){return Object(o.pipe)(Bi,a.o.flap(t),a.o.traverseWithIndex(a.z.getApplicative(a.l.getMonoid()))((function(t,e){return Object(o.pipe)(a.z.tell([[t,e]]),a.z.map(Object(o.constant)(e)))})),a.z.map(Object(o.flow)(a.o.foldMap(a.j.trivial)(a.g.MonoidSum)(o.identity),Pi.decode,(function(t){return t.right}))),a.z.map((function(t){return[t,function(e){return[["TOTAL",t]].concat(Object(u.a)(e))}]})),a.z.pass)}),a.z.evaluate),function(t){return Object(o.pipe)(a.l.Do,a.l.apS("inner",Object(o.pipe)(t,a.o.toReadonlyArray)),a.l.bind("outer",(function(t){var e=t.inner;return Object(o.pipe)(e[1],a.o.toReadonlyArray)})),a.l.map((function(t){var e=t.outer,n=t.inner;return{outerKey:e[0],innerKey:n[0],value:e[1]}})))}),Ni=function(t){return Object(o.pipe)(t,Fi,a.n.fromReadonlyArray,a.h.fold((function(){return{}}),a.n.groupBy((function(t){return t.outerKey}))),a.o.map(Object(o.flow)(a.n.fromReadonlyArray,a.h.fold((function(){return{}}),a.n.groupBy((function(t){return t.innerKey}))),a.o.map((function(t){return t[0].value})))))},Ei=Object(o.pipe)(V,a.l.sort(z),a.l.prepend("Pass")),Mi=(h(Ei),d(Ei),{encode:Object(o.flow)(a.o.foldMapWithIndex(a.j.trivial)(a.l.getMonoid())((function(t,e){return Object(o.pipe)(e,a.p.toReadonlyArray(a.j.trivial),a.l.map((function(e){return[e,D.indexOf(t)]})))})),a.l.sort(a.j.contramap((function(t){return t[0]}))(B)),a.l.map(a.q.snd),a.l.chunksOf(4),a.l.map(a.l.reduce(0,(function(t,e){return(t<<2)+e}))),a.l.concat(a.l.replicate(3,0)),a.l.toArray,(function(t){return new gr.Uuid(t)}))}),Di="https://api.contractbridge.app",qi=function(t){return a.x.tryCatchK(t,a.d.toError)()},Ti=Object(o.pipe)((function(){return fetch("".concat(Di,"/ping"))}),qi,a.x.chainTaskK((function(t){return function(){return t.text()}})),a.x.filterOrElse((function(t){return"pong"===t}),(function(){return new Error("'pong' was not received")}))),Hi=a.l.foldMap(a.o.getUnionMonoid(a.s.first()))((function(t){var e=Object(i.a)(t,2),n=e[0],r=e[1];return Object(di.a)({},Mi.encode(n).toString(),Object(o.pipe)(n,a.o.mapWithIndex((function(t,e){return{hcp:Y(e),shape:ut(e),tricks:Object(o.pipe)(r,a.h.map((function(e){return e[t]})),a.h.toUndefined)}}))))})),Ii=Object(o.flow)(a.l.map((function(t){return[t,a.h.none]})),Hi),$i=function(t){return Object(o.pipe)(t,Ii,JSON.stringify,a.w.of,a.w.chain((function(t){return function(){return fetch("".concat(Di,"/deals"),{method:"POST",body:t})}})),qi)},Wi=function(t){return Object(o.pipe)(t,Hi,JSON.stringify,a.w.of,a.w.chain((function(t){return function(){return fetch("".concat(Di,"/deals"),{method:"PUT",body:t})}})),qi)},Gi=function(t){return[t,0]},Ki=function(t){return function(e){return function(n){return function(r){return Object(o.pipe)(r,a.q.bimap((function(t){return t-e}),(function(e){return t.concat(e,n)})))}}}},Li={deals:Gi([]),results:Gi({}),working:!1},Ui=Object(s.c)({name:"generator",initialState:Li,reducers:{generate:function(t,e){t.deals=Object(o.pipe)(t.deals,a.q.mapSnd(Object(o.constant)(e.payload)),l.a),t.working=!0},getResults:function(t,e){t.results=Object(o.pipe)(t.results,a.q.mapSnd(Object(o.constant)(e.payload.deals.length)),l.a),t.working=!0},reportDeals:function(t,e){t.deals=Object(o.pipe)(t.deals,Ki(a.l.getSemigroup())(e.payload.length)(e.payload),l.a)},reportResults:function(t,e){t.results=Object(o.pipe)(t.results,Ki(a.o.getUnionSemigroup(a.n.getSemigroup()))(Object(o.pipe)(e.payload,a.o.toReadonlyArray,a.l.foldMap(a.g.MonoidSum)((function(t){var e=Object(i.a)(t,2);e[0];return e[1].length}))))(e.payload),l.a)},done:function(t){t.working=!1}}}),Qi=Ui.actions,Ji=Qi.generate,zi=Qi.getResults,Vi=Qi.reportDeals,Zi=Qi.reportResults,Xi=Qi.done,Yi=Ui.reducer,tc=function(t){return Object(o.pipe)(t.deals,a.q.fst)},ec=(Object(o.flow)(tc,a.l.map(Object(o.flow)(Ar.reverseGet,(function(t){return[t.N,t.S]})))),Object(s.c)({name:"settings",initialState:{implicitPass:!1,generateCount:1e4},reducers:{setInitial:function(t,e){Object(o.pipe)(Object.keys(e.payload),a.l.map((function(n){return t[n]=e.payload[n]})))},setProperty:{reducer:function(t,e){t[e.meta]=e.payload},prepare:function(t,e){return{payload:e,meta:t}}}}})),nc=ec.actions,rc=nc.setProperty,ic=nc.setInitial,cc={system:dr,selection:ui,generator:Yi,settings:ec.reducer},uc=Object(hi.a)((function(t,e){return t.pipe(Object(bi.a)(Ji.match),Or.a.map((function(t){return t.payload})),Or.a.chain(Object(o.flow)((function(t){return t>$r?Object(o.pipe)(function(t){return Wr((function(e){var n=Math.floor(t/e),r=Math.floor(t%e);return function(t){return Gr(0===t?n+r:n)}}))}(t),Or.a.flatten):Gr(t)}),Object(mi.a)(1e3),Or.a.map(Vi),Object(ji.a)([Xi()]))))}),(function(t,e){return t.pipe(Object(bi.a)(zi.match),Or.a.chain((function(t){return Object(o.pipe)(t.payload.deals,a.l.mapWithIndex((function(t,e){return Object(o.pipe)(e,Ar.reverseGet,(n=t+1,function(t){return{number:n,dealer:D[(n-1)%D.length],deal:t,vulnerability:K(n)}}),Rr.get);var n})),a.n.fromReadonlyArray,a.h.fold((function(){return Object(Hr.a)([])}),(function(e){return t.payload.deals.length>$r?Object(o.pipe)(e,Lr,Or.a.flatten):Object(o.pipe)(e,Kr)})),Object(mi.a)(5),Or.a.map(Object(o.flow)(a.n.fromReadonlyArray,a.h.fold((function(){return Zi({})}),(function(e){return Object(o.pipe)(t.payload.path,a.n.map((function(t){return t.bid})),Nr.get,(function(t){return Zi(Object(di.a)({},t,e))}))})))),Object(ji.a)([Xi()]))})))}),(function(t,e){return t.pipe(Object(bi.a)(Vi.match),Or.a.map((function(t){return t.payload})),Or.b.fromObservable,Or.b.chainFirst((function(){return Object(o.pipe)(Ti,Or.b.fromTaskEither)})),Or.b.chainFirst(Object(o.flow)(a.l.map(Ar.reverseGet),$i,Or.b.fromTaskEither)),Or.a.chain((function(t){return Oi.a})))}),(function(t,e){return t.pipe(Object(bi.a)(Zi.match),Or.a.map((function(t){return t.payload})),Or.b.fromObservable,Or.b.chainFirst((function(){return Object(o.pipe)(Ti,Or.b.fromTaskEither)})),Or.b.chainFirst(Object(o.flow)(a.o.toReadonlyArray,a.l.chain(a.q.snd),a.l.map((function(t){return[Ar.reverseGet(t.board.deal),Object(o.pipe)(t.results,Ni,a.h.some)]})),Wi,Or.b.fromTaskEither)),Or.a.chain((function(t){return Oi.a})))})),ac=function(t){return Object(o.pipe)(a.h.Do,a.h.apS("blockKey",t.selection.selectedBlockKey),a.h.apS("opener",ai(t.selection,"opener")),a.h.apS("responder",ai(t.selection,"responder")),a.h.chain((function(e){return Object(o.pipe)(function(t,e){return Object(o.pipe)(nr(e)(t.system),a.h.getOrElse((function(){return[]})),a.l.map((function(t){return t.bid})),a.l.compact,a.l.sequence(a.d.Applicative))}(t.system,e.blockKey),a.h.fromEither,a.h.chain(a.n.fromReadonlyArray),a.h.map((n=e.opener,r=e.responder,Object(o.flow)(a.n.map((function(t){return Object(f.a)(Object(f.a)({},t),{},{siblings:[]})})),Qe(n,r)))));var n,r})),a.h.toNullable)},oc=function(t){return Object(o.pipe)(a.h.Do,a.h.apS("opener",ai(t.selection,"opener")),a.h.apS("responder",ai(t.selection,"responder")),a.h.map((function(e){return Object(o.pipe)(pr(t.system,t.settings),a.l.map((function(t){return{path:t,result:Qe(e.opener,e.responder)(t)}})))})),a.h.toNullable)},lc=Object(o.pipe)(a.g.Ord,a.j.reverse,a.j.contramap((function(t){return t.count}))),sc=function(t){return Object(o.pipe)(a.l.Do,a.l.apS("deal",tc(t.generator)),a.l.apS("path",pr(t.system,t.settings)),a.l.map((function(t){return{deal:t.deal,path:t.path,result:Object(o.pipe)(t.deal,Ar.reverseGet,(function(t){return Qe(t.N,t.S)}))(t.path)}})),a.n.fromReadonlyArray,a.h.map(Object(o.flow)(a.n.groupBy((function(t){return Object(o.pipe)(t.path,a.n.map((function(t){return t.bid})),Nr.get)})),a.o.filterMap(Object(o.flow)(a.n.filter((function(t){return t.result})),a.h.map((function(t){return{path:t[0].path,count:t.length,deals:Object(o.pipe)(t,a.n.map((function(t){return t.deal})))}})))),a.o.toReadonlyArray,a.l.map(a.q.snd),a.l.sort(lc))),a.h.toNullable)},fc=function(){var t=si((function(t){return t.selection.selectedBlockKey})),e=si((function(e){return Object(o.pipe)(t,a.h.map((function(t){return ur(e.system,t)})),a.h.toNullable)})),n=si((function(e){return Object(o.pipe)(t,a.h.chain((function(t){return Object(o.pipe)(function(t,e){return Object(o.pipe)(t.system,nr(e),a.h.chain(a.l.last),a.h.toNullable)}(e.system,t),a.h.fromNullable)})),a.h.chain((function(t){return t.bid})),a.h.chain(a.h.fromEither),a.h.toNullable)})),r=si(ac);return Object(fi.jsxs)("section",{children:[Object(fi.jsx)("h3",{children:"Selection"}),e&&Object(fi.jsxs)("div",{children:[Object(fi.jsx)("h4",{children:"Selected Path"}),e.map((function(t){return t.text})).join(" > ")]}),n&&Object(fi.jsxs)("div",{children:[Object(fi.jsx)("h4",{children:"Selected Bid"}),Object(o.pipe)(n,a.h.fromNullable,a.h.map(JSON.stringify),a.h.toNullable),null!==r&&Object(fi.jsxs)("div",{children:[Object(fi.jsx)("h4",{children:"Satisfies"}),r.toString()]})]})]})},pc=function(t){var e=t.label,n=t.prop,r=t.parse,i=t.onChanged,c=t.children,u=si((function(t){return t.settings[n]})),a=li(),l=Object(mr.useCallback)((function(t){a(rc(n,t)),i&&i(t)}),[a,i,n]);return Object(fi.jsxs)("p",{children:[Object(fi.jsx)("span",{children:null!==e&&void 0!==e?e:n}),Object(fi.jsx)("span",{children:c?c({value:u,onChange:Object(o.flow)(r,l,o.constVoid)}):Object(fi.jsx)("input",{type:"text",value:u.toString(),onChange:function(t){return Object(o.pipe)(t.target.value,r,l)},style:{width:"100px"}})})]})},hc="settings",dc=function(){var t=si((function(t){return t.settings})),e=li();Object(mr.useEffect)((function(){var t=localStorage.getItem(hc);if(null!==t){var n=JSON.parse(t);e(ic(n))}}),[e]);var n=Object(mr.useCallback)((function(e,n){var r=Object(f.a)(Object(f.a)({},t),{},Object(di.a)({},e,n));localStorage.setItem(hc,JSON.stringify(r))}),[t]);return Object(fi.jsxs)("section",{children:[Object(fi.jsx)(pc,{label:"Implicit Pass",prop:"implicitPass",parse:function(t){return"true"===t},onChanged:function(t){return n("implicitPass",t)},children:function(t){var e=t.value,n=t.onChange;return Object(fi.jsx)("input",{type:"checkbox",checked:e,onChange:function(t){return n(t.target.checked.toString())}})}}),Object(fi.jsx)(pc,{label:"Generate Count",prop:"generateCount",parse:parseInt,onChanged:function(t){return n("generateCount",t)}})]})},bc=n(163),mc=n(164),jc=n(141),Oc=yr.f((function(t){var e=Object(i.a)(t,2);return e[0]+e[1]}),(function(t){return[t.charAt(0),t.charAt(1)]})),vc=Object(o.pipe)(Object(jc.sequenceT)(a.n.Apply)(D,I),a.n.map(Oc.get)),yc=Object(o.flow)(a.l.map((function(t){return Object(o.pipe)(t,Fi,a.l.map((function(t){var e=t.outerKey,n=t.innerKey,r=t.value;return["".concat(e).concat(n),r]})),a.o.fromFoldable(a.s.first(),a.l.Foldable))})),mc.a),gc=function(t){return function(e){return Object(o.pipe)(vc,a.n.groupBy((function(t){return t})),a.o.map((function(e){return t(e)})),(function(t){return e.rollup(t)}),(function(t){return t.object()}),a.o.toReadonlyArray,a.l.map(a.q.mapFst(Oc.reverseGet)),a.n.fromReadonlyArray,a.h.fold((function(){return{}}),Object(o.flow)(a.n.groupBy((function(t){var e=Object(i.a)(t,2),n=Object(i.a)(e[0],2),r=(n[0],n[1]);e[1];return r})),a.o.map(Object(o.flow)(a.n.groupBy((function(t){var e=Object(i.a)(t,2),n=Object(i.a)(e[0],2),r=n[0];n[1],e[1];return r})),a.o.map(Object(o.flow)(a.n.head,(function(t){var e=Object(i.a)(t,2);e[0];return e[1]}))))))))}},Sc=gc(mc.b.mean),kc=gc(mc.b.stdev),xc=n(67),Cc=xc.a.span(qn||(qn=Object(pn.a)(['\n  &.S::after { content: "\u2660"; color: #0000FF; }\n  &.H::after { content: "\u2665"; color: #FF0000; }\n  &.D::after { content: "\u2666"; color: #FFA500; }\n  &.C::after { content: "\u2663"; color: #32CD32; }\n  &.N::after { content: "NT" }\n']))),_c=function(t){return Object(fi.jsxs)(fi.Fragment,{children:[Object(fi.jsx)("span",{children:t.level}),Object(fi.jsx)(Cc,{className:t.strain})]})},wc=function(t){var e=t.bid;return Object(fi.jsx)("span",{children:e})},Ac=function(t){var e=t.path;return Object(fi.jsx)(fi.Fragment,{children:e.map((function(t){return t.bid})).map((function(t,e){return Object(fi.jsxs)(mr.Fragment,{children:["\xa0","string"===typeof t?Object(fi.jsx)(wc,{bid:t}):Object(fi.jsx)(_c,Object(f.a)({},t))]},e)}))})},Rc=xc.a.ol(Tn||(Tn=Object(pn.a)(["\n  padding-left: 0;\n"]))),Bc=xc.a.li(Hn||(Hn=Object(pn.a)(["\n  list-style-type: none;\n  display: inline;\n  float: left;\n"]))),Pc=function(t){var e=t.rank;return Object(fi.jsx)(Bc,{children:y[e-2]})},Fc=xc.a.ol(In||(In=Object(pn.a)(["\n  white-space: nowrap;\n  width: 15em;\n  margin: 0;\n  padding-left: 0;\n  list-style: decimal url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7) inside;\n"]))),Nc=xc.a.li($n||($n=Object(pn.a)(["\n  display: inline;\n  &::before {\n    display: inline;\n    float: left;\n    margin-left: 5px;\n  }\n  ","\n"])),'\n  &.S::before { content: "\u2660"; color: #0000FF }\n  &.H::before { content: "\u2665"; color: #FF0000 }\n  &.D::before { content: "\u2666"; color: #FFA500 }\n  &.C::before { content: "\u2663"; color: #32CD32 }\n'),Ec=function(t){var e=t.suit,n=t.ranks;return Object(fi.jsx)(Nc,{className:e,children:Object(fi.jsxs)(Rc,{children:[n.map((function(t,e){return Object(fi.jsx)(Pc,{rank:t},e)})),0===n.length&&Object(fi.jsx)(Bc,{children:"-"})]})})},Mc=function(t){var e=t.hand,n=E(e);return Object(fi.jsx)(Fc,{children:Object(o.pipe)(n,a.o.mapWithIndex((function(t,e){return Object(fi.jsx)(Ec,{suit:t,ranks:e},t)})),a.o.toReadonlyArray,a.l.sort(F()),a.l.map(a.q.snd))})},Dc=xc.a.span(Wn||(Wn=Object(pn.a)(["\n  ",'\n  &.N::before { content: "NT"; color: #000000; font-size: 12px; }\n'])),'\n  &.S::before { content: "\u2660"; color: #0000FF }\n  &.H::before { content: "\u2665"; color: #FF0000 }\n  &.D::before { content: "\u2666"; color: #FFA500 }\n  &.C::before { content: "\u2663"; color: #32CD32 }\n'),qc=function(t){var e=t.table;return Object(fi.jsxs)("table",{children:[Object(fi.jsx)("thead",{children:Object(fi.jsxs)("tr",{children:[Object(fi.jsx)("th",{}),I.map((function(t,e){return Object(fi.jsx)("th",{style:{fontWeight:"normal",verticalAlign:"middle"},children:Object(fi.jsx)(Dc,{className:t})},e)}))]})}),Object(fi.jsx)("tbody",{children:D.map((function(t,n){return Object(fi.jsxs)("tr",{children:[Object(fi.jsx)("td",{children:t}),I.map((function(n,r){return Object(fi.jsx)("td",{children:Math.round(100*e[n][t])/100},r)}))]},n)}))})]})},Tc=function(t){var e=t.result;return Object(fi.jsxs)("table",{children:[Object(fi.jsx)("thead",{children:Object(fi.jsxs)("tr",{children:[Object(fi.jsx)("th",{}),I.map((function(t,e){return Object(fi.jsx)("th",{style:{fontWeight:"normal",verticalAlign:"middle"},children:Object(fi.jsx)(Dc,{className:t})},e)}))]})}),Object(fi.jsx)("tbody",{children:D.map((function(t,n){return Object(fi.jsxs)("tr",{children:[Object(fi.jsx)("td",{children:t}),I.map((function(n,r){return Object(fi.jsx)("td",{children:e.results[n][t]},r)})),Object(fi.jsx)("td",{children:Object(fi.jsx)(Mc,{hand:Ar.reverseGet(e.board.deal)[t]})})]},n)}))})]})},Hc=function(t){var e=t.result,n=li(),r=si((function(t){return function(t,e){return Object(o.pipe)(t.results[0],a.o.lookup(e),a.h.toNullable)}(t.generator,Object(o.pipe)(e.path,a.n.map((function(t){return t.bid})),Nr.get))})),i=r&&yc(Object(o.pipe)(r,a.n.map((function(t){return t.results})))),c=i&&Sc(i),u=i&&kc(i);return Object(fi.jsxs)(fi.Fragment,{children:[Object(fi.jsx)(Ac,{path:e.path}),": \xa0",Object(fi.jsx)("span",{children:e.count.toString()}),null!==c&&Object(fi.jsxs)("section",{children:[Object(fi.jsx)("h4",{children:"Average"}),null!==c&&Object(fi.jsx)(qc,{table:c})]}),null!==u&&Object(fi.jsxs)("section",{children:[Object(fi.jsx)("h4",{children:"Std. Dev."}),Object(fi.jsx)(qc,{table:u})]}),null===r&&Object(fi.jsx)("button",{onClick:function(t){return n(zi({path:e.path,deals:e.deals}))},children:"DDS"})]})},Ic=function(){var t=si(sc);return Object(fi.jsx)(fi.Fragment,{children:null!==t&&Object(fi.jsxs)("div",{children:[Object(fi.jsx)("h3",{children:"Results"}),Object(fi.jsx)("ul",{children:t.map((function(t,e){return Object(fi.jsx)("li",{children:Object(fi.jsx)(Hc,{result:t})},e)}))})]})})},$c=function(){var t=si((function(t){return function(t){return{deals:t.deals[1],results:t.results[1]}}(t.generator)}));return Object(fi.jsxs)("div",{children:[Object(fi.jsxs)("p",{children:["Deals: ",t.deals," remaining"]}),Object(fi.jsxs)("p",{children:["Results: ",t.results," remaining"]})]})},Wc=function(){var t=si((function(t){return Object(o.pipe)(t.generator.working)})),e=si((function(t){return t.settings.generateCount})),n=li(),r=si((function(t){return pr(t.system,t.settings)})),i=si((function(t){return ar(t.system)})),c=si((function(t){return hr(t.system,t.settings)})),u=null!==r&&r.length>0&&0===i.length&&c;return Object(fi.jsxs)("section",{children:[Object(fi.jsx)("h3",{children:"Stats"}),!u&&Object(fi.jsxs)("div",{children:[Object(fi.jsx)("p",{children:"Select the system and/or fix errors"}),null===r&&Object(fi.jsx)("p",{children:"No complete rules found or system not selected"}),!c&&Object(fi.jsx)("p",{children:"System is not valid"}),i.length>0&&Object(fi.jsxs)("div",{children:[Object(fi.jsx)("h4",{children:"Errors"}),Object(fi.jsx)("ul",{children:i.map((function(t,e){return Object(fi.jsx)("li",{children:Object(bc.draw)(t)},e)}))})]})]}),u&&Object(fi.jsxs)("div",{children:[Object(fi.jsx)("button",{type:"button",onClick:function(){return n(Ji(e))},children:"Generate deals"}),t?Object(fi.jsx)("span",{children:"Generating..."}):Object(fi.jsx)("span",{children:"Ready!"}),t&&Object(fi.jsx)($c,{}),!t&&Object(fi.jsx)(Ic,{})]})]})},Gc=function(t){var e=t.value,n=t.children,r=t.onNone;return Object(o.pipe)(e,a.h.fold((function(){return r?r():Object(fi.jsx)(fi.Fragment,{})}),n))},Kc=function(){var t=li();return Object(fi.jsx)("button",{type:"button",onClick:function(){return t(ei())},children:"Random"})},Lc=function(t){var e=t.bidPaths,n=li(),r=Object(mr.useState)(11),c=Object(i.a)(r,2),u=c[0],a=c[1];return Object(fi.jsx)(fi.Fragment,{children:e&&Object(fi.jsxs)("span",{children:[Object(fi.jsx)("button",{type:"button",onClick:function(){return n(ri(e,u))},children:"Zero"}),"Min HCP",Object(fi.jsx)("input",{type:"number",style:{width:50},value:u,onChange:function(t){return a(parseInt(t.target.value))}})]})})},Uc=function(t){var e=t.bidPaths,n=li();return Object(fi.jsx)(fi.Fragment,{children:e&&Object(fi.jsx)("span",{children:Object(fi.jsx)("button",{type:"button",onClick:function(){return n(ii(e))},children:"One"})})})},Qc=function(t){var e=t.bidPaths,n=li();return Object(fi.jsx)(fi.Fragment,{children:e&&Object(fi.jsx)("span",{children:Object(fi.jsx)("button",{type:"button",onClick:function(){return n(ci(e))},children:"Many"})})})},Jc=function(){var t=si((function(t){return function(t){return Object(o.pipe)(t.selectedBlockKey,a.h.toNullable)}(t.selection)})),e=si((function(e){return null!==t?function(t,e){return Object(o.pipe)(ur(t,e),a.h.fromNullable,a.h.chain((function(t){return Object(o.pipe)(a.y.unfoldTree([tr().value].concat(Object(u.a)(t)),(function(t){var e=Object(c.a)(t),n=e[0],r=e.slice(1);return[n,0===r.length?[]:[r]]})),or,bt(a.f.contramap((function(t){return t.bid}))(X)),ht,a.l.head)})),a.h.toNullable)}(e.system,t):null})),n=li();return Object(fi.jsx)(fi.Fragment,{children:e&&Object(fi.jsx)("button",{type:"button",onClick:function(){return n(ni(e))},children:"Selected"})})},zc=function(){var t=si((function(t){return Object(o.pipe)(pr(t.system,t.settings),a.n.fromReadonlyArray,a.h.toNullable)}));return Object(fi.jsxs)("section",{children:[Object(fi.jsx)("h4",{children:"Generate Hands"}),Object(fi.jsx)(Kc,{}),Object(fi.jsx)(Jc,{}),Object(fi.jsx)(Lc,{bidPaths:t}),Object(fi.jsx)(Uc,{bidPaths:t}),Object(fi.jsx)(Qc,{bidPaths:t})]})},Vc=function(t){var e=t.type,n=li(),r=Object(mr.useState)(""),c=Object(i.a)(r,2),u=c[0],l=c[1],s="hand.".concat(e),f=si((function(t){return Object(o.pipe)(ai(t.selection,e),a.h.map(Jn.encode),a.h.toNullable)})),p=Object(mr.useCallback)((function(t){l(t),n(ti(t,e))}),[n,e]);return Object(mr.useEffect)((function(){var t=localStorage.getItem(s);t&&p(t)}),[p,s,e]),Object(fi.jsx)("input",{type:"text",placeholder:"AKQJ.T987.654.32",value:null!==f&&void 0!==f?f:u,onChange:function(t){return p(t.target.value)},onBlur:function(){return localStorage.setItem(s,u)}})},Zc=xc.a.th(Gn||(Gn=Object(pn.a)(["\n  width: 15em;\n"]))),Xc=function(){var t=li(),e=[si((function(t){return ai(t.selection,"opener")})),si((function(t){return ai(t.selection,"responder")}))],n=e[0],r=e[1],i=Object(mr.useCallback)((function(){return Object(o.pipe)(a.h.Do,a.h.apS("opener",n),a.h.apS("responder",r),a.h.map(Object(o.flow)(a.o.map(Sr.get),Jr,t)),o.constVoid)}),[t,n,r]),c=si((function(t){return t.selection.result}));return Object(fi.jsxs)(fi.Fragment,{children:[Object(fi.jsxs)("table",{children:[Object(fi.jsx)("thead",{children:Object(fi.jsxs)("tr",{children:[Object(fi.jsx)(Zc,{children:"Opener"}),Object(fi.jsx)(Zc,{children:"Responder"})]})}),Object(fi.jsxs)("tbody",{children:[Object(fi.jsxs)("tr",{children:[Object(fi.jsx)("td",{children:Object(fi.jsx)(Vc,{type:"opener"})}),Object(fi.jsx)("td",{children:Object(fi.jsx)(Vc,{type:"responder"})})]}),Object(fi.jsxs)("tr",{children:[Object(fi.jsx)("td",{children:Object(fi.jsx)(Gc,{value:n,children:function(t){return Object(fi.jsx)(Mc,{hand:t})}})}),Object(fi.jsx)("td",{children:Object(fi.jsx)(Gc,{value:r,children:function(t){return Object(fi.jsx)(Mc,{hand:t})}})})]})]})]}),Object(fi.jsx)(zc,{}),Object(fi.jsxs)("p",{children:[Object(fi.jsx)("button",{type:"button",onClick:i,children:"Solution"}),c&&Object(fi.jsx)(Tc,{result:c})]})]})},Yc=function(){var t=si((function(t){return hr(t.system,t.settings)})),e=si(oc);return Object(fi.jsxs)("section",{children:[Object(fi.jsx)("h3",{children:"Test Hands"}),Object(fi.jsx)(Xc,{}),Object(fi.jsx)("h4",{children:"Valid System?"}),t.toString(),null!==e&&Object(fi.jsxs)("div",{children:[Object(fi.jsx)("h4",{children:"Results"}),Object(fi.jsx)("ul",{children:e.map((function(t,e){return Object(fi.jsxs)("li",{children:[Object(fi.jsx)(Ac,{path:t.path}),": \xa0",Object(fi.jsx)("span",{children:t.result.toString()})]},e)}))})]})]})},tu=function(){return Object(fi.jsxs)("div",{className:"App",children:[Object(fi.jsxs)("div",{style:{display:"inline-block",width:"50%"},children:[Object(fi.jsx)("div",{style:{float:"left"},children:Object(fi.jsx)(pi,{})}),Object(fi.jsx)("div",{style:{float:"right",width:"300px"},children:Object(fi.jsx)(dc,{})}),Object(fi.jsx)("div",{style:{clear:"both"},children:Object(fi.jsx)(Wc,{})})]}),Object(fi.jsxs)("div",{style:{display:"inline-block",width:"50%",float:"right"},children:[Object(fi.jsxs)("div",{style:{display:"inline-block",float:"right"},children:[Object(fi.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge#documentation",children:"Documentation"}),"\xa0|\xa0",Object(fi.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge/discussions",children:"Share ideas"}),"\xa0|\xa0",Object(fi.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/kdblocher/bridge/issues/new",children:"Report issue"})]}),Object(fi.jsx)(Yc,{}),Object(fi.jsx)(fc,{})]})]})},eu=n(116),nu=n.n(eu),ru=n(603),iu=Object(ru.a)(),cu=Object(s.a)({reducer:cc,middleware:function(t){return[].concat(Object(u.a)(t()),[iu])}});iu.run(uc),nu.a.render(Object(fi.jsx)(jr.a.StrictMode,{children:Object(fi.jsx)(oi.a,{store:cu,children:Object(fi.jsx)(tu,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[595,1,2]]]);
//# sourceMappingURL=main.2c5020d3.chunk.js.map